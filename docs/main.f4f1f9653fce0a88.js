"use strict";(self.webpackChunkcont=self.webpackChunkcont||[]).push([[179],{90:(bs,ar,Qe)=>{Qe.d(ar,{BH:()=>zt,G6:()=>rs,L:()=>ft,LL:()=>z,Pz:()=>Pt,Sg:()=>Gr,UG:()=>ee,ZB:()=>Re,ZR:()=>ne,aH:()=>Xt,b$:()=>Un,eu:()=>H,hl:()=>U,jU:()=>un,m9:()=>Va,ne:()=>Ds,pd:()=>rc,r3:()=>Pr,ru:()=>Jt,tV:()=>te,uI:()=>Kn,vZ:()=>Cs,w1:()=>ns,xO:()=>nc,xb:()=>hi,z$:()=>ot,zd:()=>Li});const qe=function(M){const S=[];let x=0;for(let W=0;W<M.length;W++){let L=M.charCodeAt(W);L<128?S[x++]=L:L<2048?(S[x++]=L>>6|192,S[x++]=63&L|128):55296==(64512&L)&&W+1<M.length&&56320==(64512&M.charCodeAt(W+1))?(L=65536+((1023&L)<<10)+(1023&M.charCodeAt(++W)),S[x++]=L>>18|240,S[x++]=L>>12&63|128,S[x++]=L>>6&63|128,S[x++]=63&L|128):(S[x++]=L>>12|224,S[x++]=L>>6&63|128,S[x++]=63&L|128)}return S},cn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(M,S){if(!Array.isArray(M))throw Error("encodeByteArray takes an array as a parameter");this.init_();const x=S?this.byteToCharMapWebSafe_:this.byteToCharMap_,W=[];for(let L=0;L<M.length;L+=3){const Ie=M[L],be=L+1<M.length,at=be?M[L+1]:0,ct=L+2<M.length,en=ct?M[L+2]:0;let xe=(15&at)<<2|en>>6,Ui=63&en;ct||(Ui=64,be||(xe=64)),W.push(x[Ie>>2],x[(3&Ie)<<4|at>>4],x[xe],x[Ui])}return W.join("")},encodeString(M,S){return this.HAS_NATIVE_SUPPORT&&!S?btoa(M):this.encodeByteArray(qe(M),S)},decodeString(M,S){return this.HAS_NATIVE_SUPPORT&&!S?atob(M):function(M){const S=[];let x=0,W=0;for(;x<M.length;){const L=M[x++];if(L<128)S[W++]=String.fromCharCode(L);else if(L>191&&L<224){const Ie=M[x++];S[W++]=String.fromCharCode((31&L)<<6|63&Ie)}else if(L>239&&L<365){const ct=((7&L)<<18|(63&M[x++])<<12|(63&M[x++])<<6|63&M[x++])-65536;S[W++]=String.fromCharCode(55296+(ct>>10)),S[W++]=String.fromCharCode(56320+(1023&ct))}else{const Ie=M[x++],be=M[x++];S[W++]=String.fromCharCode((15&L)<<12|(63&Ie)<<6|63&be)}}return S.join("")}(this.decodeStringToByteArray(M,S))},decodeStringToByteArray(M,S){this.init_();const x=S?this.charToByteMapWebSafe_:this.charToByteMap_,W=[];for(let L=0;L<M.length;){const Ie=x[M.charAt(L++)],at=L<M.length?x[M.charAt(L)]:0;++L;const en=L<M.length?x[M.charAt(L)]:64;++L;const Me=L<M.length?x[M.charAt(L)]:64;if(++L,null==Ie||null==at||null==en||null==Me)throw new En;W.push(Ie<<2|at>>4),64!==en&&(W.push(at<<4&240|en>>2),64!==Me&&W.push(en<<6&192|Me))}return W},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let M=0;M<this.ENCODED_VALS.length;M++)this.byteToCharMap_[M]=this.ENCODED_VALS.charAt(M),this.charToByteMap_[this.byteToCharMap_[M]]=M,this.byteToCharMapWebSafe_[M]=this.ENCODED_VALS_WEBSAFE.charAt(M),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[M]]=M,M>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(M)]=M,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(M)]=M)}}};class En extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ft=function(M){return function(M){const S=qe(M);return cn.encodeByteArray(S,!0)}(M).replace(/\./g,"")},te=function(M){try{return cn.decodeString(M,!0)}catch(S){console.error("base64Decode failed: ",S)}return null};function Re(M,S){if(!(S instanceof Object))return S;switch(S.constructor){case Date:return new Date(S.getTime());case Object:void 0===M&&(M={});break;case Array:M=[];break;default:return S}for(const x in S)!S.hasOwnProperty(x)||!ht(x)||(M[x]=Re(M[x],S[x]));return M}function ht(M){return"__proto__"!==M}const st=()=>{try{return function At(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const M=process.env.__FIREBASE_DEFAULTS__;return M?JSON.parse(M):void 0})()||(()=>{if(typeof document>"u")return;let M;try{M=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const S=M&&te(M[1]);return S&&JSON.parse(S)})()}catch(M){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${M}`)}},Xt=()=>{var M;return null===(M=st())||void 0===M?void 0:M.config},Pt=M=>{var S;return null===(S=st())||void 0===S?void 0:S[`_${M}`]};class zt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((S,x)=>{this.resolve=S,this.reject=x})}wrapCallback(S){return(x,W)=>{x?this.reject(x):this.resolve(W),"function"==typeof S&&(this.promise.catch(()=>{}),1===S.length?S(x):S(x,W))}}}function Gr(M,S){if(M.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const W=S||"demo-project",L=M.iat||0,Ie=M.sub||M.user_id;if(!Ie)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const be=Object.assign({iss:`https://securetoken.google.com/${W}`,aud:W,iat:L,exp:L+3600,auth_time:L,sub:Ie,user_id:Ie,firebase:{sign_in_provider:"custom",identities:{}}},M);return[ft(JSON.stringify({alg:"none",type:"JWT"})),ft(JSON.stringify(be)),""].join(".")}function ot(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Kn(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ot())}function ee(){var M;const S=null===(M=st())||void 0===M?void 0:M.forceEnvironment;if("node"===S)return!0;if("browser"===S)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function un(){return"object"==typeof self&&self.self===self}function Jt(){const M="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof M&&void 0!==M.id}function Un(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ns(){const M=ot();return M.indexOf("MSIE ")>=0||M.indexOf("Trident/")>=0}function rs(){return!ee()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function U(){try{return"object"==typeof indexedDB}catch{return!1}}function H(){return new Promise((M,S)=>{try{let x=!0;const W="validate-browser-context-for-indexeddb-analytics-module",L=self.indexedDB.open(W);L.onsuccess=()=>{L.result.close(),x||self.indexedDB.deleteDatabase(W),M(!0)},L.onupgradeneeded=()=>{x=!1},L.onerror=()=>{var Ie;S((null===(Ie=L.error)||void 0===Ie?void 0:Ie.message)||"")}}catch(x){S(x)}})}class ne extends Error{constructor(S,x,W){super(x),this.code=S,this.customData=W,this.name="FirebaseError",Object.setPrototypeOf(this,ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,z.prototype.create)}}class z{constructor(S,x,W){this.service=S,this.serviceName=x,this.errors=W}create(S,...x){const W=x[0]||{},L=`${this.service}/${S}`,Ie=this.errors[S],be=Ie?function _e(M,S){return M.replace(Et,(x,W)=>{const L=S[W];return null!=L?String(L):`<${W}?>`})}(Ie,W):"Error";return new ne(L,`${this.serviceName}: ${be} (${L}).`,W)}}const Et=/\{\$([^}]+)}/g;function Pr(M,S){return Object.prototype.hasOwnProperty.call(M,S)}function hi(M){for(const S in M)if(Object.prototype.hasOwnProperty.call(M,S))return!1;return!0}function Cs(M,S){if(M===S)return!0;const x=Object.keys(M),W=Object.keys(S);for(const L of x){if(!W.includes(L))return!1;const Ie=M[L],be=S[L];if(Cn(Ie)&&Cn(be)){if(!Cs(Ie,be))return!1}else if(Ie!==be)return!1}for(const L of W)if(!x.includes(L))return!1;return!0}function Cn(M){return null!==M&&"object"==typeof M}function nc(M){const S=[];for(const[x,W]of Object.entries(M))Array.isArray(W)?W.forEach(L=>{S.push(encodeURIComponent(x)+"="+encodeURIComponent(L))}):S.push(encodeURIComponent(x)+"="+encodeURIComponent(W));return S.length?"&"+S.join("&"):""}function Li(M){const S={};return M.replace(/^\?/,"").split("&").forEach(W=>{if(W){const[L,Ie]=W.split("=");S[decodeURIComponent(L)]=decodeURIComponent(Ie)}}),S}function rc(M){const S=M.indexOf("?");if(!S)return"";const x=M.indexOf("#",S);return M.substring(S,x>0?x:void 0)}function Ds(M,S){const x=new zs(M,S);return x.subscribe.bind(x)}class zs{constructor(S,x){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=x,this.task.then(()=>{S(this)}).catch(W=>{this.error(W)})}next(S){this.forEachObserver(x=>{x.next(S)})}error(S){this.forEachObserver(x=>{x.error(S)}),this.close(S)}complete(){this.forEachObserver(S=>{S.complete()}),this.close()}subscribe(S,x,W){let L;if(void 0===S&&void 0===x&&void 0===W)throw new Error("Missing Observer.");L=function ko(M,S){if("object"!=typeof M||null===M)return!1;for(const x of S)if(x in M&&"function"==typeof M[x])return!0;return!1}(S,["next","error","complete"])?S:{next:S,error:x,complete:W},void 0===L.next&&(L.next=Wt),void 0===L.error&&(L.error=Wt),void 0===L.complete&&(L.complete=Wt);const Ie=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?L.error(this.finalError):L.complete()}catch{}}),this.observers.push(L),Ie}unsubscribeOne(S){void 0===this.observers||void 0===this.observers[S]||(delete this.observers[S],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(S){if(!this.finalized)for(let x=0;x<this.observers.length;x++)this.sendOne(x,S)}sendOne(S,x){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[S])try{x(this.observers[S])}catch(W){typeof console<"u"&&console.error&&console.error(W)}})}close(S){this.finalized||(this.finalized=!0,void 0!==S&&(this.finalError=S),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wt(){}function Va(M){return M&&M._delegate?M._delegate:M}},558:(bs,ar,Qe)=>{function w(n){return"function"==typeof n}function He(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const G=He(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function qe(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Tt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(w(r))try{r()}catch(s){e=s instanceof G?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{lr(s)}catch(o){e=e??[],o instanceof G?e=[...e,...o.errors]:e.push(o)}}if(e)throw new G(e)}}add(e){var t;if(e&&e!==this)if(this.closed)lr(e);else{if(e instanceof Tt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&qe(t,e)}remove(e){const{_finalizers:t}=this;t&&qe(t,e),e instanceof Tt&&e._removeParent(this)}}Tt.EMPTY=(()=>{const n=new Tt;return n.closed=!0,n})();const cn=Tt.EMPTY;function En(n){return n instanceof Tt||n&&"closed"in n&&w(n.remove)&&w(n.add)&&w(n.unsubscribe)}function lr(n){w(n)?n():n.unsubscribe()}const ft={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},te={setTimeout(n,e,...t){const{delegate:r}=te;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=te;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ce(n){te.setTimeout(()=>{const{onUnhandledError:e}=ft;if(!e)throw n;e(n)})}function Re(){}const ht=xt("C",void 0,void 0);function xt(n,e,t){return{kind:n,value:e,error:t}}let Ke=null;function st(n){if(ft.useDeprecatedSynchronousErrorHandling){const e=!Ke;if(e&&(Ke={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Ke;if(Ke=null,t)throw r}}else n()}class dr extends Tt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,En(e)&&e.add(this)):this.destination=un}static create(e,t,r){return new Gr(e,t,r)}next(e){this.isStopped?ee(function cr(n){return xt("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?ee(function At(n){return xt("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ee(ht,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Xt=Function.prototype.bind;function Pt(n,e){return Xt.call(n,e)}class zt{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){ot(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){ot(r)}else ot(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){ot(t)}}}class Gr extends dr{constructor(e,t,r){let i;if(super(),w(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&ft.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Pt(e.next,s),error:e.error&&Pt(e.error,s),complete:e.complete&&Pt(e.complete,s)}):i=e}this.destination=new zt(i)}}function ot(n){ft.useDeprecatedSynchronousErrorHandling?function ur(n){ft.useDeprecatedSynchronousErrorHandling&&Ke&&(Ke.errorThrown=!0,Ke.error=n)}(n):ce(n)}function ee(n,e){const{onStoppedNotification:t}=ft;t&&te.setTimeout(()=>t(n,e))}const un={closed:!0,next:Re,error:function Kn(n){throw n},complete:Re},Jt="function"==typeof Symbol&&Symbol.observable||"@@observable";function Un(n){return n}function ns(n){return 0===n.length?Un:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let tt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function U(n){return n&&n instanceof dr||function rs(n){return n&&w(n.next)&&w(n.error)&&w(n.complete)}(n)&&En(n)}(t)?t:new Gr(t,r,i);return st(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=No(r))((i,s)=>{const o=new Gr({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Jt](){return this}pipe(...t){return ns(t)(this)}toPromise(t){return new(t=No(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function No(n){var e;return null!==(e=n??ft.Promise)&&void 0!==e?e:Promise}const H=He(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let j=(()=>{class n extends tt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Q(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new H}next(t){st(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){st(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){st(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?cn:(this.currentObservers=null,s.push(t),new Tt(()=>{this.currentObservers=null,qe(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new tt;return t.source=this,t}}return n.create=(e,t)=>new Q(e,t),n})();class Q extends j{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:cn}}function ne(n){return w(n?.lift)}function z(n){return e=>{if(ne(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function _e(n,e,t,r,i){return new Et(n,e,t,r,i)}class Et extends dr{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ye(n,e){return z((t,r)=>{let i=0;t.subscribe(_e(r,s=>{r.next(n.call(e,s,i++))}))})}var Oe=Qe(582);const bt=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function dn(n){return w(n?.then)}function Gt(n){return w(n[Jt])}function vr(n){return Symbol.asyncIterator&&w(n?.[Symbol.asyncIterator])}function Zn(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Wr=function Pr(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function hi(n){return w(n?.[Wr])}function tc(n){return(0,Oe.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield(0,Oe.qq)(t.read());if(i)return yield(0,Oe.qq)(void 0);yield yield(0,Oe.qq)(r)}}finally{t.releaseLock()}})}function Cs(n){return w(n?.getReader)}function Cn(n){if(n instanceof tt)return n;if(null!=n){if(Gt(n))return function Pa(n){return new tt(e=>{const t=n[Jt]();if(w(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(bt(n))return function nc(n){return new tt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(dn(n))return function Li(n){return new tt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ce)})}(n);if(vr(n))return Kr(n);if(hi(n))return function rc(n){return new tt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Cs(n))return function Ds(n){return Kr(tc(n))}(n)}throw Zn(n)}function Kr(n){return new tt(e=>{(function zs(n,e){var t,r,i,s;return(0,Oe.mG)(this,void 0,void 0,function*(){try{for(t=(0,Oe.KL)(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Er(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Wt(n,e,t=1/0){return w(e)?Wt((r,i)=>ye((s,o)=>e(r,s,i,o))(Cn(n(r,i))),t):("number"==typeof e&&(t=e),z((r,i)=>function ko(n,e,t,r,i,s,o,a){const l=[];let d=0,h=0,m=!1;const g=()=>{m&&!l.length&&!d&&e.complete()},y=b=>d<r?E(b):l.push(b),E=b=>{s&&e.next(b),d++;let C=!1;Cn(t(b,h++)).subscribe(_e(e,k=>{i?.(k),s?y(k):e.next(k)},()=>{C=!0},void 0,()=>{if(C)try{for(d--;l.length&&d<r;){const k=l.shift();o?Er(e,o,()=>E(k)):E(k)}g()}catch(k){e.error(k)}}))};return n.subscribe(_e(e,y,()=>{m=!0,g()})),()=>{a?.()}}(r,i,n,t)))}function Bi(n=1/0){return Wt(Un,n)}const Qn=new tt(n=>n.complete());function fi(n){return n&&w(n.schedule)}function qs(n){return n[n.length-1]}function ka(n){return w(qs(n))?n.pop():void 0}function Gs(n){return fi(qs(n))?n.pop():void 0}function Nr(n,e=0){return z((t,r)=>{t.subscribe(_e(r,i=>Er(r,n,()=>r.next(i),e),()=>Er(r,n,()=>r.complete(),e),i=>Er(r,n,()=>r.error(i),e)))})}function Zr(n,e=0){return z((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Va(n,e){if(!n)throw new Error("Iterable cannot be null");return new tt(t=>{Er(t,e,()=>{const r=n[Symbol.asyncIterator]();Er(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function x(n,e){return e?function S(n,e){if(null!=n){if(Gt(n))return function Ws(n,e){return Cn(n).pipe(Zr(e),Nr(e))}(n,e);if(bt(n))return function Ru(n,e){return new tt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(dn(n))return function Fa(n,e){return Cn(n).pipe(Zr(e),Nr(e))}(n,e);if(vr(n))return Va(n,e);if(hi(n))return function ic(n,e){return new tt(t=>{let r;return Er(t,e,()=>{r=n[Wr](),Er(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>w(r?.return)&&r.return()})}(n,e);if(Cs(n))return function M(n,e){return Va(tc(n),e)}(n,e)}throw Zn(n)}(n,e):Cn(n)}function W(...n){const e=Gs(n),t=function Oa(n,e){return"number"==typeof qs(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Cn(r[0]):Bi(t)(x(r,e)):Qn}function L(n={}){const{connector:e=(()=>new j),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,l,d=0,h=!1,m=!1;const g=()=>{a?.unsubscribe(),a=void 0},y=()=>{g(),o=l=void 0,h=m=!1},E=()=>{const b=o;y(),b?.unsubscribe()};return z((b,C)=>{d++,!m&&!h&&g();const k=l=l??e();C.add(()=>{d--,0===d&&!m&&!h&&(a=Ie(E,i))}),k.subscribe(C),!o&&d>0&&(o=new Gr({next:B=>k.next(B),error:B=>{m=!0,g(),a=Ie(y,t,B),k.error(B)},complete:()=>{h=!0,g(),a=Ie(y,r),k.complete()}}),Cn(b).subscribe(o))})(s)}}function Ie(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Gr({next:()=>{r.unsubscribe(),n()}});return Cn(e(...t)).subscribe(r)}function be(n){for(let e in n)if(n[e]===be)return e;throw Error("Could not find renamed property on target object.")}function at(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ct(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ct).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function en(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Yn=be({__forward_ref__:be});function Me(n){return n.__forward_ref__=Me,n.toString=function(){return ct(this())},n}function xe(n){return Ui(n)?n():n}function Ui(n){return"function"==typeof n&&n.hasOwnProperty(Yn)&&n.__forward_ref__===Me}function is(n){return n&&!!n.\u0275providers}class I extends Error{constructor(e,t){super(ae(e,t)),this.code=e}}function ae(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function ie(n){return"string"==typeof n?n:null==n?"":String(n)}function Kt(n,e){throw new I(-201,!1)}function Ai(n,e){null==n&&function Ft(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function we(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Zt(n){return{providers:n.providers||[],imports:n.imports||[]}}function xu(n){return u_(n,oc)||u_(n,hf)}function u_(n,e){return n.hasOwnProperty(e)?n[e]:null}function uf(n){return n&&(n.hasOwnProperty(df)||n.hasOwnProperty(fI))?n[df]:null}const oc=be({\u0275prov:be}),df=be({\u0275inj:be}),hf=be({ngInjectableDef:be}),fI=be({ngInjectorDef:be});var Be=(()=>((Be=Be||{})[Be.Default=0]="Default",Be[Be.Host=1]="Host",Be[Be.Self=2]="Self",Be[Be.SkipSelf=4]="SkipSelf",Be[Be.Optional=8]="Optional",Be))();let Pu;function Ri(n){const e=Pu;return Pu=n,e}function Nu(n,e,t){const r=xu(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Be.Optional?null:void 0!==e?e:void Kt(ct(n))}const Ut=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Oo={},La="__NG_DI_FLAG__",Ba="ngTempTokenPath",pI="ngTokenPath",pf=/\n/gm,mI="\u0275",ku="__source";let ac;function Ks(n){const e=ac;return ac=n,e}function gI(n,e=Be.Default){if(void 0===ac)throw new I(-203,!1);return null===ac?Nu(n,void 0,e):ac.get(n,e&Be.Optional?null:void 0,e)}function Y(n,e=Be.Default){return(function ff(){return Pu}()||gI)(xe(n),e)}function Ye(n,e=Be.Default){return Y(n,Ou(e))}function Ou(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function lc(n){const e=[];for(let t=0;t<n.length;t++){const r=xe(n[t]);if(Array.isArray(r)){if(0===r.length)throw new I(900,!1);let i,s=Be.Default;for(let o=0;o<r.length;o++){const a=r[o],l=Ss(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(Y(i,s))}else e.push(Y(r))}return e}function Ts(n,e){return n[La]=e,n.prototype[La]=e,n}function Ss(n){return n[La]}function Xn(n){return{toString:n}.toString()}var os=(()=>((os=os||{})[os.OnPush=0]="OnPush",os[os.Default=1]="Default",os))(),pi=(()=>{return(n=pi||(pi={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",pi;var n})();const As={},St=[],Fu=be({\u0275cmp:be}),cc=be({\u0275dir:be}),gf=be({\u0275pipe:be}),f_=be({\u0275mod:be}),$i=be({\u0275fac:be}),ji=be({__NG_ELEMENT_ID__:be});let yI=0;function Qt(n){return Xn(()=>{const e=yf(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===os.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||pi.Emulated,id:"c"+yI++,styles:n.styles||St,_:null,schemas:n.schemas||null,tView:null};vf(t);const r=n.dependencies;return t.directiveDefs=ja(r,!1),t.pipeDefs=ja(r,!0),t})}function AR(n){return kt(n)||wr(n)}function _f(n){return null!==n}function Vt(n){return Xn(()=>({type:n.type,bootstrap:n.bootstrap||St,declarations:n.declarations||St,imports:n.imports||St,exports:n.exports||St,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Fo(n,e){if(null==n)return As;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function ue(n){return Xn(()=>{const e=yf(n);return vf(e),e})}function kr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function kt(n){return n[Fu]||null}function wr(n){return n[cc]||null}function jn(n){return n[gf]||null}function Ir(n,e){const t=n[f_]||null;if(!t&&!0===e)throw new Error(`Type ${ct(n)} does not have '\u0275mod' property.`);return t}function yf(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||St,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Fo(n.inputs,e),outputs:Fo(n.outputs)}}function vf(n){n.features?.forEach(e=>e(n))}function ja(n,e){if(!n)return null;const t=e?jn:AR;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(_f)}const Mn=0,De=1,rt=2,nn=3,Qr=4,Zs=5,hr=6,Ha=7,hn=8,za=9,qa=10,Xe=11,dc=12,Ga=13,Vu=14,Vo=15,Jn=16,Qs=17,Ys=18,Hi=19,Lo=20,Ef=21,$t=22,hc=1,p_=2,Wa=7,Xs=8,Js=9,fr=10;function Or(n){return Array.isArray(n)&&"object"==typeof n[hc]}function mi(n){return Array.isArray(n)&&!0===n[hc]}function If(n){return 0!=(4&n.flags)}function Bo(n){return n.componentOffset>-1}function Lu(n){return 1==(1&n.flags)}function gi(n){return!!n.template}function vI(n){return 0!=(256&n[rt])}function Rs(n,e){return n.hasOwnProperty($i)?n[$i]:null}class EI{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function er(){return C_}function C_(n){return n.type.prototype.ngOnChanges&&(n.setInput=wI),Cf}function Cf(){const n=Df(this),e=n?.current;if(e){const t=n.previous;if(t===As)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function wI(n,e,t,r){const i=this.declaredInputs[t],s=Df(n)||function Tf(n,e){return n[D_]=e}(n,{previous:As,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new EI(l&&l.currentValue,e,a===As),n[r]=e}er.ngInherit=!0;const D_="__ngSimpleChanges__";function Df(n){return n[D_]||null}const _i=function(n,e,t){},T_="svg";function pr(n){for(;Array.isArray(n);)n=n[Mn];return n}function Uu(n,e){return pr(e[n])}function Mi(n,e){return pr(e[n.index])}function bI(n,e){return n.data[e]}function Yr(n,e){const t=e[n];return Or(t)?t:t[Mn]}function Af(n){return 64==(64&n[rt])}function Uo(n,e){return null==e?null:n[e]}function DI(n){n[Ys]=0}function A_(n,e){n[Zs]+=e;let t=n,r=n[nn];for(;null!==r&&(1===e&&1===t[Zs]||-1===e&&0===t[Zs]);)r[Zs]+=e,t=r,r=r[nn]}const Je={lFrame:x_(null),bindingsEnabled:!0};function R_(){return Je.bindingsEnabled}function se(){return Je.lFrame.lView}function _t(){return Je.lFrame.tView}function wn(n){return Je.lFrame.contextLView=n,n[hn]}function xn(n){return Je.lFrame.contextLView=null,n}function Pn(){let n=Mf();for(;null!==n&&64===n.type;)n=n.parent;return n}function Mf(){return Je.lFrame.currentTNode}function as(n,e){const t=Je.lFrame;t.currentTNode=n,t.isParent=e}function xf(){return Je.lFrame.isParent}function M_(){Je.lFrame.isParent=!1}function Ya(){return Je.lFrame.bindingIndex++}function MI(n,e){const t=Je.lFrame;t.bindingIndex=t.bindingRootIndex=n,Nf(e)}function Nf(n){Je.lFrame.currentDirectiveIndex=n}function Of(){return Je.lFrame.currentQueryIndex}function Ff(n){Je.lFrame.currentQueryIndex=n}function zu(n){const e=n[De];return 2===e.type?e.declTNode:1===e.type?n[hr]:null}function Vf(n,e,t){if(t&Be.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&Be.Host||(i=zu(s),null===i||(s=s[Vo],10&i.type))););if(null===i)return!1;e=i,n=s}const r=Je.lFrame=pc();return r.currentTNode=e,r.lView=n,!0}function $o(n){const e=pc(),t=n[De];Je.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function pc(){const n=Je.lFrame,e=null===n?null:n.child;return null===e?x_(n):e}function x_(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function qu(){const n=Je.lFrame;return Je.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Lf=qu;function mc(){const n=qu();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function br(){return Je.lFrame.selectedIndex}function jo(n){Je.lFrame.selectedIndex=n}function fn(){const n=Je.lFrame;return bI(n.tView,n.selectedIndex)}function Gu(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:h}=s;o&&(n.contentHooks??(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks??(n.contentHooks=[])).push(t,a),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks??(n.viewHooks=[])).push(-t,l),d&&((n.viewHooks??(n.viewHooks=[])).push(t,d),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(t,d)),null!=h&&(n.destroyHooks??(n.destroyHooks=[])).push(t,h)}}function Ho(n,e,t){N_(n,e,3,t)}function Wu(n,e,t,r){(3&n[rt])===t&&N_(n,e,t,r)}function Uf(n,e){let t=n[rt];(3&t)===e&&(t&=2047,t+=1,n[rt]=t)}function N_(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[Ys]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[Ys]+=65536),(a<s||-1==s)&&($f(n,t,e,l),n[Ys]=(4294901760&n[Ys])+l+2),l++}function $f(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[rt]>>11<n[Ys]>>16&&(3&n[rt])===e){n[rt]+=2048,_i(4,a,s);try{s.call(a)}finally{_i(5,a,s)}}}else{_i(4,a,s);try{s.call(a)}finally{_i(5,a,s)}}}const Ja=-1;class gc{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Hf(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];O_(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function Ku(n){return 3===n||4===n||6===n}function O_(n){return 64===n.charCodeAt(0)}function zo(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||F_(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function F_(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function Zu(n){return n!==Ja}function qo(n){return 32767&n}function Qu(n,e){let t=function zf(n){return n>>16}(n),r=e;for(;t>0;)r=r[Vo],t--;return r}let _c=!0;function to(n){const e=_c;return _c=n,e}const Yu=255,V_=5;let UI=0;const ls={};function yc(n,e){const t=L_(n,e);if(-1!==t)return t;const r=e[De];r.firstCreatePass&&(n.injectorIndex=e.length,Gf(r.data,n),Gf(e,null),Gf(r.blueprint,null));const i=vc(n,e),s=n.injectorIndex;if(Zu(i)){const o=qo(i),a=Qu(i,e),l=a[De].data;for(let d=0;d<8;d++)e[s+d]=a[o+d]|l[o+d]}return e[s+8]=i,s}function Gf(n,e){n.push(0,0,0,0,0,0,0,0,e)}function L_(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function vc(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=$_(i),null===r)return Ja;if(t++,i=i[Vo],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Ja}function Wf(n,e,t){!function qf(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(ji)&&(r=t[ji]),null==r&&(r=t[ji]=UI++);const i=r&Yu;e.data[n+(i>>V_)]|=1<<i}(n,e,t)}function B_(n,e,t){if(t&Be.Optional||void 0!==n)return n;Kt()}function Xu(n,e,t,r){if(t&Be.Optional&&void 0===r&&(r=null),!(t&(Be.Self|Be.Host))){const i=n[za],s=Ri(void 0);try{return i?i.get(e,r,t&Be.Optional):Nu(e,r,t&Be.Optional)}finally{Ri(s)}}return B_(r,0,t)}function Ju(n,e,t,r=Be.Default,i){if(null!==n){if(1024&e[rt]){const o=function $I(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[rt]&&!(256&o[rt]);){const a=U_(s,o,t,r|Be.Self,ls);if(a!==ls)return a;let l=s.parent;if(!l){const d=o[Ef];if(d){const h=d.get(t,ls,r);if(h!==ls)return h}l=$_(o),o=o[Vo]}s=l}return i}(n,e,t,r,ls);if(o!==ls)return o}const s=U_(n,e,t,r,ls);if(s!==ls)return s}return Xu(e,t,r,i)}function U_(n,e,t,r,i){const s=function Zf(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(ji)?n[ji]:void 0;return"number"==typeof e?e>=0?e&Yu:Qf:e}(t);if("function"==typeof s){if(!Vf(e,n,r))return r&Be.Host?B_(i,0,r):Xu(e,t,r,i);try{const o=s(r);if(null!=o||r&Be.Optional)return o;Kt()}finally{Lf()}}else if("number"==typeof s){let o=null,a=L_(n,e),l=Ja,d=r&Be.Host?e[Jn][hr]:null;for((-1===a||r&Be.SkipSelf)&&(l=-1===a?vc(n,e):e[a+8],l!==Ja&&nd(r,!1)?(o=e[De],a=qo(l),e=Qu(l,e)):a=-1);-1!==a;){const h=e[De];if(td(s,a,h.data)){const m=Ec(a,e,t,o,r,d);if(m!==ls)return m}l=e[a+8],l!==Ja&&nd(r,e[De].data[a+8]===d)&&td(s,a,e)?(o=h,a=qo(l),e=Qu(l,e)):a=-1}}return i}function Ec(n,e,t,r,i,s){const o=e[De],a=o.data[n+8],h=ed(a,o,t,null==r?Bo(a)&&_c:r!=o&&0!=(3&a.type),i&Be.Host&&s===a);return null!==h?Go(e,o,h,a):ls}function ed(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,h=s>>20,g=i?a+h:n.directiveEnd;for(let y=r?a:a+h;y<g;y++){const E=o[y];if(y<l&&t===E||y>=l&&E.type===t)return y}if(i){const y=o[l];if(y&&gi(y)&&y.type===t)return l}return null}function Go(n,e,t,r){let i=n[t];const s=e.data;if(function FI(n){return n instanceof gc}(i)){const o=i;o.resolving&&function gt(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new I(-200,`Circular dependency in DI detected for ${n}${t}`)}(function ve(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ie(n)}(s[t]));const a=to(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Ri(o.injectImpl):null;Vf(n,r,Be.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function OI(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=C_(e);(t.preOrderHooks??(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks??(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==l&&Ri(l),to(a),o.resolving=!1,Lf()}}return i}function td(n,e,t){return!!(t[e+(n>>V_)]&1<<n)}function nd(n,e){return!(n&Be.Self||n&Be.Host&&e)}class tl{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Ju(this._tNode,this._lView,e,Ou(r),t)}}function Qf(){return new tl(Pn(),se())}function Ct(n){return Xn(()=>{const e=n.prototype.constructor,t=e[$i]||rd(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[$i]||rd(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function rd(n){return Ui(n)?()=>{const e=rd(xe(n));return e&&e()}:Rs(n)}function $_(n){const e=n[De],t=e.type;return 2===t?e.declTNode:1===t?n[hr]:null}const rl="__parameters__";function ro(n,e,t){return Xn(()=>{const r=function Yf(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,d,h){const m=l.hasOwnProperty(rl)?l[rl]:Object.defineProperty(l,rl,{value:[]})[rl];for(;m.length<=h;)m.push(null);return(m[h]=m[h]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class de{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=we({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ko(n,e){n.forEach(t=>Array.isArray(t)?Ko(t,e):e(t))}function tp(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function id(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function io(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function yi(n,e,t){let r=il(n,e);return r>=0?n[1|r]=t:(r=~r,function KI(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function np(n,e){const t=il(n,e);if(t>=0)return n[1|t]}function il(n,e){return function sd(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const ad=Ts(ro("Inject",n=>({token:n})),-1),so=Ts(ro("Optional"),8),oo=Ts(ro("SkipSelf"),4);var Xr=(()=>((Xr=Xr||{})[Xr.Important=1]="Important",Xr[Xr.DashCase=2]="DashCase",Xr))();const mp=new Map;let hd=0;const Qo="__ngContext__";function Cr(n,e){Or(e)?(n[Qo]=e[Lo],function ub(n){mp.set(n[Lo],n)}(e)):n[Qo]=e}let Ep;function Vr(n,e){return Ep(n,e)}function al(n){const e=n[nn];return mi(e)?e[nn]:e}function Dc(n){return bp(n[Ga])}function Ip(n){return bp(n[Qr])}function bp(n){for(;null!==n&&!mi(n);)n=n[Qr];return n}function ll(n,e,t,r,i){if(null!=r){let s,o=!1;mi(r)?s=r:Or(r)&&(o=!0,r=r[Mn]);const a=pr(r);0===n&&null!==t?null==i?my(e,t,a):Xo(e,t,a,i||null,!0):1===n&&null!==t?Xo(e,t,a,i||null,!0):2===n?function cl(n,e,t){const r=p(n,e);r&&function c(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function xp(n,e,t,r,i){const s=t[Wa];s!==pr(t)&&ll(e,n,r,s,i);for(let a=fr;a<t.length;a++){const l=t[a];Jo(l[De],l,n,e,r,s)}}(e,n,s,t,i)}}function Dp(n,e,t){return n.createElement(e,t)}function us(n,e){const t=n[Js],r=t.indexOf(e),i=e[nn];512&e[rt]&&(e[rt]&=-513,A_(i,-1)),t.splice(r,1)}function Yo(n,e){if(n.length<=fr)return;const t=fr+e,r=n[t];if(r){const i=r[Qs];null!==i&&i!==n&&us(i,r),e>0&&(n[t-1][Qr]=r[Qr]);const s=id(n,fr+e);!function gb(n,e){Jo(n,e,e[Xe],2,null,null),e[Mn]=null,e[hr]=null}(r[De],r);const o=s[Hi];null!==o&&o.detachView(s[De]),r[nn]=null,r[Qr]=null,r[rt]&=-65}return r}function Ap(n,e){if(!(128&e[rt])){const t=e[Xe];t.destroyNode&&Jo(n,e,t,3,null,null),function Tp(n){let e=n[Ga];if(!e)return pd(n[De],n);for(;e;){let t=null;if(Or(e))t=e[Ga];else{const r=e[fr];r&&(t=r)}if(!t){for(;e&&!e[Qr]&&e!==n;)Or(e)&&pd(e[De],e),e=e[nn];null===e&&(e=n),Or(e)&&pd(e[De],e),t=e&&e[Qr]}e=t}}(e)}}function pd(n,e){if(!(128&e[rt])){e[rt]&=-65,e[rt]|=128,function Rp(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof gc)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];_i(4,a,l);try{l.call(a)}finally{_i(5,a,l)}}else{_i(4,i,s);try{s.call(i)}finally{_i(5,i,s)}}}}}(n,e),function yb(n,e){const t=n.cleanup,r=e[Ha];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[Ha]=null}}(n,e),1===e[De].type&&e[Xe].destroy();const t=e[Qs];if(null!==t&&mi(e[nn])){t!==e[nn]&&us(t,e);const r=e[Hi];null!==r&&r.detachView(n)}!function oy(n){mp.delete(n[Lo])}(e)}}function fy(n,e,t){return function py(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[Mn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===pi.None||s===pi.Emulated)return null}return Mi(r,t)}}(n,e.parent,t)}function Xo(n,e,t,r,i){n.insertBefore(e,t,r,i)}function my(n,e,t){n.appendChild(e,t)}function f(n,e,t,r,i){null!==r?Xo(n,e,t,r,i):my(n,e,t)}function p(n,e){return n.parentNode(e)}function v(n,e,t){return F(n,e,t)}let K,vb,F=function R(n,e,t){return 40&n.type?Mi(n,t):null};function Te(n,e,t,r){const i=fy(n,r,e),s=e[Xe],a=v(r.parent||e[hr],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)f(s,i,t[l],a,!1);else f(s,i,t,a,!1);void 0!==K&&K(s,r,e,t,i)}function Se(n,e){if(null!==e){const t=e.type;if(3&t)return Mi(e,n);if(4&t)return vi(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Se(n,r);{const i=n[e.index];return mi(i)?vi(-1,i):pr(i)}}if(32&t)return Vr(e,n)()||pr(n[e.index]);{const r=rn(n,e);return null!==r?Array.isArray(r)?r[0]:Se(al(n[Jn]),r):Se(n,e.next)}}return null}function rn(n,e){return null!==e?n[Jn][hr].projection[e.projection]:null}function vi(n,e){const t=fr+n+1;if(t<e.length){const r=e[t],i=r[De].firstChild;if(null!==i)return Se(r,i)}return e[Wa]}function md(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&Cr(pr(a),r),t.flags|=2),32!=(32&t.flags))if(8&l)md(n,e,t.child,r,i,s,!1),ll(e,n,i,a,s);else if(32&l){const d=Vr(t,r);let h;for(;h=d();)ll(e,n,i,h,s);ll(e,n,i,a,s)}else 16&l?Mp(n,e,r,t,i,s):ll(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Jo(n,e,t,r,i,s){md(t,r,n.firstChild,e,i,s,!1)}function Mp(n,e,t,r,i,s){const o=t[Jn],l=o[hr].projection[r.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++)ll(e,n,i,l[d],s);else md(n,e,l,o[nn],i,s,!0)}function gd(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Pp(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&Hf(n,e,r),null!==i&&gd(n,e,i),null!==s&&function yy(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}class iM{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const wy=new de("ENVIRONMENT_INITIALIZER"),pM=new de("INJECTOR",-1),mM=new de("INJECTOR_DEF_TYPES");class gM{get(e,t=Oo){if(t===Oo){const r=new Error(`NullInjectorError: No provider for ${ct(e)}!`);throw r.name="NullInjectorError",r}return t}}function V4(...n){return{\u0275providers:_M(0,n),\u0275fromNgModule:!0}}function _M(n,...e){const t=[],r=new Set;let i;return Ko(e,s=>{const o=s;Db(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&yM(i,t),t}function yM(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];Tb(i,s=>{e.push(s)})}}function Db(n,e,t,r){if(!(n=xe(n)))return!1;let i=null,s=uf(n);const o=!s&&kt(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const l=n.ngModule;if(s=uf(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const d of l)Db(d,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let d;r.add(i);try{Ko(s.imports,h=>{Db(h,e,t,r)&&(d||(d=[]),d.push(h))})}finally{}void 0!==d&&yM(d,e)}if(!a){const d=Rs(i)||(()=>new i);e.push({provide:i,useFactory:d,deps:St},{provide:mM,useValue:i,multi:!0},{provide:wy,useValue:()=>Y(i),multi:!0})}const l=s.providers;null==l||a||Tb(l,h=>{e.push(h)})}}return i!==n&&void 0!==n.providers}function Tb(n,e){for(let t of n)is(t)&&(t=t.\u0275providers),Array.isArray(t)?Tb(t,e):e(t)}const L4=be({provide:String,useValue:be});function Sb(n){return null!==n&&"object"==typeof n&&L4 in n}function Sc(n){return"function"==typeof n}const Ab=new de("Set Injector scope."),Iy={},U4={};let Rb;function by(){return void 0===Rb&&(Rb=new gM),Rb}class ta{}class wM extends ta{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,xb(e,o=>this.processProvider(o)),this.records.set(pM,yd(void 0,this)),i.has("environment")&&this.records.set(ta,yd(void 0,this));const s=this.records.get(Ab);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(mM.multi,St,Be.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Ks(this),r=Ri(void 0);try{return e()}finally{Ks(t),Ri(r)}}get(e,t=Oo,r=Be.Default){this.assertNotDestroyed(),r=Ou(r);const i=Ks(this),s=Ri(void 0);try{if(!(r&Be.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function q4(n){return"function"==typeof n||"object"==typeof n&&n instanceof de}(e)&&xu(e);a=l&&this.injectableDefInScope(l)?yd(Mb(e),Iy):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&Be.Self?by():this.parent).get(e,t=r&Be.Optional&&t===Oo?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Ba]=o[Ba]||[]).unshift(ct(e)),i)throw o;return function mf(n,e,t,r){const i=n[Ba];throw e[ku]&&i.unshift(e[ku]),n.message=function _I(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==mI?n.slice(2):n;let i=ct(e);if(Array.isArray(e))i=e.map(ct).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ct(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(pf,"\n  ")}`}("\n"+n.message,i,t,r),n[pI]=i,n[Ba]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{Ri(s),Ks(i)}}resolveInjectorInitializers(){const e=Ks(this),t=Ri(void 0);try{const r=this.get(wy.multi,St,Be.Self);for(const i of r)i()}finally{Ks(e),Ri(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(ct(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new I(205,!1)}processProvider(e){let t=Sc(e=xe(e))?e:xe(e&&e.provide);const r=function j4(n){return Sb(n)?yd(void 0,n.useValue):yd(IM(n),Iy)}(e);if(Sc(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=yd(void 0,Iy,!0),i.factory=()=>lc(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Iy&&(t.value=U4,t.value=t.factory()),"object"==typeof t.value&&t.value&&function z4(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=xe(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function Mb(n){const e=xu(n),t=null!==e?e.factory:Rs(n);if(null!==t)return t;if(n instanceof de)throw new I(204,!1);if(n instanceof Function)return function $4(n){const e=n.length;if(e>0)throw io(e,"?"),new I(204,!1);const t=function hI(n){return n&&(n[oc]||n[hf])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new I(204,!1)}function IM(n,e,t){let r;if(Sc(n)){const i=xe(n);return Rs(i)||Mb(i)}if(Sb(n))r=()=>xe(n.useValue);else if(function EM(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...lc(n.deps||[]));else if(function vM(n){return!(!n||!n.useExisting)}(n))r=()=>Y(xe(n.useExisting));else{const i=xe(n&&(n.useClass||n.provide));if(!function H4(n){return!!n.deps}(n))return Rs(i)||Mb(i);r=()=>new i(...lc(n.deps))}return r}function yd(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function xb(n,e){for(const t of n)Array.isArray(t)?xb(t,e):t&&is(t)?xb(t.\u0275providers,e):e(t)}class G4{}class bM{}class K4{resolveComponentFactory(e){throw function W4(n){const e=Error(`No component factory found for ${ct(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Fp=(()=>{class n{}return n.NULL=new K4,n})();function Z4(){return vd(Pn(),se())}function vd(n,e){return new sn(Mi(n,e))}let sn=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=Z4,n})();function Q4(n){return n instanceof sn?n.nativeElement:n}class Vp{}let na=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Y4(){const n=se(),t=Yr(Pn().index,n);return(Or(t)?t:n)[Xe]}(),n})(),X4=(()=>{class n{}return n.\u0275prov=we({token:n,providedIn:"root",factory:()=>null}),n})();class hl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const DM=new hl("15.2.10"),Pb={},Nb="ngOriginalError";function kb(n){return n[Nb]}class Ed{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&kb(e);for(;t&&kb(t);)t=kb(t);return t||null}}function ra(n){return n instanceof Function?n():n}function SM(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const AM="ng-template";function c$(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==SM(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function RM(n){return 4===n.type&&n.value!==AM}function u$(n,e,t){return e===(4!==n.type||t?n.value:AM)}function d$(n,e,t){let r=4;const i=n.attrs||[],s=function p$(n){for(let e=0;e<n.length;e++)if(Ku(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!u$(n,l,t)||""===l&&1===e.length){if(Ps(r))return!1;o=!0}}else{const d=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!c$(n.attrs,d,t)){if(Ps(r))return!1;o=!0}continue}const m=h$(8&r?"class":l,i,RM(n),t);if(-1===m){if(Ps(r))return!1;o=!0;continue}if(""!==d){let g;g=m>s?"":i[m+1].toLowerCase();const y=8&r?g:null;if(y&&-1!==SM(y,d,0)||2&r&&d!==g){if(Ps(r))return!1;o=!0}}}}else{if(!o&&!Ps(r)&&!Ps(l))return!1;if(o&&Ps(l))continue;o=!1,r=l|1&r}}return Ps(r)||o}function Ps(n){return 0==(1&n)}function h$(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function m$(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function MM(n,e,t=!1){for(let r=0;r<e.length;r++)if(d$(n,e[r],t))return!0;return!1}function g$(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function xM(n,e){return n?":not("+e.trim()+")":e}function _$(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Ps(o)&&(e+=xM(s,i),i=""),r=o,s=s||!Ps(r);t++}return""!==i&&(e+=xM(s,i)),e}const nt={};function oe(n){PM(_t(),se(),br()+n,!1)}function PM(n,e,t,r){if(!r)if(3==(3&e[rt])){const s=n.preOrderCheckHooks;null!==s&&Ho(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Wu(e,s,0,t)}jo(t)}function FM(n,e=null,t=null,r){const i=VM(n,e,t,r);return i.resolveInjectorInitializers(),i}function VM(n,e=null,t=null,r,i=new Set){const s=[t||St,V4(n)];return r=r||("object"==typeof n?void 0:ct(n)),new wM(s,e||by(),r||null,i)}let lo=(()=>{class n{static create(t,r){if(Array.isArray(t))return FM({name:""},r,t,"");{const i=t.name??"";return FM({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=Oo,n.NULL=new gM,n.\u0275prov=we({token:n,providedIn:"any",factory:()=>Y(pM)}),n.__NG_ELEMENT_ID__=-1,n})();function O(n,e=Be.Default){const t=se();return null===t?Y(n,e):Ju(Pn(),t,xe(n),e)}function qM(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];Ff(t[r]),o.contentQueries(2,e[s],s)}}}function Dy(n,e,t,r,i,s,o,a,l,d,h){const m=e.blueprint.slice();return m[Mn]=i,m[rt]=76|r,(null!==h||n&&1024&n[rt])&&(m[rt]|=1024),DI(m),m[nn]=m[Vo]=n,m[hn]=t,m[qa]=o||n&&n[qa],m[Xe]=a||n&&n[Xe],m[dc]=l||n&&n[dc]||null,m[za]=d||n&&n[za]||null,m[hr]=s,m[Lo]=function cb(){return hd++}(),m[Ef]=h,m[Jn]=2==e.type?n[Jn]:m,m}function bd(n,e,t,r,i){let s=n.data[e];if(null===s)s=function Bb(n,e,t,r,i){const s=Mf(),o=xf(),l=n.data[e]=function H$(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(n,e,t,r,i),function RI(){return Je.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function fc(){const n=Je.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return as(s,!0),s}function Lp(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Ub(n,e,t){$o(e);try{const r=n.viewQuery;null!==r&&Zb(1,r,t);const i=n.template;null!==i&&GM(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&qM(n,e),n.staticViewQueries&&Zb(2,n.viewQuery,t);const s=n.components;null!==s&&function U$(n,e){for(let t=0;t<e.length;t++)cj(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[rt]&=-5,mc()}}function Ty(n,e,t,r){const i=e[rt];if(128!=(128&i)){$o(e);try{DI(e),function Qa(n){return Je.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&GM(n,e,t,2,r);const o=3==(3&i);if(o){const d=n.preOrderCheckHooks;null!==d&&Ho(e,d,null)}else{const d=n.preOrderHooks;null!==d&&Wu(e,d,0,null),Uf(e,0)}if(function aj(n){for(let e=Dc(n);null!==e;e=Ip(e)){if(!e[p_])continue;const t=e[Js];for(let r=0;r<t.length;r++){const i=t[r];512&i[rt]||A_(i[nn],1),i[rt]|=512}}}(e),function oj(n){for(let e=Dc(n);null!==e;e=Ip(e))for(let t=fr;t<e.length;t++){const r=e[t],i=r[De];Af(r)&&Ty(i,r,i.template,r[hn])}}(e),null!==n.contentQueries&&qM(n,e),o){const d=n.contentCheckHooks;null!==d&&Ho(e,d)}else{const d=n.contentHooks;null!==d&&Wu(e,d,1),Uf(e,1)}!function L$(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)jo(~i);else{const s=i,o=t[++r],a=t[++r];MI(o,s),a(2,e[s])}}}finally{jo(-1)}}(n,e);const a=n.components;null!==a&&function B$(n,e){for(let t=0;t<e.length;t++)lj(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&Zb(2,l,r),o){const d=n.viewCheckHooks;null!==d&&Ho(e,d)}else{const d=n.viewHooks;null!==d&&Wu(e,d,2),Uf(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[rt]&=-41,512&e[rt]&&(e[rt]&=-513,A_(e[nn],-1))}finally{mc()}}}function GM(n,e,t,r,i){const s=br(),o=2&r;try{jo(-1),o&&e.length>$t&&PM(n,e,$t,!1),_i(o?2:0,i),t(r,i)}finally{jo(s),_i(o?3:1,i)}}function $b(n,e,t){if(If(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function jb(n,e,t){R_()&&(function Q$(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;Bo(t)&&function rj(n,e,t){const r=Mi(e,n),i=WM(t),s=n[qa],o=Sy(n,Dy(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||yc(t,e),Cr(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],d=Go(e,n,a,t);Cr(d,e),null!==o&&ij(0,a-i,d,l,0,o),gi(l)&&(Yr(t.index,e)[hn]=Go(e,n,a,t))}}(n,e,t,Mi(t,e)),64==(64&t.flags)&&XM(n,e,t))}function Hb(n,e,t=Mi){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function WM(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=zb(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function zb(n,e,t,r,i,s,o,a,l,d){const h=$t+r,m=h+i,g=function $$(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:nt);return t}(h,m),y="function"==typeof d?d():d;return g[De]={type:n,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:y,incompleteFirstPass:!1}}function KM(n,e,t,r){const i=ex(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&tx(n).push(r,i.length-1))}function ZM(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?QM(t,e,i,s):r.hasOwnProperty(i)&&QM(t,e,r[i],s)}return t}function QM(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function zi(n,e,t,r,i,s,o,a){const l=Mi(e,t);let h,d=e.inputs;!a&&null!=d&&(h=d[r])?(Qb(n,t,h,r,i),Bo(e)&&function G$(n,e){const t=Yr(e,n);16&t[rt]||(t[rt]|=32)}(t,e.index)):3&e.type&&(r=function q$(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}function qb(n,e,t,r){if(R_()){const i=null===r?null:{"":-1},s=function X$(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(MM(e,o.selectors,!1))if(r||(r=[]),gi(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Gb(n,e,a.length)}else r.unshift(o),Gb(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&YM(n,e,t,o,i,a),i&&function J$(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new I(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=zo(t.mergedAttrs,t.attrs)}function YM(n,e,t,r,i,s){for(let d=0;d<r.length;d++)Wf(yc(t,e),n,r[d].type);!function tj(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let d=0;d<r.length;d++){const h=r[d];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,l=Lp(n,e,r.length,null);for(let d=0;d<r.length;d++){const h=r[d];t.mergedAttrs=zo(t.mergedAttrs,h.hostAttrs),nj(n,t,e,l,h),ej(l,h,i),null!==h.contentQueries&&(t.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(t.flags|=64);const m=h.type.prototype;!o&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t.index),o=!0),!a&&(m.ngOnChanges||m.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t.index),a=!0),l++}!function z$(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let l=null,d=null;for(let h=e.directiveStart;h<i;h++){const m=s[h],g=t?t.get(m):null,E=g?g.outputs:null;l=ZM(m.inputs,h,l,g?g.inputs:null),d=ZM(m.outputs,h,d,E);const b=null===l||null===o||RM(e)?null:sj(l,h,o);a.push(b)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=d}(n,t,s)}function XM(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function Pf(){return Je.lFrame.currentDirectiveIndex}();try{jo(s);for(let a=r;a<i;a++){const l=n.data[a],d=e[a];Nf(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&Y$(l,d)}}finally{jo(-1),Nf(o)}}function Y$(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Gb(n,e,t){e.componentOffset=t,(n.components??(n.components=[])).push(e.index)}function ej(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;gi(e)&&(t[""]=n)}}function nj(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Rs(i.type)),o=new gc(s,gi(i),O);n.blueprint[r]=o,t[r]=o,function K$(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function Z$(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,Lp(n,t,i.hostVars,nt),i)}function co(n,e,t,r,i,s){const o=Mi(n,e);!function Wb(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?ie(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[Xe],o,s,n.value,t,r,i)}function ij(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const d=o[l++],h=o[l++],m=o[l++];null!==a?r.setInput(t,m,d,h):t[h]=m}}}function sj(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function JM(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function lj(n,e){const t=Yr(e,n);if(Af(t)){const r=t[De];48&t[rt]?Ty(r,t,r.template,t[hn]):t[Zs]>0&&Kb(t)}}function Kb(n){for(let r=Dc(n);null!==r;r=Ip(r))for(let i=fr;i<r.length;i++){const s=r[i];if(Af(s))if(512&s[rt]){const o=s[De];Ty(o,s,o.template,s[hn])}else s[Zs]>0&&Kb(s)}const t=n[De].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Yr(t[r],n);Af(i)&&i[Zs]>0&&Kb(i)}}function cj(n,e){const t=Yr(e,n),r=t[De];(function uj(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),Ub(r,t,t[hn])}function Sy(n,e){return n[Ga]?n[Vu][Qr]=e:n[Ga]=e,n[Vu]=e,e}function Ay(n){for(;n;){n[rt]|=32;const e=al(n);if(vI(n)&&!e)return n;n=e}return null}function Ry(n,e,t,r=!0){const i=e[qa];i.begin&&i.begin();try{Ty(n,e,n.template,t)}catch(o){throw r&&rx(e,o),o}finally{i.end&&i.end()}}function Zb(n,e,t){Ff(0),e(n,t)}function ex(n){return n[Ha]||(n[Ha]=[])}function tx(n){return n.cleanup||(n.cleanup=[])}function rx(n,e){const t=n[za],r=t?t.get(Ed,null):null;r&&r.handleError(e)}function Qb(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],d=n.data[o];null!==d.setInput?d.setInput(l,i,r,a):l[a]=i}}function My(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=en(i,a):2==s&&(r=en(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function xy(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(pr(s)),mi(s))for(let a=fr;a<s.length;a++){const l=s[a],d=l[De].firstChild;null!==d&&xy(l[De],l,d,r)}const o=t.type;if(8&o)xy(n,e,t.child,r);else if(32&o){const a=Vr(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=rn(e,t);if(Array.isArray(a))r.push(...a);else{const l=al(e[Jn]);xy(l[De],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Bp{get rootNodes(){const e=this._lView,t=e[De];return xy(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[hn]}set context(e){this._lView[hn]=e}get destroyed(){return 128==(128&this._lView[rt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[nn];if(mi(e)){const t=e[Xs],r=t?t.indexOf(this):-1;r>-1&&(Yo(e,r),id(t,r))}this._attachedToViewContainer=!1}Ap(this._lView[De],this._lView)}onDestroy(e){KM(this._lView[De],this._lView,null,e)}markForCheck(){Ay(this._cdRefInjectingView||this._lView)}detach(){this._lView[rt]&=-65}reattach(){this._lView[rt]|=64}detectChanges(){Ry(this._lView[De],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ei(n,e){Jo(n,e,e[Xe],2,null,null)}(this._lView[De],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=e}}class dj extends Bp{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Ry(e[De],e,e[hn],!1)}checkNoChanges(){}get context(){return null}}class ix extends Fp{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=kt(e);return new Up(t,this.ngModule)}}function sx(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class fj{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Ou(r);const i=this.injector.get(e,Pb,r);return i!==Pb||t===Pb?i:this.parentInjector.get(e,t,r)}}class Up extends bM{get inputs(){return sx(this.componentDef.inputs)}get outputs(){return sx(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function y$(n){return n.map(_$).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof ta?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new fj(e,s):e,a=o.get(Vp,null);if(null===a)throw new I(407,!1);const l=o.get(X4,null),d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",m=r?function j$(n,e,t){return n.selectRootElement(e,t===pi.ShadowDom)}(d,r,this.componentDef.encapsulation):Dp(d,h,function hj(n){const e=n.toLowerCase();return"svg"===e?T_:"math"===e?"math":null}(h)),g=this.componentDef.onPush?288:272,y=zb(0,null,null,1,0,null,null,null,null,null),E=Dy(null,y,null,g,null,null,a,d,l,o,null);let b,C;$o(E);try{const k=this.componentDef;let B,P=null;k.findHostDirectiveDefs?(B=[],P=new Map,k.findHostDirectiveDefs(k,B,P),B.push(k)):B=[k];const X=function mj(n,e){const t=n[De],r=$t;return n[r]=e,bd(t,r,2,"#host",null)}(E,m),pe=function gj(n,e,t,r,i,s,o,a){const l=i[De];!function _j(n,e,t,r){for(const i of n)e.mergedAttrs=zo(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(My(e,e.mergedAttrs,!0),null!==t&&Pp(r,t,e))}(r,n,e,o);const d=s.createRenderer(e,t),h=Dy(i,WM(t),null,t.onPush?32:16,i[n.index],n,s,d,a||null,null,null);return l.firstCreatePass&&Gb(l,n,r.length-1),Sy(i,h),i[n.index]=h}(X,m,k,B,E,a,d);C=bI(y,$t),m&&function vj(n,e,t,r){if(r)Hf(n,t,["ng-version",DM.full]);else{const{attrs:i,classes:s}=function v$(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Ps(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&Hf(n,t,i),s&&s.length>0&&gd(n,t,s.join(" "))}}(d,k,m,r),void 0!==t&&function Ej(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(C,this.ngContentSelectors,t),b=function yj(n,e,t,r,i,s){const o=Pn(),a=i[De],l=Mi(o,i);YM(a,i,o,t,null,r);for(let h=0;h<t.length;h++)Cr(Go(i,a,o.directiveStart+h,o),i);XM(a,i,o),l&&Cr(l,i);const d=Go(i,a,o.directiveStart+o.componentOffset,o);if(n[hn]=i[hn]=d,null!==s)for(const h of s)h(d,e);return $b(a,o,n),d}(pe,k,B,P,E,[wj]),Ub(y,E,null)}finally{mc()}return new pj(this.componentType,b,vd(C,E),E,C)}}class pj extends G4{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new dj(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;Qb(s[De],s,i,e,t),Ay(Yr(this._tNode.index,s))}}get injector(){return new tl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function wj(){const n=Pn();Gu(se()[De],n)}function Ue(n){let e=function ox(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(gi(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new I(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=Yb(n.inputs),o.declaredInputs=Yb(n.declaredInputs),o.outputs=Yb(n.outputs);const a=i.hostBindings;a&&Dj(n,a);const l=i.viewQuery,d=i.contentQueries;if(l&&bj(n,l),d&&Cj(n,d),at(n.inputs,i.inputs),at(n.declaredInputs,i.declaredInputs),at(n.outputs,i.outputs),gi(i)&&i.data.animation){const h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Ue&&(t=!1)}}e=Object.getPrototypeOf(e)}!function Ij(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=zo(i.hostAttrs,t=zo(t,i.hostAttrs))}}(r)}function Yb(n){return n===As?{}:n===St?[]:n}function bj(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function Cj(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function Dj(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function Py(n){return!!function Xb(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function ti(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function hs(n,e,t,r){const i=se();return ti(i,Ya(),e)&&(_t(),co(fn(),i,n,e,t,r)),hs}function Dd(n,e,t,r){return ti(n,Ya(),t)?e+ie(t)+r:nt}function Pe(n,e,t,r,i,s,o,a){const l=se(),d=_t(),h=n+$t,m=d.firstCreatePass?function Oj(n,e,t,r,i,s,o,a,l){const d=e.consts,h=bd(e,n,4,o||null,Uo(d,a));qb(e,t,h,Uo(d,l)),Gu(e,h);const m=h.tView=zb(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d);return null!==e.queries&&(e.queries.template(e,h),m.queries=e.queries.embeddedTView(h)),h}(h,d,l,e,t,r,i,s,o):d.data[h];as(m,!1);const g=l[Xe].createComment("");Te(d,l,g,m),Cr(g,l),Sy(l,l[h]=JM(g,l,g,m)),Lu(m)&&jb(d,l,m),null!=o&&Hb(l,m,a)}function me(n,e,t){const r=se();return ti(r,Ya(),e)&&zi(_t(),fn(),r,n,e,r[Xe],t,!1),me}function Jb(n,e,t,r,i){const o=i?"class":"style";Qb(n,t,e.inputs[o],o,r)}function D(n,e,t,r){const i=se(),s=_t(),o=$t+n,a=i[Xe],l=s.firstCreatePass?function Lj(n,e,t,r,i,s){const o=e.consts,l=bd(e,n,2,r,Uo(o,i));return qb(e,t,l,Uo(o,s)),null!==l.attrs&&My(l,l.attrs,!1),null!==l.mergedAttrs&&My(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,e,t,r):s.data[o],d=i[o]=Dp(a,e,function kI(){return Je.lFrame.currentNamespace}()),h=Lu(l);return as(l,!0),Pp(a,d,l),32!=(32&l.flags)&&Te(s,i,d,l),0===function Rf(){return Je.lFrame.elementDepthCount}()&&Cr(d,i),function TI(){Je.lFrame.elementDepthCount++}(),h&&(jb(s,i,l),$b(s,l,i)),null!==r&&Hb(i,l),D}function T(){let n=Pn();xf()?M_():(n=n.parent,as(n,!1));const e=n;!function SI(){Je.lFrame.elementDepthCount--}();const t=_t();return t.firstCreatePass&&(Gu(t,n),If(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function LI(n){return 0!=(8&n.flags)}(e)&&Jb(t,e,se(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function BI(n){return 0!=(16&n.flags)}(e)&&Jb(t,e,se(),e.stylesWithoutHost,!1),T}function $e(n,e,t,r){return D(n,e,t,r),T(),$e}function nr(n,e,t){const r=se(),i=_t(),s=n+$t,o=i.firstCreatePass?function Bj(n,e,t,r,i){const s=e.consts,o=Uo(s,r),a=bd(e,n,8,"ng-container",o);return null!==o&&My(a,o,!0),qb(e,t,a,Uo(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];as(o,!0);const a=r[s]=r[Xe].createComment("");return Te(i,r,a,o),Cr(a,r),Lu(o)&&(jb(i,r,o),$b(i,o,r)),null!=t&&Hb(r,o),nr}function rr(){let n=Pn();const e=_t();return xf()?M_():(n=n.parent,as(n,!1)),e.firstCreatePass&&(Gu(e,n),If(n)&&e.queries.elementEnd(n)),rr}function ho(n,e,t){return nr(n,e,t),rr(),ho}function Ns(){return se()}function jp(n){return!!n&&"function"==typeof n.then}const eC=function vx(n){return!!n&&"function"==typeof n.subscribe};function pt(n,e,t,r){const i=se(),s=_t(),o=Pn();return function wx(n,e,t,r,i,s,o){const a=Lu(r),d=n.firstCreatePass&&tx(n),h=e[hn],m=ex(e);let g=!0;if(3&r.type||o){const b=Mi(r,e),C=o?o(b):b,k=m.length,B=o?X=>o(pr(X[r.index])):r.index;let P=null;if(!o&&a&&(P=function Uj(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[Ha],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==P)(P.__ngLastListenerFn__||P).__ngNextListenerFn__=s,P.__ngLastListenerFn__=s,g=!1;else{s=bx(r,e,h,s,!1);const X=t.listen(C,i,s);m.push(s,X),d&&d.push(i,B,k,k+1)}}else s=bx(r,e,h,s,!1);const y=r.outputs;let E;if(g&&null!==y&&(E=y[i])){const b=E.length;if(b)for(let C=0;C<b;C+=2){const pe=e[E[C]][E[C+1]].subscribe(s),ke=m.length;m.push(s,pe),d&&d.push(i,r.index,ke,-(ke+1))}}}(s,i,i[Xe],o,n,e,r),pt}function Ix(n,e,t,r){try{return _i(6,e,t),!1!==t(r)}catch(i){return rx(n,i),!1}finally{_i(7,e,t)}}function bx(n,e,t,r,i){return function s(o){if(o===Function)return r;Ay(n.componentOffset>-1?Yr(n.index,e):e);let l=Ix(e,t,r,o),d=s.__ngNextListenerFn__;for(;d;)l=Ix(e,t,d,o)&&l,d=d.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function Lt(n=1){return function xI(n){return(Je.lFrame.contextLView=function Bf(n,e){for(;n>0;)e=e[Vo],n--;return e}(n,Je.lFrame.contextLView))[hn]}(n)}function $j(n,e){let t=null;const r=function f$(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?MM(n,s,!0):g$(r,s))return i}else t=i}return t}function fl(n){const e=se()[Jn][hr];if(!e.projection){const r=e.projection=io(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?$j(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function Pi(n,e=0,t){const r=se(),i=_t(),s=bd(i,$t+n,16,null,t||null);null===s.projection&&(s.projection=e),M_(),32!=(32&s.flags)&&function gy(n,e,t){Mp(e[Xe],0,e,t,fy(n,t,e),v(t.parent||e[hr],t,e))}(i,r,s)}function Rc(n,e,t){return tC(n,"",e,"",t),Rc}function tC(n,e,t,r,i){const s=se(),o=Dd(s,e,t,r);return o!==nt&&zi(_t(),fn(),s,n,o,s[Xe],i,!1),tC}function ky(n,e){return n<<17|e<<2}function pl(n){return n>>17&32767}function nC(n){return 2|n}function Mc(n){return(131068&n)>>2}function rC(n,e){return-131069&n|e<<2}function iC(n){return 1|n}function Px(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?pl(s):Mc(s),l=!1;for(;0!==a&&(!1===l||o);){const h=n[a+1];Wj(n[a],e)&&(l=!0,n[a+1]=r?iC(h):nC(h)),a=r?pl(h):Mc(h)}l&&(n[t+1]=r?nC(s):iC(s))}function Wj(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&il(n,e)>=0}function xc(n,e,t){return Os(n,e,t,!1),xc}function ks(n,e){return Os(n,e,null,!0),ks}function Os(n,e,t,r){const i=se(),s=_t(),o=function Bt(n){const e=Je.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function Ux(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[br()],o=function Bx(n,e){return e>=n.expandoStartIndex}(n,t);(function zx(n,e){return 0!=(n.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function nH(n,e,t,r){const i=function kf(n){const e=Je.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Hp(t=sC(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=sC(i,n,e,t,r),null===s){let l=function rH(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Mc(r))return n[pl(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=sC(null,n,e,l[1],r),l=Hp(l,e.attrs,r),function iH(n,e,t,r){n[pl(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function sH(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Hp(r,n[s].hostAttrs,t);return Hp(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function qj(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=pl(o),l=Mc(o);n[r]=t;let h,d=!1;if(Array.isArray(t)?(h=t[1],(null===h||il(t,h)>0)&&(d=!0)):h=t,i)if(0!==l){const g=pl(n[a+1]);n[r+1]=ky(g,a),0!==g&&(n[g+1]=rC(n[g+1],r)),n[a+1]=function Hj(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=ky(a,0),0!==a&&(n[a+1]=rC(n[a+1],r)),a=r;else n[r+1]=ky(l,0),0===a?a=r:n[l+1]=rC(n[l+1],r),l=r;d&&(n[r+1]=nC(n[r+1])),Px(n,h,r,!0),Px(n,h,r,!1),function Gj(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&il(s,e)>=0&&(t[r+1]=iC(t[r+1]))}(e,h,n,r,s),o=ky(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==nt&&ti(i,o,e)&&function jx(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,d=l[a+1],h=function zj(n){return 1==(1&n)}(d)?Hx(l,e,t,i,Mc(d),o):void 0;Oy(h)||(Oy(s)||function jj(n){return 2==(2&n)}(d)&&(s=Hx(l,null,t,i,a,o)),function _y(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:Xr.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Xr.Important),n.setStyle(t,r,i,s))}}(r,o,Uu(br(),t),i,s))}(s,s.data[br()],i,i[Xe],n,i[o+1]=function cH(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=ct(function dl(n){return n instanceof iM?n.changingThisBreaksApplicationSecurity:n}(n)))),n}(e,t),r,o)}function sC(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=Hp(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Hp(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),yi(n,o,!!t||e[++s]))}return void 0===n?null:n}function Hx(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],d=Array.isArray(l),h=d?l[1]:l,m=null===h;let g=t[i+1];g===nt&&(g=m?St:void 0);let y=m?np(g,r):h===r?g:void 0;if(d&&!Oy(y)&&(y=np(l,r)),Oy(y)&&(a=y,o))return a;const E=n[i+1];i=o?pl(E):Mc(E)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=np(l,r))}return a}function Oy(n){return void 0!==n}function N(n,e=""){const t=se(),r=_t(),i=n+$t,s=r.firstCreatePass?bd(r,i,1,e,null):r.data[i],o=t[i]=function cs(n,e){return n.createText(e)}(t[Xe],e);Te(r,t,o,s),as(s,!1)}function ni(n){return Nn("",n,""),ni}function Nn(n,e,t){const r=se(),i=Dd(r,n,e,t);return i!==nt&&function ia(n,e,t){const r=Uu(e,n);!function Cp(n,e,t){n.setValue(e,t)}(n[Xe],r,t)}(r,br(),i),Nn}const Pc=void 0;var RH=["en",[["a","p"],["AM","PM"],Pc],[["AM","PM"],Pc,Pc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pc,"{1} 'at' {0}",Pc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function AH(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let kd={};function Ei(n){const e=function MH(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=dP(e);if(t)return t;const r=e.split("-")[0];if(t=dP(r),t)return t;if("en"===r)return RH;throw new I(701,!1)}function dP(n){return n in kd||(kd[n]=Ut.ng&&Ut.ng.common&&Ut.ng.common.locales&&Ut.ng.common.locales[n]),kd[n]}var Ce=(()=>((Ce=Ce||{})[Ce.LocaleId=0]="LocaleId",Ce[Ce.DayPeriodsFormat=1]="DayPeriodsFormat",Ce[Ce.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ce[Ce.DaysFormat=3]="DaysFormat",Ce[Ce.DaysStandalone=4]="DaysStandalone",Ce[Ce.MonthsFormat=5]="MonthsFormat",Ce[Ce.MonthsStandalone=6]="MonthsStandalone",Ce[Ce.Eras=7]="Eras",Ce[Ce.FirstDayOfWeek=8]="FirstDayOfWeek",Ce[Ce.WeekendRange=9]="WeekendRange",Ce[Ce.DateFormat=10]="DateFormat",Ce[Ce.TimeFormat=11]="TimeFormat",Ce[Ce.DateTimeFormat=12]="DateTimeFormat",Ce[Ce.NumberSymbols=13]="NumberSymbols",Ce[Ce.NumberFormats=14]="NumberFormats",Ce[Ce.CurrencyCode=15]="CurrencyCode",Ce[Ce.CurrencySymbol=16]="CurrencySymbol",Ce[Ce.CurrencyName=17]="CurrencyName",Ce[Ce.Currencies=18]="Currencies",Ce[Ce.Directionality=19]="Directionality",Ce[Ce.PluralCase=20]="PluralCase",Ce[Ce.ExtraData=21]="ExtraData",Ce))();const Od="en-US";let hP=Od;function lC(n,e,t,r,i){if(n=xe(n),Array.isArray(n))for(let s=0;s<n.length;s++)lC(n[s],e,t,r,i);else{const s=_t(),o=se();let a=Sc(n)?n:xe(n.provide),l=IM(n);const d=Pn(),h=1048575&d.providerIndexes,m=d.directiveStart,g=d.providerIndexes>>20;if(Sc(n)||!n.multi){const y=new gc(l,i,O),E=uC(a,e,i?h:h+g,m);-1===E?(Wf(yc(d,o),s,a),cC(s,n,e.length),e.push(a),d.directiveStart++,d.directiveEnd++,i&&(d.providerIndexes+=1048576),t.push(y),o.push(y)):(t[E]=y,o[E]=y)}else{const y=uC(a,e,h+g,m),E=uC(a,e,h,h+g),C=E>=0&&t[E];if(i&&!C||!i&&!(y>=0&&t[y])){Wf(yc(d,o),s,a);const k=function Sz(n,e,t,r,i){const s=new gc(n,t,O);return s.multi=[],s.index=e,s.componentProviders=0,VP(s,i,r&&!t),s}(i?Tz:Dz,t.length,i,r,l);!i&&C&&(t[E].providerFactory=k),cC(s,n,e.length,0),e.push(a),d.directiveStart++,d.directiveEnd++,i&&(d.providerIndexes+=1048576),t.push(k),o.push(k)}else cC(s,n,y>-1?y:E,VP(t[i?E:y],l,!i&&r));!i&&r&&C&&t[E].componentProviders++}}}function cC(n,e,t,r){const i=Sc(e),s=function B4(n){return!!n.useClass}(e);if(i||s){const l=(s?xe(e.useClass):e).prototype.ngOnDestroy;if(l){const d=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const h=d.indexOf(t);-1===h?d.push(t,[r,l]):d[h+1].push(r,l)}else d.push(t,l)}}}function VP(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function uC(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Dz(n,e,t,r){return dC(this.multi,[])}function Tz(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Go(t,t[De],this.providerFactory.index,r);s=a.slice(0,o),dC(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],dC(i,s);return s}function dC(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function ut(n,e=[]){return t=>{t.providersResolver=(r,i)=>function Cz(n,e,t){const r=_t();if(r.firstCreatePass){const i=gi(n);lC(t,r.data,r.blueprint,i,!0),lC(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class Fd{}class LP{}class BP extends Fd{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ix(this);const r=Ir(e);this._bootstrapComponents=ra(r.bootstrap),this._r3Injector=VM(e,t,[{provide:Fd,useValue:this},{provide:Fp,useValue:this.componentFactoryResolver}],ct(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class hC extends LP{constructor(e){super(),this.moduleType=e}create(e){return new BP(this.moduleType,e)}}class Rz extends Fd{constructor(e,t,r){super(),this.componentFactoryResolver=new ix(this),this.instance=null;const i=new wM([...e,{provide:Fd,useValue:this},{provide:Fp,useValue:this.componentFactoryResolver}],t||by(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Uy(n,e,t=null){return new Rz(n,e,t).injector}let Mz=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=_M(0,t.type),i=r.length>0?Uy([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=we({token:n,providedIn:"environment",factory:()=>new n(Y(ta))}),n})();function fC(n){n.getStandaloneInjector=e=>e.get(Mz).getOrCreateStandaloneInjector(n)}function GP(n,e,t,r,i,s){const o=e+t;return ti(n,o,i)?function uo(n,e,t){return n[e]=t}(n,o+1,s?r.call(s,i):r(i)):function Zp(n,e){const t=n[e];return t===nt?void 0:t}(n,o+1)}function mC(n,e){const t=_t();let r;const i=n+$t;t.firstCreatePass?(r=function Zz(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=Rs(r.type)),o=Ri(O);try{const a=to(!1),l=s();return to(a),function Fj(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,se(),i,l),l}finally{Ri(o)}}function gC(n,e,t){const r=n+$t,i=se(),s=function eo(n,e){return n[e]}(i,r);return function Qp(n,e){return n[De].data[e].pure}(i,r)?GP(i,function Fr(){const n=Je.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),e,s.transform,t,s):s.transform(t)}function _C(n){return e=>{setTimeout(n,void 0,e)}}const pn=class e9 extends j{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=_C(s),i&&(i=_C(i)),o&&(o=_C(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Tt&&e.add(a),a}};function t9(){return this._results[Symbol.iterator]()}class yC{get changes(){return this._changes||(this._changes=new pn)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=yC.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=t9)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function xi(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function ep(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Lr=(()=>{class n{}return n.__NG_ELEMENT_ID__=i9,n})();const n9=Lr,r9=class extends n9{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tView,i=Dy(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[Qs]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[Hi];return null!==o&&(i[Hi]=o.createEmbeddedView(r)),Ub(r,i,e),new Bp(i)}};function i9(){return $y(Pn(),se())}function $y(n,e){return 4&n.type?new r9(e,n,vd(n,e)):null}let ri=(()=>{class n{}return n.__NG_ELEMENT_ID__=s9,n})();function s9(){return JP(Pn(),se())}const o9=ri,YP=class extends o9{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return vd(this._hostTNode,this._hostLView)}get injector(){return new tl(this._hostTNode,this._hostLView)}get parentInjector(){const e=vc(this._hostTNode,this._hostLView);if(Zu(e)){const t=Qu(e,this._hostLView),r=qo(e);return new tl(t[De].data[r+8],t)}return new tl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=XP(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-fr}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function Ic(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const m=t||{};a=m.index,r=m.injector,i=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}const l=o?e:new Up(kt(e)),d=r||this.parentInjector;if(!s&&null==l.ngModule){const g=(o?d:this.parentInjector).get(ta,null);g&&(s=g)}const h=l.create(d,i,void 0,s);return this.insert(h.hostView,a),h}insert(e,t){const r=e._lView,i=r[De];if(function UR(n){return mi(n[nn])}(r)){const h=this.indexOf(e);if(-1!==h)this.detach(h);else{const m=r[nn],g=new YP(m,m[hr],m[nn]);g.detach(g.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function Sp(n,e,t,r){const i=fr+r,s=t.length;r>0&&(t[i-1][Qr]=e),r<s-fr?(e[Qr]=t[i],tp(t,fr+r,e)):(t.push(e),e[Qr]=null),e[nn]=t;const o=e[Qs];null!==o&&t!==o&&function _b(n,e){const t=n[Js];e[Jn]!==e[nn][nn][Jn]&&(n[p_]=!0),null===t?n[Js]=[e]:t.push(e)}(o,e);const a=e[Hi];null!==a&&a.insertView(n),e[rt]|=64}(i,r,o,s);const a=vi(s,o),l=r[Xe],d=p(l,o[Wa]);return null!==d&&function hy(n,e,t,r,i,s){r[Mn]=i,r[hr]=e,Jo(n,r,t,1,i,s)}(i,o[hr],l,r,d,a),e.attachToViewContainerRef(),tp(vC(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=XP(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Yo(this._lContainer,t);r&&(id(vC(this._lContainer),t),Ap(r[De],r))}detach(e){const t=this._adjustIndex(e,-1),r=Yo(this._lContainer,t);return r&&null!=id(vC(this._lContainer),t)?new Bp(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function XP(n){return n[Xs]}function vC(n){return n[Xs]||(n[Xs]=[])}function JP(n,e){let t;const r=e[n.index];if(mi(r))t=r;else{let i;if(8&n.type)i=pr(r);else{const s=e[Xe];i=s.createComment("");const o=Mi(n,e);Xo(s,p(s,o),i,function _(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=JM(r,e,i,n),Sy(e,t)}return new YP(t,n,e)}class EC{constructor(e){this.queryList=e,this.matches=null}clone(){return new EC(this.queryList)}setDirty(){this.queryList.setDirty()}}class wC{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new wC(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==s1(e,t).matches&&this.queries[t].setDirty()}}class e1{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class IC{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new IC(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class bC{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new bC(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,a9(t,s)),this.matchTNodeWithReadOption(e,t,ed(t,e,s,!1,!1))}else r===Lr?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ed(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===sn||i===ri||i===Lr&&4&t.type)this.addMatch(t.index,-2);else{const s=ed(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function a9(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function c9(n,e,t,r){return-1===t?function l9(n,e){return 11&n.type?vd(n,e):4&n.type?$y(n,e):null}(e,n):-2===t?function u9(n,e,t){return t===sn?vd(e,n):t===Lr?$y(e,n):t===ri?JP(e,n):void 0}(n,e,r):Go(n,n[De],t,e)}function t1(n,e,t,r){const i=e[Hi].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const d=o[l];a.push(d<0?null:c9(e,s[d],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function CC(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=t1(n,e,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const d=s[a+1],h=e[-l];for(let m=fr;m<h.length;m++){const g=h[m];g[Qs]===g[nn]&&CC(g[De],g,d,r)}if(null!==h[Js]){const m=h[Js];for(let g=0;g<m.length;g++){const y=m[g];CC(y[De],y,d,r)}}}}}return r}function Tn(n){const e=se(),t=_t(),r=Of();Ff(r+1);const i=s1(t,r);if(n.dirty&&function CI(n){return 4==(4&n[rt])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?CC(t,e,r,[]):t1(t,e,i,r);n.reset(s,Q4),n.notifyOnChanges()}return!0}return!1}function Ni(n,e,t){const r=_t();r.firstCreatePass&&(r1(r,new e1(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),n1(r,se(),e)}function mo(n,e,t,r){const i=_t();if(i.firstCreatePass){const s=Pn();r1(i,new e1(e,t,r),s.index),function h9(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}n1(i,se(),t)}function Sn(){return function d9(n,e){return n[Hi].queries[e].queryList}(se(),Of())}function n1(n,e,t){const r=new yC(4==(4&t));KM(n,e,r,r.destroy),null===e[Hi]&&(e[Hi]=new wC),e[Hi].queries.push(new EC(r))}function r1(n,e,t){null===n.queries&&(n.queries=new IC),n.queries.track(new bC(e,t))}function s1(n,e){return n.queries.getByIndex(e)}function Hy(...n){}const zy=new de("Application Initializer");let qy=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Hy,this.reject=Hy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(jp(s))t.push(s);else if(eC(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(Y(zy,8))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Bd=new de("AppId",{providedIn:"root",factory:function b1(){return`${MC()}${MC()}${MC()}`}});function MC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const C1=new de("Platform Initializer"),Ud=new de("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),D1=new de("AnimationModuleType");let N9=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const go=new de("LocaleId",{providedIn:"root",factory:()=>Ye(go,Be.Optional|Be.SkipSelf)||function k9(){return typeof $localize<"u"&&$localize.locale||Od}()});class F9{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let T1=(()=>{class n{compileModuleSync(t){return new hC(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=ra(Ir(t).declarations).reduce((o,a)=>{const l=kt(a);return l&&o.push(new Up(l)),o},[]);return new F9(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const B9=(()=>Promise.resolve(0))();function xC(n){typeof Zone>"u"?B9.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class yt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pn(!1),this.onMicrotaskEmpty=new pn(!1),this.onStable=new pn(!1),this.onError=new pn(!1),typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function U9(){let n=Ut.requestAnimationFrame,e=Ut.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function H9(n){const e=()=>{!function j9(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ut,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,NC(n),n.isCheckStableRunning=!0,PC(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),NC(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return R1(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),M1(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return R1(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),M1(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,NC(n),PC(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!yt.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(yt.isInAngularZone())throw new I(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,$9,Hy,Hy);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const $9={};function PC(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function NC(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function R1(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function M1(n){n._nesting--,PC(n)}class z9{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pn,this.onMicrotaskEmpty=new pn,this.onStable=new pn,this.onError=new pn}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const x1=new de(""),Gy=new de("");let FC,kC=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,FC||(function q9(n){FC=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{yt.assertNotInAngularZone(),xC(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())xC(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(Y(yt),Y(OC),Y(Gy))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})(),OC=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return FC?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const sa=!1;let ml=null;const P1=new de("AllowMultipleToken"),VC=new de("PlatformDestroyListeners"),N1=new de("appBootstrapListener");class k1{constructor(e,t){this.name=e,this.token=t}}function F1(n,e,t=[]){const r=`Platform: ${e}`,i=new de(r);return(s=[])=>{let o=LC();if(!o||o.injector.get(P1,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function K9(n){if(ml&&!ml.get(P1,!1))throw new I(400,!1);ml=n;const e=n.get(L1);(function O1(n){const e=n.get(C1,null);e&&e.forEach(t=>t())})(n)}(function V1(n=[],e){return lo.create({name:e,providers:[{provide:Ab,useValue:"platform"},{provide:VC,useValue:new Set([()=>ml=null])},...n]})}(a,r))}return function Q9(n){const e=LC();if(!e)throw new I(401,!1);return e}()}}function LC(){return ml?.get(L1)??null}let L1=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function U1(n,e){let t;return t="noop"===n?new z9:("zone.js"===n?void 0:n)||new yt(e),t}(r?.ngZone,function B1(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:yt,useValue:i}];return i.run(()=>{const o=lo.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),l=a.injector.get(Ed,null);if(!l)throw new I(402,!1);return i.runOutsideAngular(()=>{const d=i.onError.subscribe({next:h=>{l.handleError(h)}});a.onDestroy(()=>{Wy(this._modules,a),d.unsubscribe()})}),function $1(n,e,t){try{const r=t();return jp(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(l,i,()=>{const d=a.injector.get(qy);return d.runInitializers(),d.donePromise.then(()=>(function fP(n){Ai(n,"Expected localeId to be defined"),"string"==typeof n&&(hP=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(go,Od)||Od),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=j1({},r);return function G9(n,e,t){const r=new hC(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Xp);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new I(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new I(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(VC,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(Y(lo))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function j1(n,e){return Array.isArray(e)?e.reduce(j1,n):{...n,...e}}let Xp=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new tt(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new tt(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{yt.assertNotInAngularZone(),xC(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{yt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),d.unsubscribe()}});this.isStable=W(s,o.pipe(L()))}bootstrap(t,r){const i=t instanceof bM;if(!this._injector.get(qy).done){!i&&function $a(n){const e=kt(n)||wr(n)||jn(n);return null!==e&&e.standalone}(t);throw new I(405,sa)}let o;o=i?t:this._injector.get(Fp).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function W9(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Fd),d=o.create(lo.NULL,[],r||o.selector,a),h=d.location.nativeElement,m=d.injector.get(x1,null);return m?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),Wy(this.components,d),m?.unregisterApplication(h)}),this._loadComponent(d),d}tick(){if(this._runningTick)throw new I(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Wy(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(N1,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Wy(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new I(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(Y(yt),Y(ta),Y(Ed))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Wy(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let Nc=(()=>{class n{}return n.__NG_ELEMENT_ID__=X9,n})();function X9(n){return function J9(n,e,t){if(Bo(n)&&!t){const r=Yr(n.index,e);return new Bp(r,r)}return 47&n.type?new Bp(e[Jn],e):null}(Pn(),se(),16==(16&n))}class K1{constructor(){}supports(e){return Py(e)}create(e){return new s5(e)}}const i5=(n,e)=>e;class s5{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||i5}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<Q1(r,i,s)?t:r,a=Q1(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const d=a-i,h=l-i;if(d!=h){for(let g=0;g<d;g++){const y=g<s.length?s[g]:s[g]=0,E=y+g;h<=E&&E<d&&(s[g]=y+1)}s[o.previousIndex]=h-d}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Py(e))throw new I(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function Pj(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new o5(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Z1),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Z1),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class o5{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class a5{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class Z1{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new a5,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Q1(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function X1(){return new oa([new K1])}let oa=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||X1()),deps:[[n,new oo,new so]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new I(901,!1)}}return n.\u0275prov=we({token:n,providedIn:"root",factory:X1}),n})();const h5=F1(null,"core",[]);let f5=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(Y(Xp))},n.\u0275mod=Vt({type:n}),n.\u0275inj=Zt({}),n})(),HC=null;function aa(){return HC}class g5{}const mn=new de("DocumentToken");let zC=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:function(){return function _5(){return Y(eN)}()},providedIn:"platform"}),n})();const y5=new de("Location Initialized");let eN=(()=>{class n extends zC{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return aa().getBaseHref(this._doc)}onPopState(t){const r=aa().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=aa().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){tN()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){tN()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(Y(mn))},n.\u0275prov=we({token:n,factory:function(){return function v5(){return new eN(Y(mn))}()},providedIn:"platform"}),n})();function tN(){return!!window.history.pushState}function qC(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function nN(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function la(n){return n&&"?"!==n[0]?"?"+n:n}let Oc=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:function(){return Ye(iN)},providedIn:"root"}),n})();const rN=new de("appBaseHref");let iN=(()=>{class n extends Oc{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Ye(mn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return qC(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+la(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+la(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+la(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(Y(zC),Y(rN,8))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),E5=(()=>{class n extends Oc{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=qC(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+la(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+la(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(Y(zC),Y(rN,8))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})(),GC=(()=>{class n{constructor(t){this._subject=new pn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function b5(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(nN(sN(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+la(r))}normalize(t){return n.stripTrailingSlash(function I5(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,sN(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+la(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+la(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=la,n.joinWithSlash=qC,n.stripTrailingSlash=nN,n.\u0275fac=function(t){return new(t||n)(Y(Oc))},n.\u0275prov=we({token:n,factory:function(){return function w5(){return new GC(Y(Oc))}()},providedIn:"root"}),n})();function sN(n){return n.replace(/\/index.html$/,"")}var ki=(()=>((ki=ki||{})[ki.Decimal=0]="Decimal",ki[ki.Percent=1]="Percent",ki[ki.Currency=2]="Currency",ki[ki.Scientific=3]="Scientific",ki))(),zn=(()=>((zn=zn||{})[zn.Format=0]="Format",zn[zn.Standalone=1]="Standalone",zn))(),wt=(()=>((wt=wt||{})[wt.Narrow=0]="Narrow",wt[wt.Abbreviated=1]="Abbreviated",wt[wt.Wide=2]="Wide",wt[wt.Short=3]="Short",wt))(),An=(()=>((An=An||{})[An.Short=0]="Short",An[An.Medium=1]="Medium",An[An.Long=2]="Long",An[An.Full=3]="Full",An))(),ze=(()=>((ze=ze||{})[ze.Decimal=0]="Decimal",ze[ze.Group=1]="Group",ze[ze.List=2]="List",ze[ze.PercentSign=3]="PercentSign",ze[ze.PlusSign=4]="PlusSign",ze[ze.MinusSign=5]="MinusSign",ze[ze.Exponential=6]="Exponential",ze[ze.SuperscriptingExponent=7]="SuperscriptingExponent",ze[ze.PerMille=8]="PerMille",ze[ze.Infinity=9]="Infinity",ze[ze.NaN=10]="NaN",ze[ze.TimeSeparator=11]="TimeSeparator",ze[ze.CurrencyDecimal=12]="CurrencyDecimal",ze[ze.CurrencyGroup=13]="CurrencyGroup",ze))();function Qy(n,e){return ps(Ei(n)[Ce.DateFormat],e)}function Yy(n,e){return ps(Ei(n)[Ce.TimeFormat],e)}function Xy(n,e){return ps(Ei(n)[Ce.DateTimeFormat],e)}function fs(n,e){const t=Ei(n),r=t[Ce.NumberSymbols][e];if(typeof r>"u"){if(e===ze.CurrencyDecimal)return t[Ce.NumberSymbols][ze.Decimal];if(e===ze.CurrencyGroup)return t[Ce.NumberSymbols][ze.Group]}return r}function aN(n){if(!n[Ce.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Ce.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ps(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function KC(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const F5=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,em={},V5=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var gr=(()=>((gr=gr||{})[gr.Short=0]="Short",gr[gr.ShortGMT=1]="ShortGMT",gr[gr.Long=2]="Long",gr[gr.Extended=3]="Extended",gr))(),Ge=(()=>((Ge=Ge||{})[Ge.FullYear=0]="FullYear",Ge[Ge.Month=1]="Month",Ge[Ge.Date=2]="Date",Ge[Ge.Hours=3]="Hours",Ge[Ge.Minutes=4]="Minutes",Ge[Ge.Seconds=5]="Seconds",Ge[Ge.FractionalSeconds=6]="FractionalSeconds",Ge[Ge.Day=7]="Day",Ge))(),dt=(()=>((dt=dt||{})[dt.DayPeriods=0]="DayPeriods",dt[dt.Days=1]="Days",dt[dt.Months=2]="Months",dt[dt.Eras=3]="Eras",dt))();function ZC(n,e,t,r){let i=function G5(n){if(uN(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,s=1,o=1]=n.split("-").map(a=>+a);return Jy(i,s-1,o)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(F5))return function W5(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-t,a=Number(n[5]||0)-r,l=Number(n[6]||0),d=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,o,a,l,d),e}(r)}const e=new Date(n);if(!uN(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=ca(t,e)||e;let a,o=[];for(;e;){if(a=V5.exec(e),!a){o.push(e);break}{o=o.concat(a.slice(1));const h=o.pop();if(!h)break;e=h}}let l=i.getTimezoneOffset();r&&(l=cN(r,l),i=function q5(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function z5(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(cN(e,i)-i))}(i,r,!0));let d="";return o.forEach(h=>{const m=function H5(n){if(YC[n])return YC[n];let e;switch(n){case"G":case"GG":case"GGG":e=on(dt.Eras,wt.Abbreviated);break;case"GGGG":e=on(dt.Eras,wt.Wide);break;case"GGGGG":e=on(dt.Eras,wt.Narrow);break;case"y":e=sr(Ge.FullYear,1,0,!1,!0);break;case"yy":e=sr(Ge.FullYear,2,0,!0,!0);break;case"yyy":e=sr(Ge.FullYear,3,0,!1,!0);break;case"yyyy":e=sr(Ge.FullYear,4,0,!1,!0);break;case"Y":e=rv(1);break;case"YY":e=rv(2,!0);break;case"YYY":e=rv(3);break;case"YYYY":e=rv(4);break;case"M":case"L":e=sr(Ge.Month,1,1);break;case"MM":case"LL":e=sr(Ge.Month,2,1);break;case"MMM":e=on(dt.Months,wt.Abbreviated);break;case"MMMM":e=on(dt.Months,wt.Wide);break;case"MMMMM":e=on(dt.Months,wt.Narrow);break;case"LLL":e=on(dt.Months,wt.Abbreviated,zn.Standalone);break;case"LLLL":e=on(dt.Months,wt.Wide,zn.Standalone);break;case"LLLLL":e=on(dt.Months,wt.Narrow,zn.Standalone);break;case"w":e=QC(1);break;case"ww":e=QC(2);break;case"W":e=QC(1,!0);break;case"d":e=sr(Ge.Date,1);break;case"dd":e=sr(Ge.Date,2);break;case"c":case"cc":e=sr(Ge.Day,1);break;case"ccc":e=on(dt.Days,wt.Abbreviated,zn.Standalone);break;case"cccc":e=on(dt.Days,wt.Wide,zn.Standalone);break;case"ccccc":e=on(dt.Days,wt.Narrow,zn.Standalone);break;case"cccccc":e=on(dt.Days,wt.Short,zn.Standalone);break;case"E":case"EE":case"EEE":e=on(dt.Days,wt.Abbreviated);break;case"EEEE":e=on(dt.Days,wt.Wide);break;case"EEEEE":e=on(dt.Days,wt.Narrow);break;case"EEEEEE":e=on(dt.Days,wt.Short);break;case"a":case"aa":case"aaa":e=on(dt.DayPeriods,wt.Abbreviated);break;case"aaaa":e=on(dt.DayPeriods,wt.Wide);break;case"aaaaa":e=on(dt.DayPeriods,wt.Narrow);break;case"b":case"bb":case"bbb":e=on(dt.DayPeriods,wt.Abbreviated,zn.Standalone,!0);break;case"bbbb":e=on(dt.DayPeriods,wt.Wide,zn.Standalone,!0);break;case"bbbbb":e=on(dt.DayPeriods,wt.Narrow,zn.Standalone,!0);break;case"B":case"BB":case"BBB":e=on(dt.DayPeriods,wt.Abbreviated,zn.Format,!0);break;case"BBBB":e=on(dt.DayPeriods,wt.Wide,zn.Format,!0);break;case"BBBBB":e=on(dt.DayPeriods,wt.Narrow,zn.Format,!0);break;case"h":e=sr(Ge.Hours,1,-12);break;case"hh":e=sr(Ge.Hours,2,-12);break;case"H":e=sr(Ge.Hours,1);break;case"HH":e=sr(Ge.Hours,2);break;case"m":e=sr(Ge.Minutes,1);break;case"mm":e=sr(Ge.Minutes,2);break;case"s":e=sr(Ge.Seconds,1);break;case"ss":e=sr(Ge.Seconds,2);break;case"S":e=sr(Ge.FractionalSeconds,1);break;case"SS":e=sr(Ge.FractionalSeconds,2);break;case"SSS":e=sr(Ge.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=tv(gr.Short);break;case"ZZZZZ":e=tv(gr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=tv(gr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=tv(gr.Long);break;default:return null}return YC[n]=e,e}(h);d+=m?m(i,t,l):"''"===h?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),d}function Jy(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function ca(n,e){const t=function C5(n){return Ei(n)[Ce.LocaleId]}(n);if(em[t]=em[t]||{},em[t][e])return em[t][e];let r="";switch(e){case"shortDate":r=Qy(n,An.Short);break;case"mediumDate":r=Qy(n,An.Medium);break;case"longDate":r=Qy(n,An.Long);break;case"fullDate":r=Qy(n,An.Full);break;case"shortTime":r=Yy(n,An.Short);break;case"mediumTime":r=Yy(n,An.Medium);break;case"longTime":r=Yy(n,An.Long);break;case"fullTime":r=Yy(n,An.Full);break;case"short":const i=ca(n,"shortTime"),s=ca(n,"shortDate");r=ev(Xy(n,An.Short),[i,s]);break;case"medium":const o=ca(n,"mediumTime"),a=ca(n,"mediumDate");r=ev(Xy(n,An.Medium),[o,a]);break;case"long":const l=ca(n,"longTime"),d=ca(n,"longDate");r=ev(Xy(n,An.Long),[l,d]);break;case"full":const h=ca(n,"fullTime"),m=ca(n,"fullDate");r=ev(Xy(n,An.Full),[h,m])}return r&&(em[t][e]=r),r}function ev(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Ls(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function sr(n,e,t=0,r=!1,i=!1){return function(s,o){let a=function B5(n,e){switch(n){case Ge.FullYear:return e.getFullYear();case Ge.Month:return e.getMonth();case Ge.Date:return e.getDate();case Ge.Hours:return e.getHours();case Ge.Minutes:return e.getMinutes();case Ge.Seconds:return e.getSeconds();case Ge.FractionalSeconds:return e.getMilliseconds();case Ge.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||a>-t)&&(a+=t),n===Ge.Hours)0===a&&-12===t&&(a=12);else if(n===Ge.FractionalSeconds)return function L5(n,e){return Ls(n,3).substring(0,e)}(a,e);const l=fs(o,ze.MinusSign);return Ls(a,e,l,r,i)}}function on(n,e,t=zn.Format,r=!1){return function(i,s){return function U5(n,e,t,r,i,s){switch(t){case dt.Months:return function S5(n,e,t){const r=Ei(n),s=ps([r[Ce.MonthsFormat],r[Ce.MonthsStandalone]],e);return ps(s,t)}(e,i,r)[n.getMonth()];case dt.Days:return function T5(n,e,t){const r=Ei(n),s=ps([r[Ce.DaysFormat],r[Ce.DaysStandalone]],e);return ps(s,t)}(e,i,r)[n.getDay()];case dt.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(s){const d=function x5(n){const e=Ei(n);return aN(e),(e[Ce.ExtraData][2]||[]).map(r=>"string"==typeof r?KC(r):[KC(r[0]),KC(r[1])])}(e),h=function P5(n,e,t){const r=Ei(n);aN(r);const s=ps([r[Ce.ExtraData][0],r[Ce.ExtraData][1]],e)||[];return ps(s,t)||[]}(e,i,r),m=d.findIndex(g=>{if(Array.isArray(g)){const[y,E]=g,b=o>=y.hours&&a>=y.minutes,C=o<E.hours||o===E.hours&&a<E.minutes;if(y.hours<E.hours){if(b&&C)return!0}else if(b||C)return!0}else if(g.hours===o&&g.minutes===a)return!0;return!1});if(-1!==m)return h[m]}return function D5(n,e,t){const r=Ei(n),s=ps([r[Ce.DayPeriodsFormat],r[Ce.DayPeriodsStandalone]],e);return ps(s,t)}(e,i,r)[o<12?0:1];case dt.Eras:return function A5(n,e){return ps(Ei(n)[Ce.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,s,n,e,t,r)}}function tv(n){return function(e,t,r){const i=-1*r,s=fs(t,ze.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case gr.Short:return(i>=0?"+":"")+Ls(o,2,s)+Ls(Math.abs(i%60),2,s);case gr.ShortGMT:return"GMT"+(i>=0?"+":"")+Ls(o,1,s);case gr.Long:return"GMT"+(i>=0?"+":"")+Ls(o,2,s)+":"+Ls(Math.abs(i%60),2,s);case gr.Extended:return 0===r?"Z":(i>=0?"+":"")+Ls(o,2,s)+":"+Ls(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const $5=0,nv=4;function lN(n){return Jy(n.getFullYear(),n.getMonth(),n.getDate()+(nv-n.getDay()))}function QC(n,e=!1){return function(t,r){let i;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();i=1+Math.floor((o+s)/7)}else{const s=lN(t),o=function j5(n){const e=Jy(n,$5,1).getDay();return Jy(n,0,1+(e<=nv?nv:nv+7)-e)}(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Ls(i,n,fs(r,ze.MinusSign))}}function rv(n,e=!1){return function(t,r){return Ls(lN(t).getFullYear(),n,fs(r,ze.MinusSign),e)}}const YC={};function cN(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function uN(n){return n instanceof Date&&!isNaN(n.valueOf())}const K5=/^(\d+)?\.((\d+)(-(\d+))?)?$/,dN=22,iv=".",tm="0",Z5=";",Q5=",",XC="#";function t0(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class l6{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fc=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new l6(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),_N(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{_N(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(O(ri),O(Lr),O(oa))},n.\u0275dir=ue({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function _N(n,e){n.context.$implicit=e.item}let Vc=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new u6,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){yN("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){yN("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(O(ri),O(Lr))},n.\u0275dir=ue({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class u6{constructor(){this.$implicit=null,this.ngIf=null}}function yN(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ct(e)}'.`)}let wN=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!function a0(n){return!(null==n||""===n||n!=n)}(t))return null;i=i||this._locale;try{return function e6(n,e,t){return function JC(n,e,t,r,i,s,o=!1){let a="",l=!1;if(isFinite(n)){let d=function n6(n){let r,i,s,o,a,e=Math.abs(n)+"",t=0;for((i=e.indexOf(iv))>-1&&(e=e.replace(iv,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===tm;s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===tm;)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>dN&&(r=r.splice(0,dN-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);o&&(d=function t6(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(d));let h=e.minInt,m=e.minFrac,g=e.maxFrac;if(s){const B=s.match(K5);if(null===B)throw new Error(`${s} is not a valid digit info`);const P=B[1],X=B[3],pe=B[5];null!=P&&(h=t0(P)),null!=X&&(m=t0(X)),null!=pe?g=t0(pe):null!=X&&m>g&&(g=m)}!function r6(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const s=Math.min(Math.max(e,i),t);let o=s+n.integerLen,a=r[o];if(o>0){r.splice(Math.max(n.integerLen,o));for(let m=o;m<r.length;m++)r[m]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let m=1;m<o;m++)r[m]=0}if(a>=5)if(o-1<0){for(let m=0;m>o;m--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let l=0!==s;const d=e+n.integerLen,h=r.reduceRight(function(m,g,y,E){return E[y]=(g+=m)<10?g:g-10,l&&(0===E[y]&&y>=d?E.pop():l=!1),g>=10?1:0},0);h&&(r.unshift(h),n.integerLen++)}(d,m,g);let y=d.digits,E=d.integerLen;const b=d.exponent;let C=[];for(l=y.every(B=>!B);E<h;E++)y.unshift(0);for(;E<0;E++)y.unshift(0);E>0?C=y.splice(E,y.length):(C=y,y=[0]);const k=[];for(y.length>=e.lgSize&&k.unshift(y.splice(-e.lgSize,y.length).join(""));y.length>e.gSize;)k.unshift(y.splice(-e.gSize,y.length).join(""));y.length&&k.unshift(y.join("")),a=k.join(fs(t,r)),C.length&&(a+=fs(t,i)+C.join("")),b&&(a+=fs(t,ze.Exponential)+"+"+b)}else a=fs(t,ze.Infinity);return a=n<0&&!l?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(n,function e0(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(Z5),i=r[0],s=r[1],o=-1!==i.indexOf(iv)?i.split(iv):[i.substring(0,i.lastIndexOf(tm)+1),i.substring(i.lastIndexOf(tm)+1)],a=o[0],l=o[1]||"";t.posPre=a.substring(0,a.indexOf(XC));for(let h=0;h<l.length;h++){const m=l.charAt(h);m===tm?t.minFrac=t.maxFrac=h+1:m===XC?t.maxFrac=h+1:t.posSuf+=m}const d=a.split(Q5);if(t.gSize=d[1]?d[1].length:0,t.lgSize=d[2]||d[1]?(d[2]||d[1]).length:0,s){const h=i.length-t.posPre.length-t.posSuf.length,m=s.indexOf(XC);t.negPre=s.substring(0,m).replace(/'/g,""),t.negSuf=s.slice(m+h).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function WC(n,e){return Ei(n)[Ce.NumberFormats][e]}(e,ki.Decimal),fs(e,ze.MinusSign)),e,ze.Group,ze.Decimal,t)}(function l0(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),i,r)}catch(s){throw function Bs(n,e){return new I(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(O(go,16))},n.\u0275pipe=kr({name:"number",type:n,pure:!0,standalone:!0}),n})();let c0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Vt({type:n}),n.\u0275inj=Zt({}),n})();const IN="browser",k6="server";function bN(n){return n===k6}let L6=(()=>{class n{}return n.\u0275prov=we({token:n,providedIn:"root",factory:()=>new B6(Y(mn),window)}),n})();class B6{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function U6(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=CN(this.window.history)||CN(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function CN(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class p8 extends g5{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class h0 extends p8{static makeCurrent(){!function m5(n){HC||(HC=n)}(new h0)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function m8(){return rm=rm||document.querySelector("base"),rm?rm.getAttribute("href"):null}();return null==t?null:function g8(n){av=av||document.createElement("a"),av.setAttribute("href",n);const e=av.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){rm=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function s6(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let av,rm=null;const RN=new de("TRANSITION_ID"),y8=[{provide:zy,useFactory:function _8(n,e,t){return()=>{t.get(qy).donePromise.then(()=>{const r=aa(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[RN,mn,lo],multi:!0}];let E8=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();const lv=new de("EventManagerPlugins");let cv=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(Y(lv),Y(yt))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();class MN{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=aa().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let xN=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let s=i.get(t)??0;return s+=r,s>0?i.set(t,s):i.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})(),im=(()=>{class n extends xN{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(s=>s.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(Y(mn))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();const f0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},p0=/%COMP%/g,kN=new de("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function ON(n,e){return e.flat(100).map(t=>t.replace(p0,n))}function FN(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let uv=(()=>{class n{constructor(t,r,i,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new m0(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof BN?i.applyToHost(t):i instanceof g0&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,l=this.removeStylesOnCompDestory;switch(r.encapsulation){case pi.Emulated:s=new BN(o,a,r,this.appId,l);break;case pi.ShadowDom:return new S8(o,a,t,r);default:s=new g0(o,a,r,l)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(Y(cv),Y(im),Y(Bd),Y(kN))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();class m0{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(f0[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(LN(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(LN(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=f0[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=f0[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Xr.DashCase|Xr.Important)?e.style.setProperty(t,r,i&Xr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Xr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,FN(r)):this.eventManager.addEventListener(e,t,FN(r))}}function LN(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class S8 extends m0{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=ON(i.id,i.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class g0 extends m0{constructor(e,t,r,i,s=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=ON(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class BN extends g0{constructor(e,t,r,i,s){const o=i+"-"+r.id;super(e,t,r,s,o),this.contentAttr=function C8(n){return"_ngcontent-%COMP%".replace(p0,n)}(o),this.hostAttr=function D8(n){return"_nghost-%COMP%".replace(p0,n)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let A8=(()=>{class n extends MN{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(Y(mn))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();const UN=["alt","control","meta","shift"],R8={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},M8={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let x8=(()=>{class n extends MN{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>aa().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),UN.forEach(d=>{const h=r.indexOf(d);h>-1&&(r.splice(h,1),o+=d+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=R8[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),UN.forEach(o=>{o!==i&&(0,M8[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(Y(mn))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();const jN=[{provide:Ud,useValue:IN},{provide:C1,useValue:function P8(){h0.makeCurrent()},multi:!0},{provide:mn,useFactory:function k8(){return function p4(n){vb=n}(document),document},deps:[]}],O8=F1(h5,"browser",jN),HN=new de(""),zN=[{provide:Gy,useClass:class v8{addToWindow(e){Ut.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Ut.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ut.getAllAngularRootElements=()=>e.getAllRootElements(),Ut.frameworkStabilizers||(Ut.frameworkStabilizers=[]),Ut.frameworkStabilizers.push(r=>{const i=Ut.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?aa().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:x1,useClass:kC,deps:[yt,OC,Gy]},{provide:kC,useClass:kC,deps:[yt,OC,Gy]}],qN=[{provide:Ab,useValue:"root"},{provide:Ed,useFactory:function N8(){return new Ed},deps:[]},{provide:lv,useClass:A8,multi:!0,deps:[mn,yt,Ud]},{provide:lv,useClass:x8,multi:!0,deps:[mn]},{provide:uv,useClass:uv,deps:[cv,im,Bd,kN]},{provide:Vp,useExisting:uv},{provide:xN,useExisting:im},{provide:im,useClass:im,deps:[mn]},{provide:cv,useClass:cv,deps:[lv,yt]},{provide:class $6{},useClass:E8,deps:[]},[]];let GN=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Bd,useValue:t.appId},{provide:RN,useExisting:Bd},y8]}}}return n.\u0275fac=function(t){return new(t||n)(Y(HN,12))},n.\u0275mod=Vt({type:n}),n.\u0275inj=Zt({providers:[...qN,...zN],imports:[c0,f5]}),n})(),WN=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(Y(mn))},n.\u0275prov=we({token:n,factory:function(t){let r=null;return r=t?new t:function V8(){return new WN(Y(mn))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;class QN{}class H8{}const ua="*";function jd(n,e){return{type:7,name:n,definitions:e,options:{}}}function da(n,e=null){return{type:4,styles:e,timings:n}}function YN(n,e=null){return{type:2,steps:n,options:e}}function On(n){return{type:6,styles:n,offset:null}}function ms(n,e,t){return{type:0,name:n,styles:e,options:t}}function dv(n){return{type:5,steps:n}}function _o(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function z8(n=null){return{type:9,options:n}}function q8(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function XN(n){Promise.resolve().then(n)}class sm{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){XN(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class JN{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?XN(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const v0="!";function ek(n){return new I(3e3,!1)}function Tq(){return typeof window<"u"&&typeof window.document<"u"}function E0(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function _l(n){switch(n.length){case 0:return new sm;case 1:return n[0];default:return new JN(n)}}function tk(n,e,t,r,i=new Map,s=new Map){const o=[],a=[];let l=-1,d=null;if(r.forEach(h=>{const m=h.get("offset"),g=m==l,y=g&&d||new Map;h.forEach((E,b)=>{let C=b,k=E;if("offset"!==b)switch(C=e.normalizePropertyName(C,o),k){case v0:k=i.get(b);break;case ua:k=s.get(b);break;default:k=e.normalizeStyleValue(b,C,k,o)}y.set(C,k)}),g||a.push(y),d=y,l=m}),o.length)throw function pq(n){return new I(3502,!1)}();return a}function w0(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&I0(t,"start",n)));break;case"done":n.onDone(()=>r(t&&I0(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&I0(t,"destroy",n)))}}function I0(n,e,t){const s=b0(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function b0(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function qi(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function nk(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let C0=(n,e)=>!1,rk=(n,e,t)=>[],ik=null;function D0(n){const e=n.parentNode||n.host;return e===ik?null:e}(E0()||typeof Element<"u")&&(Tq()?(ik=(()=>document.documentElement)(),C0=(n,e)=>{for(;e;){if(e===n)return!0;e=D0(e)}return!1}):C0=(n,e)=>n.contains(e),rk=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Lc=null,sk=!1;const ok=C0,ak=rk;let lk=(()=>{class n{validateStyleProperty(t){return function Aq(n){Lc||(Lc=function Rq(){return typeof document<"u"?document.body:null}()||{},sk=!!Lc.style&&"WebkitAppearance"in Lc.style);let e=!0;return Lc.style&&!function Sq(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Lc.style,!e&&sk&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Lc.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return ok(t,r)}getParentElement(t){return D0(t)}query(t,r,i){return ak(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new sm(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})(),T0=(()=>{class n{}return n.NOOP=new lk,n})();const Mq=1e3,S0="ng-enter",hv="ng-leave",fv="ng-trigger",pv=".ng-trigger",uk="ng-animating",A0=".ng-animating";function ha(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:R0(parseFloat(e[1]),e[2])}function R0(n,e){return"s"===e?n*Mq:n}function mv(n,e,t){return n.hasOwnProperty("duration")?n:function Pq(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(ek()),{duration:0,delay:0,easing:""};i=R0(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=R0(parseFloat(l),a[4]));const d=a[5];d&&(o=d)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(function G8(){return new I(3100,!1)}()),a=!0),s<0&&(e.push(function W8(){return new I(3101,!1)}()),a=!0),a&&e.splice(l,0,ek())}return{duration:i,delay:s,easing:o}}(n,e,t)}function om(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function dk(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function yl(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function fk(n,e,t){return t?e+":"+t+";":""}function pk(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=fk(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=fk(0,Fq(t),n.style[t]));n.setAttribute("style",e)}function yo(n,e,t){n.style&&(e.forEach((r,i)=>{const s=x0(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r}),E0()&&pk(n))}function Bc(n,e){n.style&&(e.forEach((t,r)=>{const i=x0(r);n.style[i]=""}),E0()&&pk(n))}function am(n){return Array.isArray(n)?1==n.length?n[0]:YN(n):n}const M0=new RegExp("{{\\s*(.+?)\\s*}}","g");function mk(n){let e=[];if("string"==typeof n){let t;for(;t=M0.exec(n);)e.push(t[1]);M0.lastIndex=0}return e}function lm(n,e,t){const r=n.toString(),i=r.replace(M0,(s,o)=>{let a=e[o];return null==a&&(t.push(function Z8(n){return new I(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function gv(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Oq=/-+([a-z0-9])/g;function x0(n){return n.replace(Oq,(...e)=>e[1].toUpperCase())}function Fq(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Gi(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Q8(n){return new I(3004,!1)}()}}function gk(n,e){return window.getComputedStyle(n)[e]}const vv="*";function jq(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Hq(n,e,t){if(":"==n[0]){const l=function zq(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function uq(n){return new I(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function cq(n){return new I(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(_k(i,o));"<"==s[0]&&!(i==vv&&o==vv)&&e.push(_k(o,i))}(r,t,e)):t.push(n),t}const Ev=new Set(["true","1"]),wv=new Set(["false","0"]);function _k(n,e){const t=Ev.has(n)||wv.has(n),r=Ev.has(e)||wv.has(e);return(i,s)=>{let o=n==vv||n==i,a=e==vv||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?Ev.has(n):wv.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?Ev.has(e):wv.has(e)),o&&a}}const qq=new RegExp("s*:selfs*,?","g");function P0(n,e,t,r){return new Gq(n).build(e,t,r)}class Gq{constructor(e){this._driver=e}build(e,t,r){const i=new Zq(t);return this._resetContextStyleTimingState(i),Gi(this,am(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function X8(){return new I(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,d=l.name;d.toString().split(/\s*,\s*/).forEach(h=>{l.name=h,s.push(this.visitState(l,t))}),l.name=d}else if(1==a.type){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push(function J8(){return new I(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{mk(l).forEach(d=>{o.hasOwnProperty(d)||s.add(d)})})}),s.size&&(gv(s.values()),t.errors.push(function eq(n,e){return new I(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Gi(this,am(e.animation),t);return{type:1,matchers:jq(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Uc(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Gi(this,r,t)),options:Uc(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=Gi(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:Uc(e.options)}}visitAnimate(e,t){const r=function Yq(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return N0(mv(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=N0(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=mv(t,e);return N0(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:On({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const d={};r.easing&&(d.easing=r.easing),o=On(d)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===ua?r.push(a):t.errors.push(new I(3002,!1)):r.push(dk(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const d=t.collectedStyles.get(t.currentQuerySelector),h=d.get(l);let m=!0;h&&(s!=i&&s>=h.startTime&&i<=h.endTime&&(t.errors.push(function nq(n,e,t,r,i){return new I(3010,!1)}()),m=!1),s=h.startTime),m&&d.set(l,{startTime:s,endTime:i}),t.options&&function kq(n,e,t){const r=e.params||{},i=mk(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function K8(n){return new I(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function rq(){return new I(3011,!1)}()),r;let s=0;const o=[];let a=!1,l=!1,d=0;const h=e.steps.map(k=>{const B=this._makeStyleAst(k,t);let P=null!=B.offset?B.offset:function Qq(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(B.styles),X=0;return null!=P&&(s++,X=B.offset=P),l=l||X<0||X>1,a=a||X<d,d=X,o.push(X),B});l&&t.errors.push(function iq(){return new I(3012,!1)}()),a&&t.errors.push(function sq(){return new I(3200,!1)}());const m=e.steps.length;let g=0;s>0&&s<m?t.errors.push(function oq(){return new I(3202,!1)}()):0==s&&(g=1/(m-1));const y=m-1,E=t.currentTime,b=t.currentAnimateTimings,C=b.duration;return h.forEach((k,B)=>{const P=g>0?B==y?1:g*B:o[B],X=P*C;t.currentTime=E+b.delay+X,b.duration=X,this._validateStyleAst(k,t),k.offset=P,r.styles.push(k)}),r}visitReference(e,t){return{type:8,animation:Gi(this,am(e.animation),t),options:Uc(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Uc(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Uc(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function Wq(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(qq,"")),n=n.replace(/@\*/g,pv).replace(/@\w+/g,t=>pv+"-"+t.slice(1)).replace(/:animating/g,A0),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,qi(t.collectedStyles,t.currentQuerySelector,new Map);const a=Gi(this,am(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Uc(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function aq(){return new I(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:mv(e.timings,t.errors,!0);return{type:12,animation:Gi(this,am(e.animation),t),timings:r,options:null}}}class Zq{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Uc(n){return n?(n=om(n)).params&&(n.params=function Kq(n){return n?om(n):null}(n.params)):n={},n}function N0(n,e,t){return{duration:n,delay:e,easing:t}}function k0(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Iv{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const eG=new RegExp(":enter","g"),nG=new RegExp(":leave","g");function O0(n,e,t,r,i,s=new Map,o=new Map,a,l,d=[]){return(new rG).buildKeyframes(n,e,t,r,i,s,o,a,l,d)}class rG{buildKeyframes(e,t,r,i,s,o,a,l,d,h=[]){d=d||new Iv;const m=new F0(e,t,d,i,s,h,[]);m.options=l;const g=l.delay?ha(l.delay):0;m.currentTimeline.delayNextStep(g),m.currentTimeline.setStyles([o],null,m.errors,l),Gi(this,r,m);const y=m.timelines.filter(E=>E.containsAnimation());if(y.length&&a.size){let E;for(let b=y.length-1;b>=0;b--){const C=y[b];if(C.element===t){E=C;break}}E&&!E.allowOnlyTimelineStyles()&&E.setStyles([a],null,m.errors,l)}return y.length?y.map(E=>E.buildKeyframes()):[k0(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:ha(lm(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?ha(r.duration):null,a=null!=r.delay?ha(r.delay):null;return 0!==o&&e.forEach(l=>{const d=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,d.duration+d.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Gi(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=bv);const o=ha(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Gi(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?ha(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),Gi(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return mv(t.params?lm(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?ha(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=bv);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((d,h)=>{t.currentQueryIndex=h;const m=t.createSubContext(e.options,d);s&&m.delayNextStep(s),d===t.element&&(l=m.currentTimeline),Gi(this,e.animation,m),m.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,m.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const h=t.currentTimeline;l&&h.delayNextStep(l);const m=h.currentTime;Gi(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-m+(i.startTime-r.currentTimeline.startTime)}}const bv={};class F0{constructor(e,t,r,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=bv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Cv(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=ha(r.duration)),null!=r.delay&&(i.delay=ha(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=lm(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new F0(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=bv,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new iG(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(eG,"."+this._enterClassName)).replace(nG,"."+this._leaveClassName);let d=this._driver.query(this.element,e,1!=r);0!==r&&(d=r<0?d.slice(d.length+r,d.length):d.slice(0,r)),a.push(...d)}return!s&&0==a.length&&o.push(function lq(n){return new I(3014,!1)}()),a}}class Cv{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Cv(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||ua),this._currentKeyframe.set(t,ua);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function sG(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,ua)}else yl(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of o){const d=lm(l,s,r);this._pendingStyles.set(a,d),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ua),this._updateStyle(a,d)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const d=yl(a,new Map,this._backFill);d.forEach((h,m)=>{h===v0?e.add(m):h===ua&&t.add(m)}),r||d.set("offset",l/this.duration),i.push(d)});const s=e.size?gv(e.values()):[],o=t.size?gv(t.values()):[];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return k0(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class iG extends Cv{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,l=yl(e[0]);l.set("offset",0),s.push(l);const d=yl(e[0]);d.set("offset",Ek(a)),s.push(d);const h=e.length-1;for(let m=1;m<=h;m++){let g=yl(e[m]);const y=g.get("offset");g.set("offset",Ek((t+y*r)/o)),s.push(g)}r=o,t=0,i="",e=s}return k0(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function Ek(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class V0{}const oG=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class aG extends V0{normalizePropertyName(e,t){return x0(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(oG.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function Y8(n,e){return new I(3005,!1)}())}return o+s}}function wk(n,e,t,r,i,s,o,a,l,d,h,m,g){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:d,postStyleProps:h,totalTime:m,errors:g}}const L0={};class Ik{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function lG(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,l,d,h){const m=[],g=this.ast.options&&this.ast.options.params||L0,E=this.buildStyles(r,a&&a.params||L0,m),b=l&&l.params||L0,C=this.buildStyles(i,b,m),k=new Set,B=new Map,P=new Map,X="void"===i,pe={params:cG(b,g),delay:this.ast.options?.delay},ke=h?[]:O0(e,t,this.ast.animation,s,o,E,C,pe,d,m);let vt=0;if(ke.forEach(Hs=>{vt=Math.max(Hs.duration+Hs.delay,vt)}),m.length)return wk(t,this._triggerName,r,i,X,E,C,[],[],B,P,vt,m);ke.forEach(Hs=>{const ws=Hs.element,s4=qi(B,ws,new Set);Hs.preStyleProps.forEach(Su=>s4.add(Su));const l_=qi(P,ws,new Set);Hs.postStyleProps.forEach(Su=>l_.add(Su)),ws!==t&&k.add(ws)});const Bn=gv(k.values());return wk(t,this._triggerName,r,i,X,E,C,ke,Bn,B,P,vt)}}function cG(n,e){const t=om(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class uG{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=om(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=lm(o,i,t));const l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),r.set(a,o)})}),r}}class hG{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new uG(i.style,i.options&&i.options.params||{},r))}),bk(this.states,"true","1"),bk(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Ik(e,i,this.states))}),this.fallbackTransition=function fG(n,e,t){return new Ik(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function bk(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const pG=new Iv;class mG{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],s=P0(this._driver,t,r,i);if(r.length)throw function mq(n){return new I(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=tk(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=O0(this._driver,t,s,S0,hv,new Map,new Map,r,pG,i),o.forEach(h=>{const m=qi(a,h.element,new Map);h.postStyleProps.forEach(g=>m.set(g,null))})):(i.push(function gq(){return new I(3300,!1)}()),o=[]),i.length)throw function _q(n){return new I(3504,!1)}();a.forEach((h,m)=>{h.forEach((g,y)=>{h.set(y,this._driver.computeStyle(m,y,ua))})});const d=_l(o.map(h=>{const m=a.get(h.element);return this._buildPlayer(h,new Map,m)}));return this._playersById.set(e,d),d.onDestroy(()=>this.destroy(e)),this.players.push(d),d}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function yq(n){return new I(3301,!1)}();return t}listen(e,t,r,i){const s=b0(t,"","","");return w0(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const Ck="ng-animate-queued",B0="ng-animate-disabled",EG=[],Dk={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},wG={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},gs="__ng_removed";class U0{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function DG(n){return n??null}(r?e.value:e),r){const s=om(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const cm="void",$0=new U0(cm);class IG{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,_s(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function vq(n,e){return new I(3302,!1)}();if(null==r||0==r.length)throw function Eq(n){return new I(3303,!1)}();if(!function TG(n){return"start"==n||"done"==n}(r))throw function wq(n,e){return new I(3400,!1)}();const s=qi(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=qi(this._engine.statesByElement,e,new Map);return a.has(t)||(_s(e,fv),_s(e,fv+"-"+t),a.set(t,$0)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Iq(n){return new I(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new j0(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(_s(e,fv),_s(e,fv+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const d=new U0(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&d.absorbOptions(l.options),a.set(t,d),l||(l=$0),d.value!==cm&&l.value===d.value){if(!function RG(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,d.params)){const b=[],C=s.matchStyles(l.value,l.params,b),k=s.matchStyles(d.value,d.params,b);b.length?this._engine.reportError(b):this._engine.afterFlush(()=>{Bc(e,C),yo(e,k)})}return}const g=qi(this._engine.playersByElement,e,[]);g.forEach(b=>{b.namespaceId==this.id&&b.triggerName==t&&b.queued&&b.destroy()});let y=s.matchTransition(l.value,d.value,e,d.params),E=!1;if(!y){if(!i)return;y=s.fallbackTransition,E=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:y,fromState:l,toState:d,player:o,isFallbackTransition:E}),E||(_s(e,Ck),o.onStart(()=>{Hd(e,Ck)})),o.onDone(()=>{let b=this.players.indexOf(o);b>=0&&this.players.splice(b,1);const C=this._engine.playersByElement.get(e);if(C){let k=C.indexOf(o);k>=0&&C.splice(k,1)}}),this.players.push(o),g.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,pv,!0);r.forEach(i=>{if(i[gs])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,d)=>{if(o.set(d,l.value),this._triggers.has(d)){const h=this.trigger(e,d,cm,i);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&_l(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,d=r.get(o)||$0,h=new U0(cm),m=new j0(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:d,toState:h,player:m,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[gs];(!s||s===Dk)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){_s(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=b0(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,w0(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class bG{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new IG(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const d=r.indexOf(l);r.splice(d+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(Dv(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Dv(t))return;const s=t[gs];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),_s(e,B0)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Hd(e,B0))}removeNode(e,t,r,i){if(Dv(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[gs]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return Dv(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,pv,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,A0,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return _l(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[gs];if(t&&t.setForRemoval){if(e[gs]=Dk,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(B0)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)_s(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?_l(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function bq(n){return new I(3402,!1)}()}_flushAnimations(e,t){const r=new Iv,i=[],s=new Map,o=[],a=new Map,l=new Map,d=new Map,h=new Set;this.disabledNodes.forEach(Fe=>{h.add(Fe);const je=this.driver.query(Fe,".ng-animate-queued",!0);for(let We=0;We<je.length;We++)h.add(je[We])});const m=this.bodyNode,g=Array.from(this.statesByElement.keys()),y=Ak(g,this.collectedEnterElements),E=new Map;let b=0;y.forEach((Fe,je)=>{const We=S0+b++;E.set(je,We),Fe.forEach(Ot=>_s(Ot,We))});const C=[],k=new Set,B=new Set;for(let Fe=0;Fe<this.collectedLeaveElements.length;Fe++){const je=this.collectedLeaveElements[Fe],We=je[gs];We&&We.setForRemoval&&(C.push(je),k.add(je),We.hasAnimation?this.driver.query(je,".ng-star-inserted",!0).forEach(Ot=>k.add(Ot)):B.add(je))}const P=new Map,X=Ak(g,Array.from(k));X.forEach((Fe,je)=>{const We=hv+b++;P.set(je,We),Fe.forEach(Ot=>_s(Ot,We))}),e.push(()=>{y.forEach((Fe,je)=>{const We=E.get(je);Fe.forEach(Ot=>Hd(Ot,We))}),X.forEach((Fe,je)=>{const We=P.get(je);Fe.forEach(Ot=>Hd(Ot,We))}),C.forEach(Fe=>{this.processLeaveNode(Fe)})});const pe=[],ke=[];for(let Fe=this._namespaceList.length-1;Fe>=0;Fe--)this._namespaceList[Fe].drainQueuedTransitions(t).forEach(We=>{const Ot=We.player,xr=We.element;if(pe.push(Ot),this.collectedEnterElements.length){const di=xr[gs];if(di&&di.setForMove){if(di.previousTriggersValues&&di.previousTriggersValues.has(We.triggerName)){const Au=di.previousTriggersValues.get(We.triggerName),Is=this.statesByElement.get(We.element);if(Is&&Is.has(We.triggerName)){const aI=Is.get(We.triggerName);aI.value=Au,Is.set(We.triggerName,aI)}}return void Ot.destroy()}}const Po=!m||!this.driver.containsElement(m,xr),es=P.get(xr),ec=E.get(xr),Rn=this._buildInstruction(We,r,ec,es,Po);if(Rn.errors&&Rn.errors.length)return void ke.push(Rn);if(Po)return Ot.onStart(()=>Bc(xr,Rn.fromStyles)),Ot.onDestroy(()=>yo(xr,Rn.toStyles)),void i.push(Ot);if(We.isFallbackTransition)return Ot.onStart(()=>Bc(xr,Rn.fromStyles)),Ot.onDestroy(()=>yo(xr,Rn.toStyles)),void i.push(Ot);const l4=[];Rn.timelines.forEach(di=>{di.stretchStartingKeyframe=!0,this.disabledNodes.has(di.element)||l4.push(di)}),Rn.timelines=l4,r.append(xr,Rn.timelines),o.push({instruction:Rn,player:Ot,element:xr}),Rn.queriedElements.forEach(di=>qi(a,di,[]).push(Ot)),Rn.preStyleProps.forEach((di,Au)=>{if(di.size){let Is=l.get(Au);Is||l.set(Au,Is=new Set),di.forEach((aI,yR)=>Is.add(yR))}}),Rn.postStyleProps.forEach((di,Au)=>{let Is=d.get(Au);Is||d.set(Au,Is=new Set),di.forEach((aI,yR)=>Is.add(yR))})});if(ke.length){const Fe=[];ke.forEach(je=>{Fe.push(function Cq(n,e){return new I(3505,!1)}())}),pe.forEach(je=>je.destroy()),this.reportError(Fe)}const vt=new Map,Bn=new Map;o.forEach(Fe=>{const je=Fe.element;r.has(je)&&(Bn.set(je,je),this._beforeAnimationBuild(Fe.player.namespaceId,Fe.instruction,vt))}),i.forEach(Fe=>{const je=Fe.element;this._getPreviousPlayers(je,!1,Fe.namespaceId,Fe.triggerName,null).forEach(Ot=>{qi(vt,je,[]).push(Ot),Ot.destroy()})});const Hs=C.filter(Fe=>Mk(Fe,l,d)),ws=new Map;Sk(ws,this.driver,B,d,ua).forEach(Fe=>{Mk(Fe,l,d)&&Hs.push(Fe)});const l_=new Map;y.forEach((Fe,je)=>{Sk(l_,this.driver,new Set(Fe),l,v0)}),Hs.forEach(Fe=>{const je=ws.get(Fe),We=l_.get(Fe);ws.set(Fe,new Map([...Array.from(je?.entries()??[]),...Array.from(We?.entries()??[])]))});const Su=[],o4=[],a4={};o.forEach(Fe=>{const{element:je,player:We,instruction:Ot}=Fe;if(r.has(je)){if(h.has(je))return We.onDestroy(()=>yo(je,Ot.toStyles)),We.disabled=!0,We.overrideTotalTime(Ot.totalTime),void i.push(We);let xr=a4;if(Bn.size>1){let es=je;const ec=[];for(;es=es.parentNode;){const Rn=Bn.get(es);if(Rn){xr=Rn;break}ec.push(es)}ec.forEach(Rn=>Bn.set(Rn,xr))}const Po=this._buildAnimation(We.namespaceId,Ot,vt,s,l_,ws);if(We.setRealPlayer(Po),xr===a4)Su.push(We);else{const es=this.playersByElement.get(xr);es&&es.length&&(We.parentPlayer=_l(es)),i.push(We)}}else Bc(je,Ot.fromStyles),We.onDestroy(()=>yo(je,Ot.toStyles)),o4.push(We),h.has(je)&&i.push(We)}),o4.forEach(Fe=>{const je=s.get(Fe.element);if(je&&je.length){const We=_l(je);Fe.setRealPlayer(We)}}),i.forEach(Fe=>{Fe.parentPlayer?Fe.syncPlayerEvents(Fe.parentPlayer):Fe.destroy()});for(let Fe=0;Fe<C.length;Fe++){const je=C[Fe],We=je[gs];if(Hd(je,hv),We&&We.hasAnimation)continue;let Ot=[];if(a.size){let Po=a.get(je);Po&&Po.length&&Ot.push(...Po);let es=this.driver.query(je,A0,!0);for(let ec=0;ec<es.length;ec++){let Rn=a.get(es[ec]);Rn&&Rn.length&&Ot.push(...Rn)}}const xr=Ot.filter(Po=>!Po.destroyed);xr.length?SG(this,je,xr):this.processLeaveNode(je)}return C.length=0,Su.forEach(Fe=>{this.players.push(Fe),Fe.onDone(()=>{Fe.destroy();const je=this.players.indexOf(Fe);this.players.splice(je,1)}),Fe.play()}),Su}elementContainsData(e,t){let r=!1;const i=t[gs];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==cm;a.forEach(d=>{d.queued||!l&&d.triggerName!=i||o.push(d)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const d=l.element,h=d!==s,m=qi(r,d,[]);this._getPreviousPlayers(d,h,o,a,t.toState).forEach(y=>{const E=y.getRealPlayer();E.beforeDestroy&&E.beforeDestroy(),y.destroy(),m.push(y)})}Bc(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,l=t.element,d=[],h=new Set,m=new Set,g=t.timelines.map(E=>{const b=E.element;h.add(b);const C=b[gs];if(C&&C.removedBeforeQueried)return new sm(E.duration,E.delay);const k=b!==l,B=function AG(n){const e=[];return Rk(n,e),e}((r.get(b)||EG).map(vt=>vt.getRealPlayer())).filter(vt=>!!vt.element&&vt.element===b),P=s.get(b),X=o.get(b),pe=tk(0,this._normalizer,0,E.keyframes,P,X),ke=this._buildPlayer(E,pe,B);if(E.subTimeline&&i&&m.add(b),k){const vt=new j0(e,a,b);vt.setRealPlayer(ke),d.push(vt)}return ke});d.forEach(E=>{qi(this.playersByQueriedElement,E.element,[]).push(E),E.onDone(()=>function CG(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,E.element,E))}),h.forEach(E=>_s(E,uk));const y=_l(g);return y.onDestroy(()=>{h.forEach(E=>Hd(E,uk)),yo(l,t.toStyles)}),m.forEach(E=>{qi(i,E,[]).push(y)}),y}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new sm(e.duration,e.delay)}}class j0{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new sm,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>w0(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){qi(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Dv(n){return n&&1===n.nodeType}function Tk(n,e){const t=n.style.display;return n.style.display=e??"none",t}function Sk(n,e,t,r,i){const s=[];t.forEach(l=>s.push(Tk(l)));const o=[];r.forEach((l,d)=>{const h=new Map;l.forEach(m=>{const g=e.computeStyle(d,m,i);h.set(m,g),(!g||0==g.length)&&(d[gs]=wG,o.push(d))}),n.set(d,h)});let a=0;return t.forEach(l=>Tk(l,s[a++])),o}function Ak(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=1,i=new Set(e),s=new Map;function o(a){if(!a)return r;let l=s.get(a);if(l)return l;const d=a.parentNode;return l=t.has(d)?d:i.has(d)?r:o(d),s.set(a,l),l}return e.forEach(a=>{const l=o(a);l!==r&&t.get(l).push(a)}),t}function _s(n,e){n.classList?.add(e)}function Hd(n,e){n.classList?.remove(e)}function SG(n,e,t){_l(t).onDone(()=>n.processLeaveNode(e))}function Rk(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof JN?Rk(r.players,e):e.push(r)}}function Mk(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class Tv{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new bG(e,t,r),this._timelineEngine=new mG(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],d=[],h=P0(this._driver,s,l,d);if(l.length)throw function fq(n,e){return new I(3404,!1)}();a=function dG(n,e,t){return new hG(n,e,t)}(i,h,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=nk(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=nk(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let xG=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&yo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(yo(this._element,this._initialStyles),this._endStyles&&(yo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Bc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Bc(this._element,this._endStyles),this._endStyles=null),yo(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function H0(n){let e=null;return n.forEach((t,r)=>{(function PG(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class xk{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:gk(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class NG{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return ok(e,t)}getParentElement(e){return D0(e)}query(e,t,r){return ak(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const d=new Map,h=o.filter(y=>y instanceof xk);(function Vq(n,e){return 0===n||0===e})(r,i)&&h.forEach(y=>{y.currentSnapshot.forEach((E,b)=>d.set(b,E))});let m=function Nq(n){return n.length?n[0]instanceof Map?n:n.map(e=>dk(e)):[]}(t).map(y=>yl(y));m=function Lq(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,gk(n,a)))}}return e}(e,m,d);const g=function MG(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=H0(e[0]),e.length>1&&(r=H0(e[e.length-1]))):e instanceof Map&&(t=H0(e)),t||r?new xG(n,t,r):null}(e,m);return new xk(e,m,l,g)}}let kG=(()=>{class n extends QN{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:pi.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?YN(t):t;return Pk(this._renderer,null,r,"register",[i]),new OG(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(Y(Vp),Y(mn))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();class OG extends H8{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new FG(this._id,e,t||{},this._renderer)}}class FG{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Pk(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Pk(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const Nk="@.disabled";let VG=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let h=this._rendererCache.get(s);return h||(h=new kk("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,h)),h}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=h=>{Array.isArray(h)?h.forEach(l):this.engine.registerTrigger(o,a,t,h.name,h)};return r.data.animation.forEach(l),new LG(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(Y(Vp),Y(Tv),Y(yt))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();class kk{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==Nk?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class LG extends kk{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Nk?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function BG(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function UG(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let $G=(()=>{class n extends Tv{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(Y(mn),Y(T0),Y(V0),Y(Xp))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();const Ok=[{provide:QN,useClass:kG},{provide:V0,useFactory:function jG(){return new aG}},{provide:Tv,useClass:$G},{provide:Vp,useFactory:function HG(n,e,t){return new VG(n,e,t)},deps:[uv,Tv,yt]}],z0=[{provide:T0,useFactory:()=>new NG},{provide:D1,useValue:"BrowserAnimations"},...Ok],Fk=[{provide:T0,useClass:lk},{provide:D1,useValue:"NoopAnimations"},...Ok];let zG=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Fk:z0}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Vt({type:n}),n.\u0275inj=Zt({providers:z0,imports:[GN]}),n})();function Ne(...n){return x(n,Gs(n))}class ii extends j{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Av=He(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:qG}=Array,{getPrototypeOf:GG,prototype:WG,keys:KG}=Object;function Vk(n){if(1===n.length){const e=n[0];if(qG(e))return{args:e,keys:null};if(function ZG(n){return n&&"object"==typeof n&&GG(n)===WG}(e)){const t=KG(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:QG}=Array;function q0(n){return ye(e=>function YG(n,e){return QG(e)?n(...e):n(e)}(n,e))}function Lk(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function zd(...n){const e=Gs(n),t=ka(n),{args:r,keys:i}=Vk(n);if(0===r.length)return x([],e);const s=new tt(function XG(n,e,t=Un){return r=>{Bk(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)Bk(e,()=>{const d=x(n[l],e);let h=!1;d.subscribe(_e(r,m=>{s[l]=m,h||(h=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>Lk(i,o):Un));return t?s.pipe(q0(t)):s}function Bk(n,e,t){n?Er(t,n,e):e()}function Rv(...n){return function JG(){return Bi(1)}()(x(n,Gs(n)))}function Uk(n){return new tt(e=>{Cn(n()).subscribe(e)})}function um(n,e){const t=w(n)?n:()=>n,r=i=>i.error(t());return new tt(e?i=>e.schedule(r,0,i):r)}function G0(){return z((n,e)=>{let t=null;n._refCount++;const r=_e(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class W0 extends tt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ne(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Tt;const t=this.getSubject();e.add(this.source.subscribe(_e(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Tt.EMPTY)}return e}refCount(){return G0()(this)}}function Dr(n,e){return z((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(_e(r,l=>{i?.unsubscribe();let d=0;const h=s++;Cn(n(l,h)).subscribe(i=_e(r,m=>r.next(e?e(l,m,h,d++):m),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function fa(n){return n<=0?()=>Qn:z((e,t)=>{let r=0;e.subscribe(_e(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function qd(...n){const e=Gs(n);return z((t,r)=>{(e?Rv(n,t,e):Rv(n,t)).subscribe(r)})}function Wi(n,e){return z((t,r)=>{let i=0;t.subscribe(_e(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Mv(n){return z((e,t)=>{let r=!1;e.subscribe(_e(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function $k(n=eW){return z((e,t)=>{let r=!1;e.subscribe(_e(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function eW(){return new Av}function pa(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Wi((i,s)=>n(i,s,r)):Un,fa(1),t?Mv(e):$k(()=>new Av))}function $c(n,e){return w(e)?Wt(n,e,1):Wt(n,1)}function Br(n,e,t){const r=w(n)||e||t?{next:n,error:e,complete:t}:n;return r?z((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(_e(s,l=>{var d;null===(d=r.next)||void 0===d||d.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var d;a=!1,null===(d=r.error)||void 0===d||d.call(r,l),s.error(l)},()=>{var l,d;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(d=r.finalize)||void 0===d||d.call(r)}))}):Un}function vl(n){return z((e,t)=>{let s,r=null,i=!1;r=e.subscribe(_e(t,void 0,void 0,o=>{s=Cn(n(o,vl(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function dm(n,e){return z(function tW(n,e,t,r,i){return(s,o)=>{let a=t,l=e,d=0;s.subscribe(_e(o,h=>{const m=d++;l=a?n(l,h,m):(a=!0,h),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(n,e,arguments.length>=2,!0))}function K0(n){return n<=0?()=>Qn:z((e,t)=>{let r=[];e.subscribe(_e(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function jk(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Wi((i,s)=>n(i,s,r)):Un,K0(1),t?Mv(e):$k(()=>new Av))}function Z0(n){return z((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const it="primary",hm=Symbol("RouteTitle");class iW{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Gd(n){return new iW(n)}function sW(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function vo(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!Hk(n[i],e[i]))return!1;return!0}function Hk(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function zk(n){return Array.prototype.concat.apply([],n)}function qk(n){return n.length>0?n[n.length-1]:null}function Ur(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function El(n){return eC(n)?n:jp(n)?x(Promise.resolve(n)):Ne(n)}const xv=!1,aW={exact:function Kk(n,e,t){if(!jc(n.segments,e.segments)||!Pv(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Kk(n.children[r],e.children[r],t))return!1;return!0},subset:Zk},Gk={exact:function lW(n,e){return vo(n,e)},subset:function cW(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Hk(n[t],e[t]))},ignored:()=>!0};function Wk(n,e,t){return aW[t.paths](n.root,e.root,t.matrixParams)&&Gk[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Zk(n,e,t){return Qk(n,e,e.segments,t)}function Qk(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!jc(i,t)||e.hasChildren()||!Pv(i,t,r))}if(n.segments.length===t.length){if(!jc(n.segments,t)||!Pv(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Zk(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(jc(n.segments,i)&&Pv(n.segments,i,r)&&n.children[it])&&Qk(n.children[it],e,s,r)}}function Pv(n,e,t){return e.every((r,i)=>Gk[t](n[i].parameters,r.parameters))}class wl{constructor(e=new mt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gd(this.queryParams)),this._queryParamMap}toString(){return hW.serialize(this)}}class mt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Ur(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Nv(this)}}class fm{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Gd(this.parameters)),this._parameterMap}toString(){return Jk(this)}}function jc(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let pm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:function(){return new Q0},providedIn:"root"}),n})();class Q0{parse(e){const t=new wW(e);return new wl(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${mm(e.root,!0)}`,r=function mW(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${kv(t)}=${kv(i)}`).join("&"):`${kv(t)}=${kv(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function fW(n){return encodeURI(n)}(e.fragment)}`:""}`}}const hW=new Q0;function Nv(n){return n.segments.map(e=>Jk(e)).join("/")}function mm(n,e){if(!n.hasChildren())return Nv(n);if(e){const t=n.children[it]?mm(n.children[it],!1):"",r=[];return Ur(n.children,(i,s)=>{s!==it&&r.push(`${s}:${mm(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function dW(n,e){let t=[];return Ur(n.children,(r,i)=>{i===it&&(t=t.concat(e(r,i)))}),Ur(n.children,(r,i)=>{i!==it&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===it?[mm(n.children[it],!1)]:[`${i}:${mm(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[it]?`${Nv(n)}/${t[0]}`:`${Nv(n)}/(${t.join("//")})`}}function Yk(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kv(n){return Yk(n).replace(/%3B/gi,";")}function Y0(n){return Yk(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ov(n){return decodeURIComponent(n)}function Xk(n){return Ov(n.replace(/\+/g,"%20"))}function Jk(n){return`${Y0(n.path)}${function pW(n){return Object.keys(n).map(e=>`;${Y0(e)}=${Y0(n[e])}`).join("")}(n.parameters)}`}const gW=/^[^\/()?;=#]+/;function Fv(n){const e=n.match(gW);return e?e[0]:""}const _W=/^[^=?&#]+/,vW=/^[^&#]+/;class wW{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new mt([],{}):new mt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[it]=new mt(e,t)),r}parseSegment(){const e=Fv(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new I(4009,xv);return this.capture(e),new fm(Ov(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Fv(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Fv(this.remaining);i&&(r=i,this.capture(r))}e[Ov(t)]=Ov(r)}parseQueryParam(e){const t=function yW(n){const e=n.match(_W);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function EW(n){const e=n.match(vW);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=Xk(t),s=Xk(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Fv(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new I(4010,xv);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=it);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[it]:new mt([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new I(4011,xv)}}function X0(n){return n.segments.length>0?new mt([],{[it]:n}):n}function Vv(n){const e={};for(const r of Object.keys(n.children)){const s=Vv(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function IW(n){if(1===n.numberOfChildren&&n.children[it]){const e=n.children[it];return new mt(n.segments.concat(e.segments),e.children)}return n}(new mt(n.segments,e))}function Hc(n){return n instanceof wl}const J0=!1;function bW(n,e,t,r,i){if(0===t.length)return Wd(e.root,e.root,e.root,r,i);const s=function iO(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new rO(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Ur(s.outlets,(l,d)=>{a[d]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new rO(t,e,r)}(t);return s.toRoot()?Wd(e.root,e.root,new mt([],{}),r,i):function o(l){const d=function DW(n,e,t,r){if(n.isAbsolute)return new Kd(e.root,!0,0);if(-1===r)return new Kd(t,t===e.root,0);return function sO(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new I(4005,J0&&"Invalid number of '../'");i=r.segments.length}return new Kd(r,!1,i-s)}(t,r+(gm(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,l),h=d.processChildren?Zd(d.segmentGroup,d.index,s.commands):eD(d.segmentGroup,d.index,s.commands);return Wd(e.root,d.segmentGroup,h,r,i)}(n.snapshot?._lastPathIndex)}function gm(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function _m(n){return"object"==typeof n&&null!=n&&n.outlets}function Wd(n,e,t,r,i){let o,s={};r&&Ur(r,(l,d)=>{s[d]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`}),o=n===e?t:nO(n,e,t);const a=X0(Vv(o));return new wl(a,s,i)}function nO(n,e,t){const r={};return Ur(n.children,(i,s)=>{r[s]=i===e?t:nO(i,e,t)}),new mt(n.segments,r)}class rO{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&gm(r[0]))throw new I(4003,J0&&"Root segment cannot have matrix parameters");const i=r.find(_m);if(i&&i!==qk(r))throw new I(4004,J0&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Kd{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function eD(n,e,t){if(n||(n=new mt([],{})),0===n.segments.length&&n.hasChildren())return Zd(n,e,t);const r=function SW(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(_m(a))break;const l=`${a}`,d=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&d&&"object"==typeof d&&void 0===d.outlets){if(!aO(l,d,o))return s;r+=2}else{if(!aO(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new mt(n.segments.slice(0,r.pathIndex),{});return s.children[it]=new mt(n.segments.slice(r.pathIndex),n.children),Zd(s,0,i)}return r.match&&0===i.length?new mt(n.segments,{}):r.match&&!n.hasChildren()?tD(n,e,t):r.match?Zd(n,0,i):tD(n,e,t)}function Zd(n,e,t){if(0===t.length)return new mt(n.segments,{});{const r=function TW(n){return _m(n[0])?n[0].outlets:{[it]:n}}(t),i={};if(!r[it]&&n.children[it]&&1===n.numberOfChildren&&0===n.children[it].segments.length){const s=Zd(n.children[it],e,t);return new mt(n.segments,s.children)}return Ur(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=eD(n.children[o],e,s))}),Ur(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new mt(n.segments,i)}}function tD(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(_m(s)){const l=AW(s.outlets);return new mt(r,l)}if(0===i&&gm(t[0])){r.push(new fm(n.segments[e].path,oO(t[0]))),i++;continue}const o=_m(s)?s.outlets[it]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&gm(a)?(r.push(new fm(o,oO(a))),i+=2):(r.push(new fm(o,{})),i++)}return new mt(r,{})}function AW(n){const e={};return Ur(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=tD(new mt([],{}),0,t))}),e}function oO(n){const e={};return Ur(n,(t,r)=>e[r]=`${t}`),e}function aO(n,e,t){return n==t.path&&vo(e,t.parameters)}const ym="imperative";class Eo{constructor(e,t){this.id=e,this.url=t}}class nD extends Eo{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zc extends Eo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Lv extends Eo{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Bv extends Eo{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class rD extends Eo{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class RW extends Eo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class MW extends Eo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xW extends Eo{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class PW extends Eo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NW extends Eo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kW{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class OW{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class FW{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class VW{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class LW{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BW{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lO{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let jW=(()=>{class n{createUrlTree(t,r,i,s,o,a){return bW(t||r.root,i,s,o,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})(),zW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:function(e){return jW.\u0275fac(e)},providedIn:"root"}),n})();class cO{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=iD(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=iD(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=sD(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return sD(e,this._root).map(t=>t.value)}}function iD(n,e){if(n===e.value)return e;for(const t of e.children){const r=iD(n,t);if(r)return r}return null}function sD(n,e){if(n===e.value)return[e];for(const t of e.children){const r=sD(n,t);if(r.length)return r.unshift(e),r}return[]}class ma{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Qd(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class uO extends cO{constructor(e,t){super(e),this.snapshot=t,oD(this,e)}toString(){return this.snapshot.toString()}}function dO(n,e){const t=function qW(n,e){const o=new Uv([],{},{},"",{},it,e,null,n.root,-1,{});return new fO("",new ma(o,[]))}(n,e),r=new ii([new fm("",{})]),i=new ii({}),s=new ii({}),o=new ii({}),a=new ii(""),l=new Yd(r,i,o,a,s,it,e,t.root);return l.snapshot=t.root,new uO(new ma(l,[]),t)}class Yd{constructor(e,t,r,i,s,o,a,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(ye(d=>d[hm]))??Ne(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ye(e=>Gd(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ye(e=>Gd(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function hO(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function GW(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Uv{get title(){return this.data?.[hm]}constructor(e,t,r,i,s,o,a,l,d,h,m){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=d,this._lastPathIndex=h,this._resolve=m}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class fO extends cO{constructor(e,t){super(t),this.url=e,oD(this,t)}toString(){return pO(this._root)}}function oD(n,e){e.value._routerState=n,e.children.forEach(t=>oD(n,t))}function pO(n){const e=n.children.length>0?` { ${n.children.map(pO).join(", ")} } `:"";return`${n.value}${e}`}function aD(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,vo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),vo(e.params,t.params)||n.params.next(t.params),function oW(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!vo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),vo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function lD(n,e){const t=vo(n.params,e.params)&&function uW(n,e){return jc(n,e)&&n.every((t,r)=>vo(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||lD(n.parent,e.parent))}function vm(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function KW(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return vm(n,r,i);return vm(n,r)})}(n,e,t);return new ma(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>vm(n,a)),o}}const r=function ZW(n){return new Yd(new ii(n.url),new ii(n.params),new ii(n.queryParams),new ii(n.fragment),new ii(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>vm(n,s));return new ma(r,i)}}const cD="ngNavigationCancelingError";function mO(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Hc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=gO(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function gO(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[cD]=!0,r.cancellationCode=e,t&&(r.url=t),r}function _O(n){return yO(n)&&Hc(n.url)}function yO(n){return n&&n[cD]}class QW{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Em,this.attachRef=null}}let Em=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new QW,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $v=!1;let uD=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=it,this.activateEvents=new pn,this.deactivateEvents=new pn,this.attachEvents=new pn,this.detachEvents=new pn,this.parentContexts=Ye(Em),this.location=Ye(ri),this.changeDetector=Ye(Nc),this.environmentInjector=Ye(ta)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,$v);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,$v);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,$v);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new I(4013,$v);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new YW(t,a,i.injector);if(r&&function XW(n){return!!n.resolveComponentFactory}(r)){const d=r.resolveComponentFactory(o);this.activated=i.createComponent(d,i.length,l)}else this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ue({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[er]}),n})();class YW{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Yd?this.route:e===Em?this.childContexts:this.parent.get(e,t)}}let dD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Qt({type:n,selectors:[["ng-component"]],standalone:!0,features:[fC],decls:1,vars:0,template:function(t,r){1&t&&$e(0,"router-outlet")},dependencies:[uD],encapsulation:2}),n})();function vO(n,e){return n.providers&&!n._injector&&(n._injector=Uy(n.providers,e,`Route: ${n.path}`)),n._injector??e}function fD(n){const e=n.children&&n.children.map(fD),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==it&&(t.component=dD),t}function ys(n){return n.outlet||it}function EO(n,e){const t=n.filter(r=>ys(r)===e);return t.push(...n.filter(r=>ys(r)!==e)),t}function wm(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class r7{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),aD(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Qd(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Ur(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Qd(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Qd(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Qd(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new BW(s.value.snapshot))}),e.children.length&&this.forwardEvent(new VW(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(aD(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),aD(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=wm(i.snapshot),l=a?.get(Fp)??null;o.attachRef=null,o.route=i,o.resolver=l,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class wO{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class jv{constructor(e,t){this.component=e,this.route=t}}function i7(n,e,t){const r=n._root;return Im(r,e?e._root:null,t,[r.value])}function Xd(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function cf(n){return null!==xu(n)}(n)?e.get(n):n:r}function Im(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Qd(e);return n.children.forEach(o=>{(function o7(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function a7(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!jc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!jc(n.url,e.url)||!vo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lD(n,e)||!vo(n.queryParams,e.queryParams);default:return!lD(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new wO(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Im(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new jv(a.outlet.component,o))}else o&&bm(e,a,i),i.canActivateChecks.push(new wO(r)),Im(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Ur(s,(o,a)=>bm(o,t.getContext(a),i)),i}function bm(n,e,t){const r=Qd(n),i=n.value;Ur(r,(s,o)=>{bm(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new jv(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Cm(n){return"function"==typeof n}function pD(n){return n instanceof Av||"EmptyError"===n?.name}const Hv=Symbol("INITIAL_VALUE");function Jd(){return Dr(n=>zd(n.map(e=>e.pipe(fa(1),qd(Hv)))).pipe(ye(e=>{for(const t of e)if(!0!==t){if(t===Hv)return Hv;if(!1===t||t instanceof wl)return t}return!0}),Wi(e=>e!==Hv),fa(1)))}function IO(n){return function ts(...n){return ns(n)}(Br(e=>{if(Hc(e))throw mO(0,e)}),ye(e=>!0===e))}const mD={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bO(n,e,t,r,i){const s=gD(n,e,t);return s.matched?function C7(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?Ne(i.map(o=>{const a=Xd(o,n);return El(function f7(n){return n&&Cm(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Jd(),IO()):Ne(!0)}(r=vO(e,r),e,t).pipe(ye(o=>!0===o?s:{...mD})):Ne(s)}function gD(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...mD}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||sW)(t,n,e);if(!i)return{...mD};const s={};Ur(i.posParams,(a,l)=>{s[l]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function zv(n,e,t,r){if(t.length>0&&function S7(n,e,t){return t.some(r=>qv(n,e,r)&&ys(r)!==it)}(n,t,r)){const s=new mt(e,function T7(n,e,t,r){const i={};i[it]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&ys(s)!==it){const o=new mt([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[ys(s)]=o}return i}(n,e,r,new mt(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function A7(n,e,t){return t.some(r=>qv(n,e,r))}(n,t,r)){const s=new mt(n.segments,function D7(n,e,t,r,i){const s={};for(const o of r)if(qv(n,t,o)&&!i[ys(o)]){const a=new mt([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,s[ys(o)]=a}return{...i,...s}}(n,e,t,r,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const i=new mt(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function qv(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function CO(n,e,t,r){return!!(ys(n)===r||r!==it&&qv(e,t,n))&&("**"===n.path||gD(e,n,t).matched)}function DO(n,e,t){return 0===e.length&&!n.children[t]}const Gv=!1;class Wv{constructor(e){this.segmentGroup=e||null}}class TO{constructor(e){this.urlTree=e}}function Dm(n){return um(new Wv(n))}function SO(n){return um(new TO(n))}class P7{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=zv(this.urlTree.root,[],[],this.config).segmentGroup,t=new mt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,it).pipe(ye(s=>this.createUrlTree(Vv(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(vl(s=>{if(s instanceof TO)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Wv?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,it).pipe(ye(i=>this.createUrlTree(Vv(i),e.queryParams,e.fragment))).pipe(vl(i=>{throw i instanceof Wv?this.noMatchError(i):i}))}noMatchError(e){return new I(4002,Gv)}createUrlTree(e,t,r){const i=X0(e);return new wl(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(ye(s=>new mt([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return x(i).pipe($c(s=>{const o=r.children[s],a=EO(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(ye(l=>({segment:l,outlet:s})))}),dm((s,o)=>(s[o.outlet]=o.segment,s),{}),jk())}expandSegment(e,t,r,i,s,o){return x(r).pipe($c(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(vl(d=>{if(d instanceof Wv)return Ne(null);throw d}))),pa(a=>!!a),vl((a,l)=>{if(pD(a))return DO(t,i,s)?Ne(new mt([],{})):Dm(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return CO(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):Dm(t):Dm(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?SO(s):this.lineralizeSegments(r,s).pipe(Wt(o=>{const a=new mt(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:d,positionalParamSegments:h}=gD(t,i,s);if(!a)return Dm(t);const m=this.applyRedirectCommands(l,i.redirectTo,h);return i.redirectTo.startsWith("/")?SO(m):this.lineralizeSegments(i,m).pipe(Wt(g=>this.expandSegment(e,t,r,g.concat(d),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=vO(r,e),r.loadChildren?(r._loadedRoutes?Ne({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(ye(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new mt(i,{})))):Ne(new mt(i,{}))):bO(t,r,i,e).pipe(Dr(({matched:o,consumedSegments:a,remainingSegments:l})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Wt(h=>{const m=h.injector??e,g=h.routes,{segmentGroup:y,slicedSegments:E}=zv(t,a,l,g),b=new mt(y.segments,y.children);if(0===E.length&&b.hasChildren())return this.expandChildren(m,g,b).pipe(ye(P=>new mt(a,P)));if(0===g.length&&0===E.length)return Ne(new mt(a,{}));const C=ys(r)===s;return this.expandSegment(m,b,g,E,C?it:s,!0).pipe(ye(B=>new mt(a.concat(B.segments),B.children)))})):Dm(t)))}getChildConfig(e,t,r){return t.children?Ne({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Ne({routes:t._loadedRoutes,injector:t._loadedInjector}):function b7(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?Ne(!0):Ne(i.map(o=>{const a=Xd(o,n);return El(function c7(n){return n&&Cm(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Jd(),IO())}(e,t,r).pipe(Wt(i=>i?this.configLoader.loadChildren(e,t).pipe(Br(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function M7(n){return um(gO(Gv,3))}())):Ne({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Ne(r);if(i.numberOfChildren>1||!i.children[it])return e.redirectTo,um(new I(4e3,Gv));i=i.children[it]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new wl(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Ur(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Ur(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,r,i)}),new mt(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new I(4001,Gv);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class k7{}class V7{constructor(e,t,r,i,s,o,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=zv(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,it).pipe(ye(t=>{if(null===t)return null;const r=new Uv([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},it,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ma(r,t),s=new fO(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=hO(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return x(Object.keys(r.children)).pipe($c(i=>{const s=r.children[i],o=EO(t,i);return this.processSegmentGroup(e,o,s,i)}),dm((i,s)=>i&&s?(i.push(...s),i):null),function nW(n,e=!1){return z((t,r)=>{let i=0;t.subscribe(_e(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),Mv(null),jk(),ye(i=>{if(null===i)return null;const s=RO(i);return function L7(n){n.sort((e,t)=>e.value.outlet===it?-1:t.value.outlet===it?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return x(t).pipe($c(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),pa(o=>!!o),vl(o=>{if(pD(o))return DO(r,i,s)?Ne([]):Ne(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!CO(t,r,i,s))return Ne(null);let o;if("**"===t.path){const a=i.length>0?qk(i).parameters:{},l=xO(r)+i.length;o=Ne({snapshot:new Uv(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,PO(t),ys(t),t.component??t._loadedComponent??null,t,MO(r),l,NO(t)),consumedSegments:[],remainingSegments:[]})}else o=bO(r,t,i,e).pipe(ye(({matched:a,consumedSegments:l,remainingSegments:d,parameters:h})=>{if(!a)return null;const m=xO(r)+l.length;return{snapshot:new Uv(l,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,PO(t),ys(t),t.component??t._loadedComponent??null,t,MO(r),m,NO(t)),consumedSegments:l,remainingSegments:d}}));return o.pipe(Dr(a=>{if(null===a)return Ne(null);const{snapshot:l,consumedSegments:d,remainingSegments:h}=a;e=t._injector??e;const m=t._loadedInjector??e,g=function B7(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:y,slicedSegments:E}=zv(r,d,h,g.filter(C=>void 0===C.redirectTo));if(0===E.length&&y.hasChildren())return this.processChildren(m,g,y).pipe(ye(C=>null===C?null:[new ma(l,C)]));if(0===g.length&&0===E.length)return Ne([new ma(l,[])]);const b=ys(t)===s;return this.processSegment(m,g,y,E,b?it:s).pipe(ye(C=>null===C?null:[new ma(l,C)]))}))}}function U7(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function RO(n){const e=[],t=new Set;for(const r of n){if(!U7(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=RO(r.children);e.push(new ma(r.value,i))}return e.filter(r=>!t.has(r))}function MO(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function xO(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function PO(n){return n.data||{}}function NO(n){return n.resolve||{}}function kO(n){return"string"==typeof n.title||null===n.title}function _D(n){return Dr(e=>{const t=n(e);return t?x(t).pipe(ye(()=>e)):Ne(e)})}const eh=new de("ROUTES");let yD=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Ye(T1)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ne(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=El(t.loadComponent()).pipe(ye(FO),Br(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Z0(()=>{this.componentLoaders.delete(t)})),i=new W0(r,()=>new j).pipe(G0());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ne({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(ye(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,d,h=!1;Array.isArray(a)?d=a:(l=a.create(t).injector,d=zk(l.get(eh,[],Be.Self|Be.Optional)));return{routes:d.map(fD),injector:l}}),Z0(()=>{this.childrenLoaders.delete(r)})),o=new W0(s,()=>new j).pipe(G0());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return El(t()).pipe(ye(FO),Wt(r=>r instanceof LP||Array.isArray(r)?Ne(r):x(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function FO(n){return function K7(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Zv=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new j,this.configLoader=Ye(yD),this.environmentInjector=Ye(ta),this.urlSerializer=Ye(pm),this.rootContexts=Ye(Em),this.navigationId=0,this.afterPreactivation=()=>Ne(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new OW(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new kW(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new ii({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ym,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Wi(r=>0!==r.id),ye(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Dr(r=>{let i=!1,s=!1;return Ne(r).pipe(Br(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Dr(o=>{const a=t.browserUrlTree.toString(),l=!t.navigated||o.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!l&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const h="";return this.events.next(new Bv(o.id,t.serializeUrl(r.rawUrl),h,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),Qn}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return VO(o.source)&&(t.browserUrlTree=o.extractedUrl),Ne(o).pipe(Dr(h=>{const m=this.transitions?.getValue();return this.events.next(new nD(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),m!==this.transitions?.getValue()?Qn:Promise.resolve(h)}),function N7(n,e,t,r){return Dr(i=>function x7(n,e,t,r,i){return new P7(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(ye(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Br(h=>{this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects},r.urlAfterRedirects=h.urlAfterRedirects}),function j7(n,e,t,r,i){return Wt(s=>function F7(n,e,t,r,i,s,o="emptyOnly"){return new V7(n,e,t,r,i,o,s).recognize().pipe(Dr(a=>null===a?function O7(n){return new tt(e=>e.error(n))}(new k7):Ne(a)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(ye(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Br(h=>{if(r.targetSnapshot=h.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!h.extras.skipLocationChange){const g=t.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl);t.setBrowserUrl(g,h)}t.browserUrlTree=h.urlAfterRedirects}const m=new RW(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}));if(l&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:h,extractedUrl:m,source:g,restoredState:y,extras:E}=o,b=new nD(h,this.urlSerializer.serialize(m),g,y);this.events.next(b);const C=dO(m,this.rootComponentType).snapshot;return Ne(r={...o,targetSnapshot:C,urlAfterRedirects:m,extras:{...E,skipLocationChange:!1,replaceUrl:!1}})}{const h="";return this.events.next(new Bv(o.id,t.serializeUrl(r.extractedUrl),h,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),Qn}}),Br(o=>{const a=new MW(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),ye(o=>r={...o,guards:i7(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function m7(n,e){return Wt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?Ne({...t,guardsResult:!0}):function g7(n,e,t,r){return x(n).pipe(Wt(i=>function I7(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Ne(s.map(a=>{const l=wm(e)??i,d=Xd(a,l);return El(function h7(n){return n&&Cm(n.canDeactivate)}(d)?d.canDeactivate(n,e,t,r):l.runInContext(()=>d(n,e,t,r))).pipe(pa())})).pipe(Jd()):Ne(!0)}(i.component,i.route,t,e,r)),pa(i=>!0!==i,!0))}(o,r,i,n).pipe(Wt(a=>a&&function l7(n){return"boolean"==typeof n}(a)?function _7(n,e,t,r){return x(e).pipe($c(i=>Rv(function v7(n,e){return null!==n&&e&&e(new FW(n)),Ne(!0)}(i.route.parent,r),function y7(n,e){return null!==n&&e&&e(new LW(n)),Ne(!0)}(i.route,r),function w7(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function s7(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Uk(()=>Ne(o.guards.map(l=>{const d=wm(o.node)??t,h=Xd(l,d);return El(function d7(n){return n&&Cm(n.canActivateChild)}(h)?h.canActivateChild(r,n):d.runInContext(()=>h(r,n))).pipe(pa())})).pipe(Jd())));return Ne(s).pipe(Jd())}(n,i.path,t),function E7(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Ne(!0);const i=r.map(s=>Uk(()=>{const o=wm(e)??t,a=Xd(s,o);return El(function u7(n){return n&&Cm(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(pa())}));return Ne(i).pipe(Jd())}(n,i.route,t))),pa(i=>!0!==i,!0))}(r,s,n,e):Ne(a)),ye(a=>({...t,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Br(o=>{if(r.guardsResult=o.guardsResult,Hc(o.guardsResult))throw mO(0,o.guardsResult);const a=new xW(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Wi(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),_D(o=>{if(o.guards.canActivateChecks.length)return Ne(o).pipe(Br(a=>{const l=new PW(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Dr(a=>{let l=!1;return Ne(a).pipe(function H7(n,e){return Wt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Ne(t);let s=0;return x(i).pipe($c(o=>function z7(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!kO(i)&&(s[hm]=i.title),function q7(n,e,t,r){const i=function G7(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Ne({});const s={};return x(i).pipe(Wt(o=>function W7(n,e,t,r){const i=wm(e)??r,s=Xd(n,i);return El(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(pa(),Br(a=>{s[o]=a}))),K0(1),function rW(n){return ye(()=>n)}(s),vl(o=>pD(o)?Qn:um(o)))}(s,n,e,r).pipe(ye(o=>(n._resolvedData=o,n.data=hO(n,t).resolve,i&&kO(i)&&(n.data[hm]=i.title),null)))}(o.route,r,n,e)),Br(()=>s++),K0(1),Wt(o=>s===i.length?Ne(t):Qn))})}(t.paramsInheritanceStrategy,this.environmentInjector),Br({next:()=>l=!0,complete:()=>{l||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Br(a=>{const l=new NW(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),_D(o=>{const a=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(Br(h=>{l.component=h}),ye(()=>{})));for(const h of l.children)d.push(...a(h));return d};return zd(a(o.targetSnapshot.root)).pipe(Mv(),fa(1))}),_D(()=>this.afterPreactivation()),ye(o=>{const a=function WW(n,e,t){const r=vm(n,e._root,t?t._root:void 0);return new uO(r,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Br(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>ye(r=>(new r7(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),fa(1),Br({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new zc(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Z0(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),vl(o=>{if(s=!0,yO(o)){_O(o)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new Lv(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),_O(o)){const l=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),d={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||VO(r.source)};t.scheduleNavigation(l,ym,null,d,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new rD(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(o))}catch(l){r.reject(l)}}return Qn}))}))}cancelNavigationTransition(t,r,i){const s=new Lv(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function VO(n){return n!==ym}let LO=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===it);return r}getResolvedTitleForRoute(t){return t.data[hm]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:function(){return Ye(Z7)},providedIn:"root"}),n})(),Z7=(()=>{class n extends LO{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(Y(WN))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Q7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:function(){return Ye(X7)},providedIn:"root"}),n})();class Y7{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let X7=(()=>{class n extends Y7{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(n)))(r||n)}}(),n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Qv=new de("",{providedIn:"root",factory:()=>({})});let eK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:function(){return Ye(tK)},providedIn:"root"}),n})(),tK=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nK(n){throw n}function rK(n,e,t){return e.parse("/")}const iK={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sK={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ki=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Ye(N9),this.isNgZoneEnabled=!1,this.options=Ye(Qv,{optional:!0})||{},this.errorHandler=this.options.errorHandler||nK,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||rK,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Ye(eK),this.routeReuseStrategy=Ye(Q7),this.urlCreationStrategy=Ye(zW),this.titleStrategy=Ye(LO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=zk(Ye(eh,{optional:!0})??[]),this.navigationTransitions=Ye(Zv),this.urlSerializer=Ye(pm),this.location=Ye(GC),this.isNgZoneEnabled=Ye(yt)instanceof yt&&yt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new wl,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=dO(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ym,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(fD),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,d=l?this.currentUrlTree.fragment:o;let h=null;switch(a){case"merge":h={...this.currentUrlTree.queryParams,...s};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}return null!==h&&(h=this.removeEmptyProps(h)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,h,d??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Hc(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,ym,null,r)}navigate(t,r={skipLocationChange:!1}){return function oK(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new I(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...iK}:!1===r?{...sK}:r,Hc(t))return Wk(this.currentUrlTree,t,i);const s=this.parseUrl(t);return Wk(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,d,h;return o?(a=o.resolve,l=o.reject,d=o.promise):d=new Promise((m,g)=>{a=m,l=g}),h="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:h,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class BO{}let cK=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Wi(t=>t instanceof zc),$c(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Uy(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return x(i).pipe(Bi())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Ne(null);const s=i.pipe(Wt(o=>null===o?Ne(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?x([s,this.loader.loadComponent(r)]).pipe(Bi()):s})}}return n.\u0275fac=function(t){return new(t||n)(Y(Ki),Y(T1),Y(ta),Y(BO),Y(yD))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wD=new de("");let UO=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof nD?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof zc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof lO&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new lO(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function zM(){throw new Error("invalid")}()},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();var Zi=(()=>((Zi=Zi||{})[Zi.COMPLETE=0]="COMPLETE",Zi[Zi.FAILED=1]="FAILED",Zi[Zi.REDIRECTING=2]="REDIRECTING",Zi))();const th=!1;function Il(n,e){return{\u0275kind:n,\u0275providers:e}}const ID=new de("",{providedIn:"root",factory:()=>!1});function jO(){const n=Ye(lo);return e=>{const t=n.get(Xp);if(e!==t.components[0])return;const r=n.get(Ki),i=n.get(HO);1===n.get(bD)&&r.initialNavigation(),n.get(zO,null,Be.Optional)?.setUpPreloading(),n.get(wD,null,Be.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const HO=new de(th?"bootstrap done indicator":"",{factory:()=>new j}),bD=new de(th?"initial navigation":"",{providedIn:"root",factory:()=>1});function pK(){let n=[];return n=th?[{provide:wy,multi:!0,useFactory:()=>{const e=Ye(Ki);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function UW(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Il(1,n)}const zO=new de(th?"router preloader":"");function mK(n){return Il(0,[{provide:zO,useExisting:cK},{provide:BO,useExisting:n}])}const Tm=!1,qO=new de(Tm?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),gK=[GC,{provide:pm,useClass:Q0},Ki,Em,{provide:Yd,useFactory:function $O(n){return n.routerState.root},deps:[Ki]},yD,Tm?{provide:ID,useValue:!0}:[]];function _K(){return new k1("Router",Ki)}let GO=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[gK,Tm&&r?.enableTracing?pK().\u0275providers:[],{provide:eh,multi:!0,useValue:t},{provide:qO,useFactory:wK,deps:[[Ki,new so,new oo]]},{provide:Qv,useValue:r||{}},r?.useHash?{provide:Oc,useClass:E5}:{provide:Oc,useClass:iN},{provide:wD,useFactory:()=>{const n=Ye(L6),e=Ye(yt),t=Ye(Qv),r=Ye(Zv),i=Ye(pm);return t.scrollOffset&&n.setOffset(t.scrollOffset),new UO(i,r,n,e,t)}},r?.preloadingStrategy?mK(r.preloadingStrategy).\u0275providers:[],{provide:k1,multi:!0,useFactory:_K},r?.initialNavigation?IK(r):[],[{provide:WO,useFactory:jO},{provide:N1,multi:!0,useExisting:WO}]]}}static forChild(t){return{ngModule:n,providers:[{provide:eh,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(Y(qO,8))},n.\u0275mod=Vt({type:n}),n.\u0275inj=Zt({imports:[dD]}),n})();function wK(n){if(Tm&&n)throw new I(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function IK(n){return["disabled"===n.initialNavigation?Il(3,[{provide:zy,multi:!0,useFactory:()=>{const e=Ye(Ki);return()=>{e.setUpLocationChangeListener()}}},{provide:bD,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Il(2,[{provide:bD,useValue:0},{provide:zy,multi:!0,deps:[lo],useFactory:e=>{const t=e.get(y5,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Ki),s=e.get(HO);(function uK(n,e){n.events.pipe(Wi(t=>t instanceof zc||t instanceof Lv||t instanceof rD||t instanceof Bv),ye(t=>t instanceof zc||t instanceof Bv?Zi.COMPLETE:t instanceof Lv&&(0===t.code||1===t.code)?Zi.REDIRECTING:Zi.FAILED),Wi(t=>t!==Zi.REDIRECTING),fa(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(Zv).afterPreactivation=()=>(r(!0),s.closed?Ne(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const WO=new de(Tm?"Router Initializer":"");let CD;try{CD=typeof Intl<"u"&&Intl.v8BreakIterator}catch{CD=!1}let Sm,Xv,qc,DD,ga=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function V6(n){return n===IN}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!CD)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(Y(Ud))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Yv(n){return function CK(){if(null==Sm&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Sm=!0}))}finally{Sm=Sm||!1}return Sm}()?n:!!n.capture}function Am(){if("object"!=typeof document||!document)return 0;if(null==Xv){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",n.appendChild(t),document.body.appendChild(n),Xv=0,0===n.scrollLeft&&(n.scrollLeft=1,Xv=0===n.scrollLeft?1:2),n.remove()}return Xv}function rh(n){return n.composedPath?n.composedPath()[0]:n.target}function ZO(n){return Wi((e,t)=>n<=t)}function QO(n,e=Un){return n=n??FK,z((t,r)=>{let i,s=!0;t.subscribe(_e(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}function FK(n,e){return n===e}function _a(n){return z((e,t)=>{Cn(n).subscribe(_e(t,()=>t.complete(),Re)),!t.closed&&e.subscribe(t)})}function bl(n){return null!=n&&"false"!=`${n}`}function XO(n){return Array.isArray(n)?n:[n]}function ih(n){return n instanceof sn?n.nativeElement:n}class VK extends Tt{constructor(e,t){super()}schedule(e,t=0){return this}}const Jv={setInterval(n,e,...t){const{delegate:r}=Jv;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Jv;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class eE extends VK{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Jv.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Jv.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,qe(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const TD={now:()=>(TD.delegate||Date).now(),delegate:void 0};class Rm{constructor(e,t=Rm.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Rm.now=TD.now;class tE extends Rm{constructor(e,t=Rm.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Mm=new tE(eE),LK=Mm,JO=new Set;let sh,UK=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):jK}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function $K(n){if(!JO.has(n))try{sh||(sh=document.createElement("style"),sh.setAttribute("type","text/css"),document.head.appendChild(sh)),sh.sheet&&(sh.sheet.insertRule(`@media ${n} {body{ }}`,0),JO.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(Y(ga))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jK(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let HK=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new j}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return eF(XO(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let s=zd(eF(XO(t)).map(o=>this._registerQuery(o).observable));return s=Rv(s.pipe(fa(1)),s.pipe(ZO(1),function BK(n,e=Mm){return z((t,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const d=s;s=null,r.next(d)}};function l(){const d=o+n,h=e.now();if(h<d)return i=this.schedule(void 0,d-h),void r.add(i);a()}t.subscribe(_e(r,d=>{s=d,o=e.now(),i||(i=e.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}(0))),s.pipe(ye(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:d})=>{a.matches=a.matches||l,a.breakpoints[d]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),s={observable:new tt(o=>{const a=l=>this._zone.run(()=>o.next(l));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(qd(r),ye(({matches:o})=>({query:t,matches:o})),_a(this._destroySubject)),mql:r};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(Y(UK),Y(yt))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eF(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function nE(n,e){return(n.getAttribute(e)||"").match(/\S+/g)||[]}const nF="cdk-describedby-message",rE="cdk-describedby-host";let SD=0,GK=(()=>{class n{constructor(t,r){this._platform=r,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+SD++,this._document=t,this._id=Ye(Bd)+"-"+SD++}describe(t,r,i){if(!this._canBeDescribed(t,r))return;const s=AD(r,i);"string"!=typeof r?(rF(r,this._id),this._messageRegistry.set(s,{messageElement:r,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(r,i),this._isElementDescribedByMessage(t,s)||this._addMessageReference(t,s)}removeDescription(t,r,i){if(!r||!this._isElementNode(t))return;const s=AD(r,i);if(this._isElementDescribedByMessage(t,s)&&this._removeMessageReference(t,s),"string"==typeof r){const o=this._messageRegistry.get(s);o&&0===o.referenceCount&&this._deleteMessageElement(s)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const t=this._document.querySelectorAll(`[${rE}="${this._id}"]`);for(let r=0;r<t.length;r++)this._removeCdkDescribedByReferenceIds(t[r]),t[r].removeAttribute(rE);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,r){const i=this._document.createElement("div");rF(i,this._id),i.textContent=t,r&&i.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(i),this._messageRegistry.set(AD(t,r),{messageElement:i,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let s=0;s<r.length;s++)r[s].remove();const i=this._document.createElement("div");i.style.visibility="hidden",i.classList.add(t),i.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&i.setAttribute("platform","server"),this._document.body.appendChild(i),this._messagesContainer=i}_removeCdkDescribedByReferenceIds(t){const r=nE(t,"aria-describedby").filter(i=>0!=i.indexOf(nF));t.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(t,r){const i=this._messageRegistry.get(r);(function zK(n,e,t){const r=nE(n,e);r.some(i=>i.trim()==t.trim())||(r.push(t.trim()),n.setAttribute(e,r.join(" ")))})(t,"aria-describedby",i.messageElement.id),t.setAttribute(rE,this._id),i.referenceCount++}_removeMessageReference(t,r){const i=this._messageRegistry.get(r);i.referenceCount--,function qK(n,e,t){const i=nE(n,e).filter(s=>s!=t.trim());i.length?n.setAttribute(e,i.join(" ")):n.removeAttribute(e)}(t,"aria-describedby",i.messageElement.id),t.removeAttribute(rE)}_isElementDescribedByMessage(t,r){const i=nE(t,"aria-describedby"),s=this._messageRegistry.get(r),o=s&&s.messageElement.id;return!!o&&-1!=i.indexOf(o)}_canBeDescribed(t,r){if(!this._isElementNode(t))return!1;if(r&&"object"==typeof r)return!0;const i=null==r?"":`${r}`.trim(),s=t.getAttribute("aria-label");return!(!i||s&&s.trim()===i)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(t){return new(t||n)(Y(mn),Y(ga))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function AD(n,e){return"string"==typeof n?`${e||""}/${n}`:n}function rF(n,e){n.id||(n.id=`${nF}-${e}-${SD++}`)}function sF(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function oF(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const XK=new de("cdk-input-modality-detector-options"),JK={ignoreKeys:[18,17,224,91,16]},oh=Yv({passive:!0,capture:!0});let eZ=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,r,i,s){this._platform=t,this._mostRecentTarget=null,this._modality=new ii(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(a=>a===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=rh(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(sF(o)?"keyboard":"mouse"),this._mostRecentTarget=rh(o))},this._onTouchstart=o=>{oF(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=rh(o))},this._options={...JK,...s},this.modalityDetected=this._modality.pipe(ZO(1)),this.modalityChanged=this.modalityDetected.pipe(QO()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,oh),i.addEventListener("mousedown",this._onMousedown,oh),i.addEventListener("touchstart",this._onTouchstart,oh)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,oh),document.removeEventListener("mousedown",this._onMousedown,oh),document.removeEventListener("touchstart",this._onTouchstart,oh))}}return n.\u0275fac=function(t){return new(t||n)(Y(ga),Y(yt),Y(mn),Y(XK,8))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nZ=new de("cdk-focus-monitor-default-options"),iE=Yv({passive:!0,capture:!0});let rZ=(()=>{class n{constructor(t,r,i,s,o){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new j,this._rootNodeFocusAndBlurListener=a=>{for(let d=rh(a);d;d=d.parentElement)"focus"===a.type?this._onFocus(a,d):this._onBlur(a,d)},this._document=s,this._detectionMode=o?.detectionMode||0}monitor(t,r=!1){const i=ih(t);if(!this._platform.isBrowser||1!==i.nodeType)return Ne(null);const s=function SK(n){if(function TK(){if(null==DD){const n=typeof document<"u"?document.head:null;DD=!(!n||!n.createShadowRoot&&!n.attachShadow)}return DD}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),o=this._elementInfo.get(i);if(o)return r&&(o.checkChildren=!0),o.subject;const a={checkChildren:r,subject:new j,rootNode:s};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const r=ih(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const s=ih(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,r,l)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),s=rh(t);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,iE),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,iE)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(_a(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,iE),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,iE),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,s)=>{(s===t||i.checkChildren&&s.contains(t))&&r.push([s,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(r))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(Y(yt),Y(ga),Y(eZ),Y(mn,8),Y(nZ,8))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lF="cdk-high-contrast-black-on-white",cF="cdk-high-contrast-white-on-black",RD="cdk-high-contrast-active";let iZ=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=Ye(HK).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(RD,lF,cF),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(RD,lF):2===r&&t.add(RD,cF)}}}return n.\u0275fac=function(t){return new(t||n)(Y(ga),Y(mn))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sZ=new de("cdk-dir-doc",{providedIn:"root",factory:function oZ(){return Ye(mn)}}),aZ=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let sE=(()=>{class n{constructor(t){this.value="ltr",this.change=new pn,t&&(this.value=function lZ(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?aZ.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(Y(sZ,8))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Vt({type:n}),n.\u0275inj=Zt({}),n})(),cZ=(()=>{class n{}return n.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",n.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",n.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",n.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",n})(),uZ=(()=>{class n{}return n.COMPLEX="375ms",n.ENTERING="225ms",n.EXITING="195ms",n})();const hZ=new de("mat-sanity-checks",{providedIn:"root",factory:function dZ(){return!0}});let xm=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function AK(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(Y(iZ),Y(hZ,8),Y(mn))},n.\u0275mod=Vt({type:n}),n.\u0275inj=Zt({imports:[oE,oE]}),n})();function hF(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=bl(e)}constructor(...e){super(...e),this._disabled=!1}}}function fZ(n){return class extends n{constructor(...e){super(...e),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new tt(t=>{this._isInitialized?this._notifySubscriber(t):this._pendingSubscribers.push(t)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(e){e.next(),e.complete()}}}class mZ{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const fF=Yv({passive:!0,capture:!0});class gZ{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=rh(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,r,i){const s=this._events.get(t);if(s){const o=s.get(r);o?o.add(i):s.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,fF)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const s=i.get(t);s&&(s.delete(r),0===s.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,fF)))}}const pF={enterDuration:225,exitDuration:150},mF=Yv({passive:!0,capture:!0}),gF=["mousedown","touchstart"],_F=["mouseup","mouseleave","touchend","touchcancel"];class aE{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=ih(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...pF,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const o=r.radius||function yZ(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),a=e-i.left,l=t-i.top,d=s.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=a-o+"px",h.style.top=l-o+"px",h.style.height=2*o+"px",h.style.width=2*o+"px",null!=r.color&&(h.style.backgroundColor=r.color),h.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(h);const m=window.getComputedStyle(h),y=m.transitionDuration,E="none"===m.transitionProperty||"0s"===y||"0s, 0s"===y||0===i.width&&0===i.height,b=new mZ(this,h,r,E);h.style.transform="scale3d(1, 1, 1)",b.state=0,r.persistent||(this._mostRecentTransientRipple=b);let C=null;return!E&&(d||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const k=()=>this._finishRippleTransition(b),B=()=>this._destroyRipple(b);h.addEventListener("transitionend",k),h.addEventListener("transitioncancel",B),C={onTransitionEnd:k,onTransitionCancel:B}}),this._activeRipples.set(b,C),(E||!d)&&this._finishRippleTransition(b),b}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...pF,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=ih(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,gF.forEach(r=>{aE._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{_F.forEach(t=>{this._triggerElement.addEventListener(t,this,mF)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=sF(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!oF(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(gF.forEach(t=>aE._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&_F.forEach(t=>e.removeEventListener(t,this,mF)))}}aE._eventManager=new gZ;const vZ=["mat-sort-header",""];function EZ(n,e){if(1&n){const t=Ns();D(0,"div",3),pt("@arrowPosition.start",function(){return wn(t),xn(Lt()._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){return wn(t),xn(Lt()._disableViewStateAnimation=!1)}),$e(1,"div",4),D(2,"div",5),$e(3,"div",6)(4,"div",7)(5,"div",8),T()()}if(2&n){const t=Lt();me("@arrowOpacity",t._getArrowViewState())("@arrowPosition",t._getArrowViewState())("@allowChildren",t._getArrowDirectionState()),oe(2),me("@indicator",t._getArrowDirectionState()),oe(1),me("@leftPointer",t._getArrowDirectionState()),oe(1),me("@rightPointer",t._getArrowDirectionState())}}const wZ=["*"],yF=new de("MAT_SORT_DEFAULT_OPTIONS"),IZ=fZ(hF(class{}));let Cl=(()=>{class n extends IZ{get direction(){return this._direction}set direction(t){this._direction=t}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=bl(t)}constructor(t){super(),this._defaultOptions=t,this.sortables=new Map,this._stateChanges=new j,this.start="asc",this._direction="",this.sortChange=new pn}register(t){this.sortables.set(t.id,t)}deregister(t){this.sortables.delete(t.id)}sort(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(t){if(!t)return"";let i=function bZ(n,e){let t=["asc","desc"];return"desc"==n&&t.reverse(),e||t.push(""),t}(t.start||this.start,t?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),s=i.indexOf(this.direction)+1;return s>=i.length&&(s=0),i[s]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(t){return new(t||n)(O(yF,8))},n.\u0275dir=ue({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[Ue,er]}),n})();const Dl=uZ.ENTERING+" "+cZ.STANDARD_CURVE,ah={indicator:jd("indicator",[ms("active-asc, asc",On({transform:"translateY(0px)"})),ms("active-desc, desc",On({transform:"translateY(10px)"})),_o("active-asc <=> active-desc",da(Dl))]),leftPointer:jd("leftPointer",[ms("active-asc, asc",On({transform:"rotate(-45deg)"})),ms("active-desc, desc",On({transform:"rotate(45deg)"})),_o("active-asc <=> active-desc",da(Dl))]),rightPointer:jd("rightPointer",[ms("active-asc, asc",On({transform:"rotate(45deg)"})),ms("active-desc, desc",On({transform:"rotate(-45deg)"})),_o("active-asc <=> active-desc",da(Dl))]),arrowOpacity:jd("arrowOpacity",[ms("desc-to-active, asc-to-active, active",On({opacity:1})),ms("desc-to-hint, asc-to-hint, hint",On({opacity:.54})),ms("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",On({opacity:0})),_o("* => asc, * => desc, * => active, * => hint, * => void",da("0ms")),_o("* <=> *",da(Dl))]),arrowPosition:jd("arrowPosition",[_o("* => desc-to-hint, * => desc-to-active",da(Dl,dv([On({transform:"translateY(-25%)"}),On({transform:"translateY(0)"})]))),_o("* => hint-to-desc, * => active-to-desc",da(Dl,dv([On({transform:"translateY(0)"}),On({transform:"translateY(25%)"})]))),_o("* => asc-to-hint, * => asc-to-active",da(Dl,dv([On({transform:"translateY(25%)"}),On({transform:"translateY(0)"})]))),_o("* => hint-to-asc, * => active-to-asc",da(Dl,dv([On({transform:"translateY(0)"}),On({transform:"translateY(-25%)"})]))),ms("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",On({transform:"translateY(0)"})),ms("hint-to-desc, active-to-desc, desc",On({transform:"translateY(-25%)"})),ms("hint-to-asc, active-to-asc, asc",On({transform:"translateY(25%)"}))]),allowChildren:jd("allowChildren",[_o("* <=> *",[q8("@*",z8(),{optional:!0})])])};let lE=(()=>{class n{constructor(){this.changes=new j}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const DZ={provide:lE,deps:[[new so,new oo,lE]],useFactory:function CZ(n){return n||new lE}},TZ=hF(class{});let MD=(()=>{class n extends TZ{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(t){this._updateSortActionDescription(t)}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=bl(t)}constructor(t,r,i,s,o,a,l,d){super(),this._intl=t,this._changeDetectorRef=r,this._sort=i,this._columnDef=s,this._focusMonitor=o,this._elementRef=a,this._ariaDescriber=l,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",d?.arrowPosition&&(this.arrowPosition=d?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{const r=!!t;r!==this._showIndicatorHint&&(this._setIndicatorHintVisible(r),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(t){this._isDisabled()&&t||(this._showIndicatorHint=t,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(t){this._viewState=t||{},this._disableViewStateAnimation&&(this._viewState={toState:t.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(t){!this._isDisabled()&&(32===t.keyCode||13===t.keyCode)&&(t.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const t=this._viewState.fromState;return(t?`${t}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(t){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,t)),this._sortActionDescription=t}_handleStateChanges(){this._rerenderSubscription=W(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(O(lE),O(Nc),O(Cl,8),O("MAT_SORT_HEADER_COLUMN_DEF",8),O(rZ),O(sn),O(GK,8),O(yF,8))},n.\u0275cmp=Qt({type:n,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(t,r){1&t&&pt("click",function(){return r._handleClick()})("keydown",function(s){return r._handleKeydown(s)})("mouseenter",function(){return r._setIndicatorHintVisible(!0)})("mouseleave",function(){return r._setIndicatorHintVisible(!1)}),2&t&&(hs("aria-sort",r._getAriaSortAttribute()),ks("mat-sort-header-disabled",r._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[Ue],attrs:vZ,ngContentSelectors:wZ,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(t,r){1&t&&(fl(),D(0,"div",0)(1,"div",1),Pi(2),T(),Pe(3,EZ,6,6,"div",2),T()),2&t&&(ks("mat-sort-header-sorted",r._isSorted())("mat-sort-header-position-before","before"===r.arrowPosition),hs("tabindex",r._isDisabled()?null:0)("role",r._isDisabled()?null:"button"),oe(3),me("ngIf",r._renderArrow()))},dependencies:[Vc],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[ah.indicator,ah.leftPointer,ah.rightPointer,ah.arrowOpacity,ah.arrowPosition,ah.allowChildren]},changeDetection:0}),n})(),SZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Vt({type:n}),n.\u0275inj=Zt({providers:[DZ],imports:[c0,xm]}),n})();var lh=Qe(881);(0,lh.registerVersion)("firebase","10.7.1","app");const PZ=new class xZ extends tE{}(class MZ extends eE{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),xD=new hl("ANGULARFIRE2_VERSION");class vF{constructor(){return((n,e)=>{const t=(0,lh.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r})(kZ)}}const kZ="app-check";function ch(){}class EF{zone;delegate;constructor(e,t=PZ){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class OZ{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ch,{},ch,ch)),t.pipe(Br({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let wF=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new EF(Zone.current)),this.insideAngular=t.run(()=>new EF(Zone.current,Mm)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(Y(yt))};static \u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Qi(n){return function VZ(n){return function(t){return(t=t.lift(new OZ(n.ngZone))).pipe(Zr(n.outsideAngular),Nr(n.insideAngular))}}(function uh(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}())(n)}var Tl=Qe(942);Tl.Z.registerVersion("firebase","10.7.1","app-compat");const $Z=["ngOnDestroy"];class IF{constructor(e){return e}}const cE=new de("angularfire2.app.options"),uE=new de("angularfire2.app.name");function PD(n,e,t){const i="object"==typeof t&&t||{};i.name=i.name||"string"==typeof t&&t||"[DEFAULT]";const o=Tl.Z.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>Tl.Z.initializeApp(n,i));try{if(JSON.stringify(n)!==JSON.stringify(o.options)){const a=!!module.hot;zZ("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new IF(o)}const zZ=(n,...e)=>{},qZ={provide:IF,useFactory:PD,deps:[cE,yt,[new so,uE]]};let GZ=(()=>{class n{static initializeApp(t,r){return{ngModule:n,providers:[{provide:cE,useValue:t},{provide:uE,useValue:r}]}}constructor(t){Tl.Z.registerVersion("angularfire",xD.full,"core"),Tl.Z.registerVersion("angularfire",xD.full,"app-compat"),Tl.Z.registerVersion("angular",DM.full,t.toString())}static \u0275fac=function(r){return new(r||n)(Y(Ud))};static \u0275mod=Vt({type:n});static \u0275inj=Zt({providers:[qZ]})}return n})();function bF(n,e,t,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(s)return function WZ(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(i,o)||(CF("error",`${e} was already initialized on the ${t} Firebase App with different settings.${KZ?" You may need to reload as Firebase is not HMR aware.":""}`),CF("warn",{is:i,was:o})),s;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([n,a,i]),a}}const KZ=typeof module<"u"&&!!module.hot,CF=(n,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[],Qe(211);class ZZ extends j{constructor(e=1/0,t=1/0,r=TD){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;t||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=t.now();let a=0;for(let l=1;l<r.length&&r[l]<=o;l+=2)a=l;a&&r.splice(0,a+1)}}}function DF(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,L({connector:()=>new ZZ(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function TF(n,e){return w(e)?Dr(()=>n,e):Dr(()=>n)}const SF=new de("angularfire2.auth.use-emulator"),AF=new de("angularfire2.auth.settings"),RF=new de("angularfire2.auth.tenant-id"),MF=new de("angularfire2.auth.langugage-code"),xF=new de("angularfire2.auth.use-device-language"),PF=new de("angularfire.auth.persistence"),NF=(n,e,t,r,i,s,o,a)=>bF(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const l=e.runOutsideAngular(()=>n.auth());if(t&&l.useEmulator(...t),r&&(l.tenantId=r),l.languageCode=i,s&&l.useDeviceLanguage(),o)for(const[d,h]of Object.entries(o))l.settings[d]=h;return a&&l.setPersistence(a),l},[t,r,i,s,o,a]);let kF=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,r,i,s,o,a,l,d,h,m,g,y){const E=new j,b=Ne(void 0).pipe(Nr(o.outsideAngular),Dr(()=>s.runOutsideAngular(()=>Promise.resolve().then(Qe.bind(Qe,211)))),ye(()=>PD(t,s,r)),ye(C=>NF(C,s,a,d,h,m,l,g)),DF({bufferSize:1,refCount:!1}));if(bN(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ne(null);else{b.pipe(pa()).subscribe();const C=b.pipe(Dr(P=>P.getRedirectResult().then(X=>X,()=>null)),Qi,DF({bufferSize:1,refCount:!1})),k=b.pipe(Dr(P=>new tt(X=>({unsubscribe:s.runOutsideAngular(()=>P.onAuthStateChanged(pe=>X.next(pe),pe=>X.error(pe),()=>X.complete()))})))),B=b.pipe(Dr(P=>new tt(X=>({unsubscribe:s.runOutsideAngular(()=>P.onIdTokenChanged(pe=>X.next(pe),pe=>X.error(pe),()=>X.complete()))}))));this.authState=C.pipe(TF(k),Zr(o.outsideAngular),Nr(o.insideAngular)),this.user=C.pipe(TF(B),Zr(o.outsideAngular),Nr(o.insideAngular)),this.idToken=this.user.pipe(Dr(P=>P?x(P.getIdToken()):Ne(null))),this.idTokenResult=this.user.pipe(Dr(P=>P?x(P.getIdTokenResult()):Ne(null))),this.credential=W(C,E,this.authState.pipe(Wi(P=>!P))).pipe(ye(P=>P?.user?P:null),Zr(o.outsideAngular),Nr(o.insideAngular))}return((n,e,t,r={})=>new Proxy(n,{get:(i,s)=>t.runOutsideAngular(()=>{if(n[s])return r?.spy?.get&&r.spy.get(s,n[s]),n[s];if($Z.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(a=>{const l=a?.[s];return"function"==typeof l?l.bind(a):l?.then?l.then(d=>t.run(()=>d)):t.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>o[l],apply:(a,l,d)=>o.then(h=>{const m=h?.(...d);return r?.spy?.apply&&r.spy.apply(s,d,m),m})})})}))(this,b,s,{spy:{apply:(C,k,B)=>{(C.startsWith("signIn")||C.startsWith("createUser"))&&B.then(P=>E.next(P))}}})}static \u0275fac=function(r){return new(r||n)(Y(cE),Y(uE,8),Y(Ud),Y(yt),Y(wF),Y(SF,8),Y(AF,8),Y(RF,8),Y(MF,8),Y(xF,8),Y(PF,8),Y(vF,8))};static \u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();function ND(){return z((n,e)=>{let t,r=!1;n.subscribe(_e(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}var Ee,J=Qe(861),OF=Qe(859),wo=Qe(877),Yt=Qe(90),YZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Us={},kD=kD||{},et=YZ||self;function dE(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Nm(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var OD="closure_uid_"+(1e9*Math.random()>>>0),JZ=0;function eQ(n,e,t){return n.call.apply(n.bind,arguments)}function tQ(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function si(n,e,t){return(si=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?eQ:tQ).apply(null,arguments)}function hE(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Tr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Sl(){this.s=this.s,this.o=this.o}Sl.prototype.s=!1,Sl.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function XZ(n){Object.prototype.hasOwnProperty.call(n,OD)&&n[OD]||(n[OD]=++JZ)}(this)},Sl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const FF=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function FD(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function VF(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(dE(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function oi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}oi.prototype.h=function(){this.defaultPrevented=!0};var rQ=function(){if(!et.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const t=()=>{};et.addEventListener("test",t,e),et.removeEventListener("test",t,e)}catch{}return n}();function km(n){return/^[\s\xa0]*$/.test(n)}function fE(){var n=et.navigator;return n&&(n=n.userAgent)?n:""}function Io(n){return-1!=fE().indexOf(n)}function VD(n){return VD[" "](n),n}VD[" "]=function(){};var BD,n,sQ=Io("Opera"),dh=Io("Trident")||Io("MSIE"),LF=Io("Edge"),LD=LF||dh,BF=Io("Gecko")&&!(-1!=fE().toLowerCase().indexOf("webkit")&&!Io("Edge"))&&!(Io("Trident")||Io("MSIE"))&&!Io("Edge"),oQ=-1!=fE().toLowerCase().indexOf("webkit")&&!Io("Edge");function UF(){var n=et.document;return n?n.documentMode:void 0}e:{var UD="",$D=(n=fE(),BF?/rv:([^\);]+)(\)|;)/.exec(n):LF?/Edge\/([\d\.]+)/.exec(n):dh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):oQ?/WebKit\/(\S+)/.exec(n):sQ?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if($D&&(UD=$D?$D[1]:""),dh){var jD=UF();if(null!=jD&&jD>parseFloat(UD)){BD=String(jD);break e}}BD=UD}var aQ=et.document&&dh&&(UF()||parseInt(BD,10))||void 0;function Om(n,e){if(oi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(BF){e:{try{VD(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:lQ[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Om.$.h.call(this)}}Tr(Om,oi);var lQ={2:"touch",3:"pen",4:"mouse"};Om.prototype.h=function(){Om.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Fm="closure_listenable_"+(1e6*Math.random()|0),cQ=0;function uQ(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++cQ,this.fa=this.ia=!1}function pE(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function zD(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function jF(n){const e={};for(const t in n)e[t]=n[t];return e}const HF="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zF(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<HF.length;s++)t=HF[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function mE(n){this.src=n,this.g={},this.h=0}function qD(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=FF(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(pE(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function GD(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}mE.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=GD(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new uQ(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var WD="closure_lm_"+(1e6*Math.random()|0),KD={};function qF(n,e,t,r,i){if(r&&r.once)return WF(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)qF(n,e[s],t,r,i);return null}return t=XD(t),n&&n[Fm]?n.O(e,t,Nm(r)?!!r.capture:!!r,i):GF(n,e,t,!1,r,i)}function GF(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=Nm(i)?!!i.capture:!!i,a=QD(n);if(a||(n[WD]=a=new mE(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function hQ(){const e=fQ;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)rQ||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(ZF(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function WF(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)WF(n,e[s],t,r,i);return null}return t=XD(t),n&&n[Fm]?n.P(e,t,Nm(r)?!!r.capture:!!r,i):GF(n,e,t,!0,r,i)}function KF(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)KF(n,e[s],t,r,i);else r=Nm(r)?!!r.capture:!!r,t=XD(t),n&&n[Fm]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=GD(s=n.g[e],t,r,i))&&(pE(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=QD(n))&&(e=n.g[e.toString()],n=-1,e&&(n=GD(e,t,r,i)),(t=-1<n?e[n]:null)&&ZD(t))}function ZD(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Fm])qD(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(ZF(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=QD(e))?(qD(t,n),0==t.h&&(t.src=null,e[WD]=null)):pE(n)}}}function ZF(n){return n in KD?KD[n]:KD[n]="on"+n}function fQ(n,e){if(n.fa)n=!0;else{e=new Om(e,this);var t=n.listener,r=n.la||n.src;n.ia&&ZD(n),n=t.call(r,e)}return n}function QD(n){return(n=n[WD])instanceof mE?n:null}var YD="__closure_events_fn_"+(1e9*Math.random()>>>0);function XD(n){return"function"==typeof n?n:(n[YD]||(n[YD]=function(e){return n.handleEvent(e)}),n[YD])}function Sr(){Sl.call(this),this.i=new mE(this),this.S=this,this.J=null}function $r(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new oi(e,n);else if(e instanceof oi)e.target=e.target||n;else{var i=e;zF(e=new oi(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=gE(o,r,!0,e)&&i}if(i=gE(o=e.g=n,r,!0,e)&&i,i=gE(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=gE(o=e.g=t[s],r,!1,e)&&i}function gE(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,l=o.la||o.src;o.ia&&qD(n.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Tr(Sr,Sl),Sr.prototype[Fm]=!0,Sr.prototype.removeEventListener=function(n,e,t,r){KF(this,n,e,t,r)},Sr.prototype.N=function(){if(Sr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)pE(t[r]);delete n.g[e],n.h--}}this.J=null},Sr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Sr.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var JD=et.JSON.stringify;function mQ(){var n=eT;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var QF=new class pQ{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new _Q,n=>n.reset());class _Q{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function yQ(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function vQ(n){et.setTimeout(()=>{throw n},0)}let Vm,Lm=!1,eT=new class gQ{constructor(){this.h=this.g=null}add(e,t){const r=QF.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},YF=()=>{const n=et.Promise.resolve(void 0);Vm=()=>{n.then(EQ)}};var EQ=()=>{for(var n;n=mQ();){try{n.h.call(n.g)}catch(t){vQ(t)}var e=QF;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Lm=!1};function _E(n,e){Sr.call(this),this.h=n||1,this.g=e||et,this.j=si(this.qb,this),this.l=Date.now()}function tT(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function nT(n,e,t){if("function"==typeof n)t&&(n=si(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=si(n.handleEvent,n)}return 2147483647<Number(e)?-1:et.setTimeout(n,e||0)}function XF(n){n.g=nT(()=>{n.g=null,n.i&&(n.i=!1,XF(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Tr(_E,Sr),(Ee=_E.prototype).ga=!1,Ee.T=null,Ee.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),$r(this,"tick"),this.ga&&(tT(this),this.start()))}},Ee.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ee.N=function(){_E.$.N.call(this),tT(this),delete this.g};class wQ extends Sl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:XF(this)}N(){super.N(),this.g&&(et.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bm(n){Sl.call(this),this.h=n,this.g={}}Tr(Bm,Sl);var JF=[];function eV(n,e,t,r){Array.isArray(t)||(t&&(JF[0]=t.toString()),t=JF);for(var i=0;i<t.length;i++){var s=qF(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function tV(n){zD(n.g,function(e,t){this.g.hasOwnProperty(t)&&ZD(e)},n),n.g={}}function yE(){this.g=!0}function hh(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function DQ(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return JD(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Bm.prototype.N=function(){Bm.$.N.call(this),tV(this)},Bm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},yE.prototype.Ea=function(){this.g=!1},yE.prototype.info=function(){};var Wc={},nV=null;function vE(){return nV=nV||new Sr}function rV(n){oi.call(this,Wc.Ta,n)}function Um(n){const e=vE();$r(e,new rV(e))}function iV(n,e){oi.call(this,Wc.STAT_EVENT,n),this.stat=e}function Ii(n){const e=vE();$r(e,new iV(e,n))}function sV(n,e){oi.call(this,Wc.Ua,n),this.size=e}function $m(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return et.setTimeout(function(){n()},e)}Wc.Ta="serverreachability",Tr(rV,oi),Wc.STAT_EVENT="statevent",Tr(iV,oi),Wc.Ua="timingevent",Tr(sV,oi);var EE={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},oV={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function rT(){}function lV(){}rT.prototype.h=null;var oT,jm={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function iT(){oi.call(this,"d")}function sT(){oi.call(this,"c")}function wE(){}function Hm(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Bm(this),this.P=TQ,this.V=new _E(n=LD?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new cV}function cV(){this.i=null,this.g="",this.h=!1}Tr(iT,oi),Tr(sT,oi),Tr(wE,rT),wE.prototype.g=function(){return new XMLHttpRequest},wE.prototype.i=function(){return{}},oT=new wE;var TQ=45e3,uV={},aT={};function lT(n,e,t){n.L=1,n.A=DE(ya(e)),n.u=t,n.S=!0,dV(n,null)}function dV(n,e){n.G=Date.now(),zm(n),n.B=ya(n.A);var t=n.B,r=n.W;Array.isArray(r)||(r=[String(r)]),wV(t.i,"t",r),n.o=0,t=n.l.J,n.h=new cV,n.g=qV(n.l,t?e:null,!n.u),0<n.O&&(n.M=new wQ(si(n.Pa,n,n.g),n.O)),eV(n.U,n.g,"readystatechange",n.nb),e=n.I?jF(n.I):{},n.u?(n.v||(n.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,e)):(n.v="GET",n.g.ha(n.B,n.v,null,e)),Um(),function IQ(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var d=a[l].split("=");if(1<d.length){var h=d[0];d=d[1];var m=h.split("_");o=2<=m.length&&"type"==m[1]?o+(h+"=")+d+"&":o+(h+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.v,n.B,n.m,n.W,n.u)}function hV(n){return!!n.g&&"GET"==n.v&&2!=n.L&&n.l.Ha}function fV(n,e,t){let i,r=!0;for(;!n.J&&n.o<t.length;){if(i=SQ(n,t),i==aT){4==e&&(n.s=4,Ii(14),r=!1),hh(n.j,n.m,null,"[Incomplete Response]");break}if(i==uV){n.s=4,Ii(15),hh(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}hh(n.j,n.m,i,null),cT(n,i)}hV(n)&&0!=n.o&&(n.h.g=n.h.g.slice(n.o),n.o=0),4!=e||0!=t.length||n.h.h||(n.s=1,Ii(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),gT(e),e.M=!0,Ii(11))):(hh(n.j,n.m,t,"[Invalid Chunked Response]"),Kc(n),qm(n))}function SQ(n,e){var t=n.o,r=e.indexOf("\n",t);return-1==r?aT:(t=Number(e.substring(t,r)),isNaN(t)?uV:(r+=1)+t>e.length?aT:(e=e.slice(r,r+t),n.o=r+t,e))}function zm(n){n.Y=Date.now()+n.P,pV(n,n.P)}function pV(n,e){if(null!=n.C)throw Error("WatchDog timer not null");n.C=$m(si(n.lb,n),e)}function IE(n){n.C&&(et.clearTimeout(n.C),n.C=null)}function qm(n){0==n.l.H||n.J||$V(n.l,n)}function Kc(n){IE(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,tT(n.V),tV(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function cT(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||uT(t.i,n)))if(!n.K&&uT(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;xE(t),RE(t)}mT(t),Ii(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=$m(si(t.ib,t),6e3));if(1>=CV(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Qc(t,11)}else if((n.K||t.g==n)&&xE(t),!km(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let d=i[e];if(t.V=d[0],d=d[1],2==t.H)if("c"==d[0]){t.K=d[1],t.pa=d[2];const h=d[3];null!=h&&(t.ra=h,t.l.info("VER="+t.ra));const m=d[4];null!=m&&(t.Ga=m,t.l.info("SVER="+t.Ga));const g=d[5];null!=g&&"number"==typeof g&&0<g&&(t.L=r=1.5*g,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const y=n.g;if(y){const E=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(E){var s=r.i;s.g||-1==E.indexOf("spdy")&&-1==E.indexOf("quic")&&-1==E.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(dT(s,s.h),s.h=null))}if(r.F){const b=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;b&&(r.Da=b,gn(r.I,r.F,b))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=zV(r,r.J?r.pa:null,r.Y),o.K){DV(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(IE(a),zm(a)),r.g=o}else BV(r);0<t.j.length&&ME(t)}else"stop"!=d[0]&&"close"!=d[0]||Qc(t,7);else 3==t.H&&("stop"==d[0]||"close"==d[0]?"stop"==d[0]?Qc(t,7):pT(t):"noop"!=d[0]&&t.h&&t.h.Aa(d),t.A=0)}Um()}catch{}}function mV(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(dE(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function RQ(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(dE(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function AQ(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(dE(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(Ee=Hm.prototype).setTimeout=function(n){this.P=n},Ee.nb=function(n){n=n.target;const e=this.M;e&&3==bo(n)?e.l():this.Pa(n)},Ee.Pa=function(n){try{if(n==this.g)e:{const h=bo(this.g);var e=this.g.Ia();if(this.g.da(),!(3>h)&&(3!=h||LD||this.g&&(this.h.h||this.g.ja()||NV(this.g)))){this.J||4!=h||7==e||Um(),IE(this);var t=this.g.da();this.ca=t;t:if(hV(this)){var r=NV(this.g);n="";var i=r.length,s=4==bo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Kc(this),qm(this);var o="";break t}this.h.i=new et.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=n,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function bQ(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.v,this.B,this.m,this.W,h,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!km(a)){var d=a;break t}}d=null}if(!(t=d)){this.i=!1,this.s=3,Ii(12),Kc(this),qm(this);break e}hh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cT(this,t)}this.S?(fV(this,h,o),LD&&this.i&&3==h&&(eV(this.U,this.V,"tick",this.mb),this.V.start())):(hh(this.j,this.m,o,null),cT(this,o)),4==h&&Kc(this),this.i&&!this.J&&(4==h?$V(this.l,this):(this.i=!1,zm(this)))}else(function WQ(n){const e={};n=(n.g&&2<=bo(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(km(n[r]))continue;var t=yQ(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function dQ(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.s=3,Ii(12)):(this.s=0,Ii(13)),Kc(this),qm(this)}}}catch{}},Ee.mb=function(){if(this.g){var n=bo(this.g),e=this.g.ja();this.o<e.length&&(IE(this),fV(this,n,e),this.i&&4!=n&&zm(this))}},Ee.cancel=function(){this.J=!0,Kc(this)},Ee.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(function CQ(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(Um(),Ii(17)),Kc(this),this.s=2,qm(this)):pV(this,this.Y-n)};var gV=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zc(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Zc){this.h=n.h,bE(this,n.j),this.s=n.s,this.g=n.g,CE(this,n.m),this.l=n.l;var e=n.i,t=new Km;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),_V(this,t),this.o=n.o}else n&&(e=String(n).match(gV))?(this.h=!1,bE(this,e[1]||"",!0),this.s=Gm(e[2]||""),this.g=Gm(e[3]||"",!0),CE(this,e[4]),this.l=Gm(e[5]||"",!0),_V(this,e[6]||"",!0),this.o=Gm(e[7]||"")):(this.h=!1,this.i=new Km(null,this.h))}function ya(n){return new Zc(n)}function bE(n,e,t){n.j=t?Gm(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function CE(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function _V(n,e,t){e instanceof Km?(n.i=e,function FQ(n,e){e&&!n.j&&(Al(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(vV(this,r),wV(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Wm(e,kQ)),n.i=new Km(e,n.h))}function gn(n,e,t){n.i.set(e,t)}function DE(n){return gn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Gm(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Wm(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,xQ),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function xQ(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Zc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Wm(e,yV,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Wm(e,yV,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Wm(t,"/"==t.charAt(0)?NQ:PQ,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Wm(t,OQ)),n.join("")};var yV=/[#\/\?@]/g,PQ=/[#\?:]/g,NQ=/[#\?]/g,kQ=/[#\?@]/g,OQ=/#/g;function Km(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Al(n){n.g||(n.g=new Map,n.h=0,n.i&&function MQ(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function vV(n,e){Al(n),e=fh(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function EV(n,e){return Al(n),e=fh(n,e),n.g.has(e)}function wV(n,e,t){vV(n,e),0<t.length&&(n.i=null,n.g.set(fh(n,e),FD(t)),n.h+=t.length)}function fh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function IV(n){this.l=n||LQ,n=et.PerformanceNavigationTiming?0<(n=et.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(et.g&&et.g.Ka&&et.g.Ka()&&et.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ee=Km.prototype).add=function(n,e){Al(this),this.i=null,n=fh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ee.forEach=function(n,e){Al(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Ee.ta=function(){Al(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},Ee.Z=function(n){Al(this);let e=[];if("string"==typeof n)EV(this,n)&&(e=e.concat(this.g.get(fh(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Ee.set=function(n,e){return Al(this),this.i=null,EV(this,n=fh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ee.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var LQ=10;function bV(n){return!!n.h||!!n.g&&n.g.size>=n.j}function CV(n){return n.h?1:n.g?n.g.size:0}function uT(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function dT(n,e){n.g?n.g.add(e):n.h=e}function DV(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function TV(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return FD(n.i)}IV.prototype.cancel=function(){if(this.i=TV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var BQ=class{stringify(n){return et.JSON.stringify(n,void 0)}parse(n){return et.JSON.parse(n,void 0)}};function UQ(){this.g=new BQ}function $Q(n,e,t){const r=t||"";try{mV(n,function(i,s){let o=i;Nm(i)&&(o=JD(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function TE(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Zm(n){this.l=n.ec||null,this.j=n.ob||!1}function SE(n,e){Sr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=hT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Tr(Zm,rT),Zm.prototype.g=function(){return new SE(this.l,this.j)},Zm.prototype.i=function(n){return function(){return n}}({}),Tr(SE,Sr);var hT=0;function SV(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Qm(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ym(n)}function Ym(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ee=SE.prototype).open=function(n,e){if(this.readyState!=hT)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ym(this)},Ee.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||et).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Qm(this)),this.readyState=hT},Ee.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ym(this)),this.g&&(this.readyState=3,Ym(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof et.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;SV(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Ee.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Qm(this):Ym(this),3==this.readyState&&SV(this)}},Ee.Za=function(n){this.g&&(this.response=this.responseText=n,Qm(this))},Ee.Ya=function(n){this.g&&(this.response=n,Qm(this))},Ee.ka=function(){this.g&&Qm(this)},Ee.setRequestHeader=function(n,e){this.v.append(n,e)},Ee.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ee.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(SE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var HQ=et.JSON.parse;function Fn(n){Sr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=AV,this.L=this.M=!1}Tr(Fn,Sr);var AV="",zQ=/^https?$/i,qQ=["POST","PUT"];function RV(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,MV(n),AE(n)}function MV(n){n.F||(n.F=!0,$r(n,"complete"),$r(n,"error"))}function xV(n){if(n.h&&typeof kD<"u"&&(!n.C[1]||4!=bo(n)||2!=n.da()))if(n.v&&4==bo(n))nT(n.La,0,n);else if($r(n,"readystatechange"),4==bo(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(gV)[1]||null;!i&&et.self&&et.self.location&&(i=et.self.location.protocol.slice(0,-1)),r=!zQ.test(i?i.toLowerCase():"")}t=r}if(t)$r(n,"complete"),$r(n,"success");else{n.m=6;try{var s=2<bo(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",MV(n)}}finally{AE(n)}}}function AE(n,e){if(n.g){PV(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||$r(n,"ready");try{t.onreadystatechange=r}catch{}}}function PV(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(et.clearTimeout(n.A),n.A=null)}function bo(n){return n.g?n.g.readyState:0}function NV(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case AV:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function kV(n){let e="";return zD(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function fT(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=kV(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):gn(n,e,t))}function Xm(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function OV(n){this.Ga=0,this.j=[],this.l=new yE,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Xm("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Xm("baseRetryDelayMs",5e3,n),this.hb=Xm("retryDelaySeedMs",1e4,n),this.eb=Xm("forwardChannelMaxRetries",2,n),this.xa=Xm("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new IV(n&&n.concurrentRequestLimit),this.Ja=new UQ,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function pT(n){if(FV(n),3==n.H){var e=n.W++,t=ya(n.I);if(gn(t,"SID",n.K),gn(t,"RID",e),gn(t,"TYPE","terminate"),Jm(n,t),(e=new Hm(n,n.l,e)).L=2,e.A=DE(ya(t)),t=!1,et.navigator&&et.navigator.sendBeacon)try{t=et.navigator.sendBeacon(e.A.toString(),"")}catch{}!t&&et.Image&&((new Image).src=e.A,t=!0),t||(e.g=qV(e.l,null),e.g.ha(e.A)),e.G=Date.now(),zm(e)}HV(n)}function RE(n){n.g&&(gT(n),n.g.cancel(),n.g=null)}function FV(n){RE(n),n.u&&(et.clearTimeout(n.u),n.u=null),xE(n),n.i.cancel(),n.m&&("number"==typeof n.m&&et.clearTimeout(n.m),n.m=null)}function ME(n){if(!bV(n.i)&&!n.m){n.m=!0;var e=n.Na;Vm||YF(),Lm||(Vm(),Lm=!0),eT.add(e,n),n.C=0}}function VV(n,e){var t;t=e?e.m:n.W++;const r=ya(n.I);gn(r,"SID",n.K),gn(r,"RID",t),gn(r,"AID",n.V),Jm(n,r),n.o&&n.s&&fT(r,n.o,n.s),t=new Hm(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=LV(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),dT(n.i,t),lT(t,r,e)}function Jm(n,e){n.na&&zD(n.na,function(t,r){gn(e,r,t)}),n.h&&mV({},function(t,r){gn(e,r,t)})}function LV(n,e,t){t=Math.min(n.j.length,t);var r=n.h?si(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<t;l++){let d=i[l].g;const h=i[l].map;if(d-=s,0>d)s=Math.max(0,i[l].g-100),a=!1;else try{$Q(h,o,"req"+d+"_")}catch{r&&r(h)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function BV(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Vm||YF(),Lm||(Vm(),Lm=!0),eT.add(e,n),n.A=0}}function mT(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=$m(si(n.Ma,n),jV(n,n.A)),n.A++,0))}function gT(n){null!=n.B&&(et.clearTimeout(n.B),n.B=null)}function UV(n){n.g=new Hm(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=ya(n.wa);gn(e,"RID","rpc"),gn(e,"SID",n.K),gn(e,"AID",n.V),gn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&gn(e,"TO",n.qa),gn(e,"TYPE","xmlhttp"),Jm(n,e),n.o&&n.s&&fT(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.A=DE(ya(e)),t.u=null,t.S=!0,dV(t,n)}function xE(n){null!=n.v&&(et.clearTimeout(n.v),n.v=null)}function $V(n,e){var t=null;if(n.g==e){xE(n),gT(n),n.g=null;var r=2}else{if(!uT(n.i,e))return;t=e.F,DV(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.u?e.u.length:0,e=Date.now()-e.G;var i=n.C;$r(r=vE(),new sV(r,t)),ME(n)}else BV(n);else if(3==(i=e.s)||0==i&&0<e.ca||!(1==r&&function KQ(n,e){return!(CV(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=$m(si(n.Na,n,e),jV(n,n.C)),n.C++,0)))}(n,e)||2==r&&mT(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Qc(n,5);break;case 4:Qc(n,10);break;case 3:Qc(n,6);break;default:Qc(n,2)}}function jV(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Qc(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=si(n.pb,n);t||(t=new Zc("//www.google.com/images/cleardot.gif"),et.location&&"http"==et.location.protocol||bE(t,"https"),DE(t)),function jQ(n,e){const t=new yE;if(et.Image){const r=new Image;r.onload=hE(TE,t,r,"TestLoadImage: loaded",!0,e),r.onerror=hE(TE,t,r,"TestLoadImage: error",!1,e),r.onabort=hE(TE,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=hE(TE,t,r,"TestLoadImage: timeout",!1,e),et.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ii(2);n.H=0,n.h&&n.h.za(e),HV(n),FV(n)}function HV(n){if(n.H=0,n.ma=[],n.h){const e=TV(n.i);(0!=e.length||0!=n.j.length)&&(VF(n.ma,e),VF(n.ma,n.j),n.i.i.length=0,FD(n.j),n.j.length=0),n.h.ya()}}function zV(n,e,t){var r=t instanceof Zc?ya(t):new Zc(t);if(""!=r.g)e&&(r.g=e+"."+r.g),CE(r,r.m);else{var i=et.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Zc(null);r&&bE(s,r),e&&(s.g=e),i&&CE(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&gn(r,t,e),gn(r,"VER",n.ra),Jm(n,r),r}function qV(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Fn(n.Ha&&!n.va?new Zm({ob:t}):n.va)).Oa(n.J),e}function GV(){}function PE(){if(dh&&!(10<=Number(aQ)))throw Error("Environmental error: no available transport.")}function Yi(n,e){Sr.call(this),this.g=new OV(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!km(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!km(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ph(this)}function WV(n){iT.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function KV(){sT.call(this),this.status=1}function ph(n){this.g=n}function $s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function _T(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function jt(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(Ee=Fn.prototype).Oa=function(n){this.M=n},Ee.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():oT.g(),this.C=function aV(n){return n.h||(n.h=n.i())}(this.u?this.u:oT),this.g.onreadystatechange=si(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void RV(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=et.FormData&&n instanceof et.FormData,!(0<=FF(qQ,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{PV(this),0<this.B&&((this.L=function GQ(n){return dh&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=si(this.ua,this)):this.A=nT(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){RV(this,s)}},Ee.ua=function(){typeof kD<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$r(this,"timeout"),this.abort(8))},Ee.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,$r(this,"complete"),$r(this,"abort"),AE(this))},Ee.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),AE(this,!0)),Fn.$.N.call(this)},Ee.La=function(){this.s||(this.G||this.v||this.l?xV(this):this.kb())},Ee.kb=function(){xV(this)},Ee.isActive=function(){return!!this.g},Ee.da=function(){try{return 2<bo(this)?this.g.status:-1}catch{return-1}},Ee.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ee.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),HQ(e)}},Ee.Ia=function(){return this.m},Ee.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ee=OV.prototype).ra=8,Ee.H=1,Ee.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Hm(this,this.l,n);let s=this.s;if(this.U&&(s?(s=jF(s),zF(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=LV(this,i,e),gn(t=ya(this.I),"RID",n),gn(t,"CVER",22),this.F&&gn(t,"X-HTTP-Session-Id",this.F),Jm(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(kV(s)))+"&"+e:this.o&&fT(t,this.o,s)),dT(this.i,i),this.bb&&gn(t,"TYPE","init"),this.P?(gn(t,"$req",e),gn(t,"SID","null"),i.aa=!0,lT(i,t,null)):lT(i,t,e),this.H=2}}else 3==this.H&&(n?VV(this,n):0==this.j.length||bV(this.i)||VV(this))},Ee.Ma=function(){if(this.u=null,UV(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=$m(si(this.jb,this),n)}},Ee.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ii(10),RE(this),UV(this))},Ee.ib=function(){null!=this.v&&(this.v=null,RE(this),mT(this),Ii(19))},Ee.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Ii(2)):(this.l.info("Failed to ping google.com"),Ii(1))},Ee.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ee=GV.prototype).Ba=function(){},Ee.Aa=function(){},Ee.za=function(){},Ee.ya=function(){},Ee.isActive=function(){return!0},Ee.Va=function(){},PE.prototype.g=function(n,e){return new Yi(n,e)},Tr(Yi,Sr),Yi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Ii(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=zV(n,null,n.Y),ME(n)},Yi.prototype.close=function(){pT(this.g)},Yi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=JD(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&ME(e)},Yi.prototype.N=function(){this.g.h=null,delete this.j,pT(this.g),delete this.g,Yi.$.N.call(this)},Tr(WV,iT),Tr(KV,sT),Tr(ph,GV),ph.prototype.Ba=function(){$r(this.g,"a")},ph.prototype.Aa=function(n){$r(this.g,new WV(n))},ph.prototype.za=function(n){$r(this.g,new KV)},ph.prototype.ya=function(){$r(this.g,"b")},Tr($s,function ZQ(){this.blockSize=-1}),$s.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},$s.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)_T(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){_T(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){_T(this,r),i=0;break}}this.h=i,this.i+=e},$s.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var QQ={};function yT(n){return-128<=n&&128>n?function iQ(n,e){var t=QQ;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new jt([0|e],0>e?-1:0)}):new jt([0|n],0>n?-1:0)}function Co(n){if(isNaN(n)||!isFinite(n))return mh;if(0>n)return jr(Co(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=vT;return new jt(e,0)}var vT=4294967296,mh=yT(0),ET=yT(1),QV=yT(16777216);function va(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function vs(n){return-1==n.h}function jr(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new jt(t,~n.h).add(ET)}function NE(n,e){return n.add(jr(e))}function kE(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function eg(n,e){this.g=n,this.h=e}function OE(n,e){if(va(e))throw Error("division by zero");if(va(n))return new eg(mh,mh);if(vs(n))return e=OE(jr(n),e),new eg(jr(e.g),jr(e.h));if(vs(e))return e=OE(n,jr(e)),new eg(jr(e.g),e.h);if(30<n.g.length){if(vs(n)||vs(e))throw Error("slowDivide_ only works with positive integers.");for(var t=ET,r=e;0>=r.X(n);)t=YV(t),r=YV(r);var i=gh(t,1),s=gh(r,1);for(r=gh(r,2),t=gh(t,2);!va(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=gh(r,1),t=gh(t,1)}return e=NE(n,i.R(e)),new eg(i,e)}for(i=mh;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Co(t)).R(e);vs(o)||0<o.X(n);)o=(s=Co(t-=r)).R(e);va(s)&&(s=ET),i=i.add(s),n=NE(n,o)}return new eg(i,n)}function YV(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new jt(t,n.h)}function gh(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new jt(i,n.h)}(Ee=jt.prototype).ea=function(){if(vs(this))return-jr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:vT+r)*e,e*=vT}return n},Ee.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(va(this))return"0";if(vs(this))return"-"+jr(this).toString(n);for(var e=Co(Math.pow(n,6)),t=this,r="";;){var i=OE(t,e).g,s=((0<(t=NE(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(va(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Ee.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Ee.X=function(n){return vs(n=NE(this,n))?-1:va(n)?0:1},Ee.abs=function(){return vs(this)?jr(this):this},Ee.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new jt(t,-2147483648&t[t.length-1]?-1:0)},Ee.R=function(n){if(va(this)||va(n))return mh;if(vs(this))return vs(n)?jr(this).R(jr(n)):jr(jr(this).R(n));if(vs(n))return jr(this.R(jr(n)));if(0>this.X(QV)&&0>n.X(QV))return Co(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,l=65535&n.D(i);t[2*r+2*i]+=o*l,kE(t,2*r+2*i),t[2*r+2*i+1]+=s*l,kE(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,kE(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,kE(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new jt(t,0)},Ee.gb=function(n){return OE(this,n).h},Ee.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new jt(t,this.h&n.h)},Ee.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new jt(t,this.h|n.h)},Ee.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new jt(t,this.h^n.h)},PE.prototype.createWebChannel=PE.prototype.g,Yi.prototype.send=Yi.prototype.u,Yi.prototype.open=Yi.prototype.m,Yi.prototype.close=Yi.prototype.close,EE.NO_ERROR=0,EE.TIMEOUT=8,EE.HTTP_ERROR=6,oV.COMPLETE="complete",lV.EventType=jm,jm.OPEN="a",jm.CLOSE="b",jm.ERROR="c",jm.MESSAGE="d",Sr.prototype.listen=Sr.prototype.O,Fn.prototype.listenOnce=Fn.prototype.P,Fn.prototype.getLastError=Fn.prototype.Sa,Fn.prototype.getLastErrorCode=Fn.prototype.Ia,Fn.prototype.getStatus=Fn.prototype.da,Fn.prototype.getResponseJson=Fn.prototype.Wa,Fn.prototype.getResponseText=Fn.prototype.ja,Fn.prototype.send=Fn.prototype.ha,Fn.prototype.setWithCredentials=Fn.prototype.Oa,$s.prototype.digest=$s.prototype.l,$s.prototype.reset=$s.prototype.reset,$s.prototype.update=$s.prototype.j,jt.prototype.add=jt.prototype.add,jt.prototype.multiply=jt.prototype.R,jt.prototype.modulo=jt.prototype.gb,jt.prototype.compare=jt.prototype.X,jt.prototype.toNumber=jt.prototype.ea,jt.prototype.toString=jt.prototype.toString,jt.prototype.getBits=jt.prototype.D,jt.fromNumber=Co,jt.fromString=function ZV(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return jr(ZV(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Co(Math.pow(e,8)),r=mh,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=Co(Math.pow(e,s)),r=r.R(s).add(Co(o))):r=(r=r.R(t)).add(Co(o))}return r};var YQ=Us.createWebChannelTransport=function(){return new PE},XQ=Us.getStatEventTarget=function(){return vE()},wT=Us.ErrorCode=EE,JQ=Us.EventType=oV,eY=Us.Event=Wc,XV=Us.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},FE=(Us.FetchXmlHttpFactory=Zm,Us.WebChannel=lV),tY=Us.XhrIo=Fn,nY=Us.Md5=$s,_h=Us.Integer=jt;const JV="@firebase/firestore";class Ar{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ar.UNAUTHENTICATED=new Ar(null),Ar.GOOGLE_CREDENTIALS=new Ar("google-credentials-uid"),Ar.FIRST_PARTY=new Ar("first-party-uid"),Ar.MOCK_USER=new Ar("mock-user");let yh="10.7.0";const Rl=new wo.Yd("@firebase/firestore");function vh(){return Rl.logLevel}function le(n,...e){if(Rl.logLevel<=wo.in.DEBUG){const t=e.map(IT);Rl.debug(`Firestore (${yh}): ${n}`,...t)}}function Gn(n,...e){if(Rl.logLevel<=wo.in.ERROR){const t=e.map(IT);Rl.error(`Firestore (${yh}): ${n}`,...t)}}function Oi(n,...e){if(Rl.logLevel<=wo.in.WARN){const t=e.map(IT);Rl.warn(`Firestore (${yh}): ${n}`,...t)}}function IT(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ae(n="Unexpected state"){const e=`FIRESTORE (${yh}) INTERNAL ASSERTION FAILED: `+n;throw Gn(e),new Error(e)}function Ve(n,e){n||Ae()}function fe(n,e){return n}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends Yt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _r{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class eL{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ar.UNAUTHENTICATED))}shutdown(){}}class oY{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class aY{constructor(e){this.t=e,this.currentUser=Ar.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=d=>this.i!==i?(i=this.i,t(d)):Promise.resolve();let o=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new _r,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const d=o;e.enqueueRetryable((0,J.Z)(function*(){yield d.promise,yield s(r.currentUser)}))},l=d=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(d=>l(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?l(d):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new _r)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve("string"==typeof r.accessToken),new eL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ve(null===e||"string"==typeof e),new Ar(e)}}class lY{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Ar.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class cY{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new lY(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ar.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uY{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=s=>{null!=s.error&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,le("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ve("string"==typeof t.token),this.R=t.token,new tL(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function dY(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class nL{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=dY(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function Ze(n,e){return n<e?-1:n>e?1:0}function Eh(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function rL(n){return n+"\0"}class In{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new re($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new re($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new re($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return In.fromMillis(Date.now())}static fromDate(e){return In.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new In(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Le{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Le(e)}static min(){return new Le(new In(0,0))}static max(){return new Le(new In(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class tg{constructor(e,t,r){void 0===t?t=0:t>e.length&&Ae(),void 0===r?r=e.length-t:r>e.length-t&&Ae(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===tg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof tg?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Rt extends tg{construct(e,t,r){return new Rt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new re($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Rt(t)}static emptyPath(){return new Rt([])}}const hY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends tg{construct(e,t,r){return new _n(e,t,r)}static isValidIdentifier(e){return hY.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _n(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new re($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new re($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new re($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new re($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _n(t)}static emptyPath(){return new _n([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(Rt.fromString(e))}static fromName(e){return new ge(Rt.fromString(e).popFirst(5))}static empty(){return new ge(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Rt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new Rt(e.slice()))}}class wh{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function bT(n){return n.fields.find(e=>2===e.kind)}function Yc(n){return n.fields.filter(e=>2!==e.kind)}wh.UNKNOWN_ID=-1;class Xc{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ih{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ih(0,Xi.min())}}function iL(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Le.fromTimestamp(1e9===r?new In(t+1,0):new In(t,r));return new Xi(i,ge.empty(),e)}function sL(n){return new Xi(n.readTime,n.key,-1)}class Xi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Xi(Le.min(),ge.empty(),-1)}static max(){return new Xi(Le.max(),ge.empty(),-1)}}function CT(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ge.comparator(n.documentKey,e.documentKey),0!==t?t:Ze(n.largestBatchId,e.largestBatchId))}const oL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ml(n){return DT.apply(this,arguments)}function DT(){return DT=(0,J.Z)(function*(n){if(n.code!==$.FAILED_PRECONDITION||n.message!==oL)throw n;le("LocalStore","Unexpectedly lost primary lease")}),DT.apply(this,arguments)}class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new V((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof V?t:V.resolve(t)}catch(t){return V.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):V.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):V.reject(t)}static resolve(e){return new V((t,r)=>{t(e)})}static reject(e){return new V((t,r)=>{r(e)})}static waitFor(e){return new V((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=V.resolve(!1);for(const r of e)t=t.next(i=>i?V.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new V((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const d=l;t(e[d]).next(h=>{o[d]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,t){return new V((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}class VE{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new _r,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new ng(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=TT(r.target.error);this.V.reject(new ng(e,i))}}static open(e,t,r,i){try{return new VE(t,e.transaction(i,r))}catch(s){throw new ng(t,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(le("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new gY(t)}}class js{constructor(e,t,r){this.name=e,this.version=t,this.p=r,12.2===js.S((0,Yt.z$)())&&Gn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return le("SimpleDb","Removing database:",e),Jc(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Yt.hl)())return!1;if(js.C())return!0;const e=(0,Yt.z$)(),t=js.S(e),r=0<t&&t<10,i=js.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var t=this;return(0,J.Z)(function*(){return t.db||(le("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=o=>{r(o.target.result)},s.onblocked=()=>{i(new ng(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const a=o.target.error;i("VersionError"===a.name?new re($.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new re($.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new ng(e,a))},s.onupgradeneeded=o=>{le("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',o.oldVersion),t.p.N(o.target.result,s.transaction,o.oldVersion,t.version).next(()=>{le("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var s=this;return(0,J.Z)(function*(){const o="readonly"===t;let a=0;for(;;){++a;try{s.db=yield s.O(e);const l=VE.open(s.db,e,o?"readonly":"readwrite",r),d=i(l).next(h=>(l.g(),h)).catch(h=>(l.abort(h),V.reject(h))).toPromise();return d.catch(()=>{}),yield l.m,d}catch(l){const d=l,h="FirebaseError"!==d.name&&a<3;if(le("SimpleDb","Transaction failed with error:",d.message,"Retrying:",h),s.close(),!h)return Promise.reject(d)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class mY{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Jc(this.k.delete())}}class ng extends re{constructor(e,t){super($.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function xl(n){return"IndexedDbTransactionError"===n.name}class gY{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(le("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(le("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Jc(r)}add(e){return le("SimpleDb","ADD",this.store.name,e,e),Jc(this.store.add(e))}get(e){return Jc(this.store.get(e)).next(t=>(void 0===t&&(t=null),le("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return le("SimpleDb","DELETE",this.store.name,e),Jc(this.store.delete(e))}count(){return le("SimpleDb","COUNT",this.store.name),Jc(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),s=[];return this.G(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new V((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}j(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new V((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,t){le("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.G(i,t)}Z(e){const t=this.cursor({});return new V((r,i)=>{t.onerror=s=>{const o=TT(s.target.error);i(o)},t.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,t){const r=[];return new V((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new mY(a),d=t(a.primaryKey,a.value,l);if(d instanceof V){const h=d.catch(m=>(l.done(),V.reject(m)));r.push(h)}l.isDone?i():null===l.$?a.continue():a.continue(l.$)}}).next(()=>V.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Jc(n){return new V((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=TT(r.target.error);t(i)}})}let lL=!1;function TT(n){const e=js.S((0,Yt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return lL||(lL=!0,setTimeout(()=>{throw r},0)),r}}return n}class _Y{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var t=this;le("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,J.Z)(function*(){t.task=null;try{le("IndexBackiller",`Documents written: ${yield t.X.te()}`)}catch(r){xl(r)?le("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Ml(r)}yield t.ee(6e4)}))}}class yY{constructor(e,t){this.localStore=e,this.persistence=t}te(e=50){var t=this;return(0,J.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.ne(r,e))})()}ne(e,t){const r=new Set;let i=t,s=!0;return V.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(null!==o&&!r.has(o))return le("IndexBackiller",`Processing collection: ${o}`),this.re(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>t-i)}re(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(i,s)).next(a=>(le("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>o.size)}))}ie(e,t){let r=e;return t.changes.forEach((i,s)=>{const o=sL(s);CT(o,r)>0&&(r=o)}),new Xi(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Ji=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function rg(n){return null==n}function ig(n){return 0===n&&1/n==-1/0}function cL(n){return"number"==typeof n&&Number.isInteger(n)&&!ig(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function ai(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=uL(e)),e=vY(n.get(t),e);return uL(e)}function vY(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function uL(n){return n+"\x01\x01"}function Do(n){const e=n.length;if(Ve(e>=2),2===e)return Ve("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Rt.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const o=n.indexOf("\x01",s);switch((o<0||o>t)&&Ae(),n.charAt(o+1)){case"\x01":const a=n.substring(s,o);let l;0===i.length?l=a:(i+=a,l=i,i=""),r.push(l);break;case"\x10":i+=n.substring(s,o),i+="\0";break;case"\x11":i+=n.substring(s,o+1);break;default:Ae()}s=o+2}return new Rt(r)}const dL=["userId","batchId"];function LE(n,e){return[n,ai(e)]}function hL(n,e,t){return[n,ai(e),t]}const EY={},wY=["prefixPath","collectionGroup","readTime","documentId"],IY=["prefixPath","collectionGroup","documentId"],bY=["collectionGroup","readTime","prefixPath","documentId"],CY=["canonicalId","targetId"],DY=["targetId","path"],TY=["path","targetId"],SY=["collectionId","parent"],AY=["indexId","uid"],RY=["uid","sequenceNumber"],MY=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],xY=["indexId","uid","orderedDocumentKey"],PY=["userId","collectionPath","documentId"],NY=["userId","collectionPath","largestBatchId"],kY=["userId","collectionGroup","largestBatchId"],fL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],OY=[...fL,"documentOverlays"],pL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],mL=pL,FY=[...mL,"indexConfiguration","indexState","indexEntries"];class ST extends aL{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function Rr(n,e){const t=fe(n);return js.M(t.ae,e)}function gL(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Pl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function _L(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class an{constructor(e,t){this.comparator=e,this.root=t||Hr.EMPTY}insert(e,t){return new an(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Hr.BLACK,null,null))}remove(e){return new an(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new BE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new BE(this.root,e,this.comparator,!1)}getReverseIterator(){return new BE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new BE(this.root,e,this.comparator,!0)}}class BE{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hr{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Hr.RED,this.left=i??Hr.EMPTY,this.right=s??Hr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Hr(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Hr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Hr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}Hr.EMPTY=null,Hr.RED=!0,Hr.BLACK=!1,Hr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Hr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qt{constructor(e){this.comparator=e,this.data=new an(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yL(this.data.getIterator())}getIteratorFrom(e){return new yL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new qt(this.comparator);return t.data=e,t}}class yL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function bh(n){return n.hasNext()?n.getNext():void 0}class Fi{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new Fi([])}unionWith(e){let t=new qt(_n.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Fi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Eh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class vL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new vL("Invalid base64 string: "+s):s}}(e);return new yr(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new yr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yr.EMPTY_BYTE_STRING=new yr("");const LY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nl(n){if(Ve(!!n),"string"==typeof n){let e=0;const t=LY.exec(n);if(Ve(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vn(n.seconds),nanos:Vn(n.nanos)}}function Vn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ea(n){return"string"==typeof n?yr.fromBase64String(n):yr.fromUint8Array(n)}function UE(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function $E(n){const e=n.mapValue.fields.__previous_value__;return UE(e)?$E(e):e}function sg(n){const e=Nl(n.mapValue.fields.__local_write_time__.timestampValue);return new In(e.seconds,e.nanos)}class BY{constructor(e,t,r,i,s,o,a,l,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=d}}class kl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new kl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof kl&&e.projectId===this.projectId&&e.database===this.database}}const Ol={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},jE={nullValue:"NULL_VALUE"};function Fl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?UE(n)?4:bL(n)?9007199254740991:10:Ae()}function To(n,e){if(n===e)return!0;const t=Fl(n);if(t!==Fl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return sg(n).isEqual(sg(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Nl(i.timestampValue),a=Nl(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,Ea(n.bytesValue).isEqual(Ea(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Vn(i.geoPointValue.latitude)===Vn(s.geoPointValue.latitude)&&Vn(i.geoPointValue.longitude)===Vn(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Vn(i.integerValue)===Vn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Vn(i.doubleValue),a=Vn(s.doubleValue);return o===a?ig(o)===ig(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Eh(n.arrayValue.values||[],e.arrayValue.values||[],To);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(gL(o)!==gL(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(void 0===a[l]||!To(o[l],a[l])))return!1;return!0}(n,e);default:return Ae()}var s}function og(n,e){return void 0!==(n.values||[]).find(t=>To(t,e))}function Vl(n,e){if(n===e)return 0;const t=Fl(n),r=Fl(e);if(t!==r)return Ze(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ze(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Vn(s.integerValue||s.doubleValue),l=Vn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return EL(n.timestampValue,e.timestampValue);case 4:return EL(sg(n),sg(e));case 5:return Ze(n.stringValue,e.stringValue);case 6:return function(s,o){const a=Ea(s),l=Ea(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let d=0;d<a.length&&d<l.length;d++){const h=Ze(a[d],l[d]);if(0!==h)return h}return Ze(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ze(Vn(s.latitude),Vn(o.latitude));return 0!==a?a:Ze(Vn(s.longitude),Vn(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let d=0;d<a.length&&d<l.length;++d){const h=Vl(a[d],l[d]);if(h)return h}return Ze(a.length,l.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Ol.mapValue&&o===Ol.mapValue)return 0;if(s===Ol.mapValue)return 1;if(o===Ol.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),d=o.fields||{},h=Object.keys(d);l.sort(),h.sort();for(let m=0;m<l.length&&m<h.length;++m){const g=Ze(l[m],h[m]);if(0!==g)return g;const y=Vl(a[l[m]],d[h[m]]);if(0!==y)return y}return Ze(l.length,h.length)}(n.mapValue,e.mapValue);default:throw Ae()}}function EL(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ze(n,e);const t=Nl(n),r=Nl(e),i=Ze(t.seconds,r.seconds);return 0!==i?i:Ze(t.nanos,r.nanos)}function Ch(n){return AT(n)}function AT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Nl(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ea(n.bytesValue).toBase64():"referenceValue"in n?ge.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=AT(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${AT(t.fields[o])}`;return i+"}"}(n.mapValue):Ae()}function eu(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function RT(n){return!!n&&"integerValue"in n}function ag(n){return!!n&&"arrayValue"in n}function wL(n){return!!n&&"nullValue"in n}function IL(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function zE(n){return!!n&&"mapValue"in n}function lg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Pl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=lg(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=lg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function bL(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function UY(n){return"nullValue"in n?jE:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?eu(kl.empty(),ge.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Ae()}function $Y(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?eu(kl.empty(),ge.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Ol:Ae()}function CL(n,e){const t=Vl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function DL(n,e){const t=Vl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class zr{constructor(e){this.value=e}static empty(){return new zr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!zE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lg(t)}setAll(e){let t=_n.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=lg(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());zE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return To(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];zE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Pl(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new zr(lg(this.value))}}function TL(n){const e=[];return Pl(n.fields,(t,r)=>{const i=new _n([t]);if(zE(r)){const s=TL(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Fi(e)}class yn{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new yn(e,0,Le.min(),Le.min(),Le.min(),zr.empty(),0)}static newFoundDocument(e,t,r,i){return new yn(e,1,t,Le.min(),r,i,0)}static newNoDocument(e,t){return new yn(e,2,t,Le.min(),Le.min(),zr.empty(),0)}static newUnknownDocument(e,t){return new yn(e,3,t,Le.min(),Le.min(),zr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Le.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ll{constructor(e,t){this.position=e,this.inclusive=t}}function SL(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?ge.comparator(ge.fromName(o.referenceValue),t.key):Vl(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function AL(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!To(n.position[t],e.position[t]))return!1;return!0}class cg{constructor(e,t="asc"){this.field=e,this.dir=t}}function jY(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class RL{}class Dt extends RL{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new HY(e,t,r):"array-contains"===t?new GY(e,r):"in"===t?new OL(e,r):"not-in"===t?new WY(e,r):"array-contains-any"===t?new KY(e,r):new Dt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new zY(e,r):new qY(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Vl(t,this.value)):null!==t&&Fl(this.value)===Fl(t)&&this.matchesComparison(Vl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ht extends RL{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Ht(e,t)}matches(e){return Dh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Dh(n){return"and"===n.op}function MT(n){return"or"===n.op}function xT(n){return ML(n)&&Dh(n)}function ML(n){for(const e of n.filters)if(e instanceof Ht)return!1;return!0}function PT(n){if(n instanceof Dt)return n.field.canonicalString()+n.op.toString()+Ch(n.value);if(xT(n))return n.filters.map(e=>PT(e)).join(",");{const e=n.filters.map(t=>PT(t)).join(",");return`${n.op}(${e})`}}function xL(n,e){return n instanceof Dt?(r=n,(i=e)instanceof Dt&&r.op===i.op&&r.field.isEqual(i.field)&&To(r.value,i.value)):n instanceof Ht?function(r,i){return i instanceof Ht&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&xL(o,i.filters[a]),!0)}(n,e):void Ae();var r,i}function PL(n,e){const t=n.filters.concat(e);return Ht.create(t,n.op)}function NL(n){return n instanceof Dt?`${(t=n).field.canonicalString()} ${t.op} ${Ch(t.value)}`:n instanceof Ht?function(t){return t.op.toString()+" {"+t.getFilters().map(NL).join(" ,")+"}"}(n):"Filter";var t}class HY extends Dt{constructor(e,t,r){super(e,t,r),this.key=ge.fromName(r.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class zY extends Dt{constructor(e,t){super(e,"in",t),this.keys=kL(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class qY extends Dt{constructor(e,t){super(e,"not-in",t),this.keys=kL(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function kL(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>ge.fromName(r.referenceValue))}class GY extends Dt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ag(t)&&og(t.arrayValue,this.value)}}class OL extends Dt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&og(this.value.arrayValue,t)}}class WY extends Dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(og(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!og(this.value.arrayValue,t)}}class KY extends Dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ag(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>og(this.value.arrayValue,r))}}class ZY{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function NT(n,e=null,t=[],r=[],i=null,s=null,o=null){return new ZY(n,e,t,r,i,s,o)}function tu(n){const e=fe(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>PT(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),rg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ch(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ch(r)).join(",")),e.ce=t}return e.ce}function ug(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!jY(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!xL(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!AL(n.startAt,e.startAt)&&AL(n.endAt,e.endAt)}function qE(n){return ge.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function GE(n,e){return n.filters.filter(t=>t instanceof Dt&&t.field.isEqual(e))}function FL(n,e,t){let r=jE,i=!0;for(const s of GE(n,e)){let o=jE,a=!0;switch(s.op){case"<":case"<=":o=UY(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=jE}CL({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];CL({value:r,inclusive:i},{value:o,inclusive:t.inclusive})<0&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}function VL(n,e,t){let r=Ol,i=!0;for(const s of GE(n,e)){let o=Ol,a=!0;switch(s.op){case">=":case">":o=$Y(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Ol}DL({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];DL({value:r,inclusive:i},{value:o,inclusive:t.inclusive})>0&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}class wa{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null}}function LL(n,e,t,r,i,s,o,a){return new wa(n,e,t,r,i,s,o,a)}function Th(n){return new wa(n)}function BL(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function kT(n){return null!==n.collectionGroup}function Sh(n){const e=fe(n);if(null===e.le){e.le=[];const t=new Set;for(const s of e.explicitOrderBy)e.le.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new qt(_n.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.le.push(new cg(s,r))}),t.has(_n.keyField().canonicalString())||e.le.push(new cg(_n.keyField(),r))}return e.le}function bi(n){const e=fe(n);return e.he||(e.he=function UL(n,e){if("F"===n.limitType)return NT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new cg(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new Ll(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ll(n.startAt.position,n.startAt.inclusive):null;return NT(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,Sh(n))),e.he}function OT(n,e){const t=n.filters.concat([e]);return new wa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function WE(n,e,t){return new wa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function dg(n,e){return ug(bi(n),bi(e))&&n.limitType===e.limitType}function $L(n){return`${tu(bi(n))}|lt:${n.limitType}`}function Ah(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>NL(i)).join(", ")}]`),rg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ch(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ch(i)).join(",")),`Target(${r})`}(bi(n))}; limitType=${n.limitType})`}function hg(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ge.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of Sh(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(o,a,l){const d=SL(o,a,l);return o.inclusive?d<=0:d<0}(r.startAt,Sh(r),i)||r.endAt&&!function(o,a,l){const d=SL(o,a,l);return o.inclusive?d>=0:d>0}(r.endAt,Sh(r),i)));var r,i}function jL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function HL(n){return(e,t)=>{let r=!1;for(const i of Sh(n)){const s=QY(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function QY(n,e,t){const r=n.field.isKeyField()?ge.comparator(e.key,t.key):function(s,o,a){const l=o.data.field(s),d=a.data.field(s);return null!==l&&null!==d?Vl(l,d):Ae()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ae()}}class Ia{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Pl(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return _L(this.inner)}size(){return this.innerSize}}const YY=new an(ge.comparator);function Vi(){return YY}const zL=new an(ge.comparator);function fg(...n){let e=zL;for(const t of n)e=e.insert(t.key,t);return e}function qL(n){let e=zL;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function So(){return pg()}function GL(){return pg()}function pg(){return new Ia(n=>n.toString(),(n,e)=>n.isEqual(e))}const XY=new an(ge.comparator),JY=new qt(ge.comparator);function lt(...n){let e=JY;for(const t of n)e=e.add(t);return e}const eX=new qt(Ze);function FT(){return eX}function WL(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ig(e)?"-0":e}}function KL(n){return{integerValue:""+n}}function ZL(n,e){return cL(e)?KL(e):WL(n,e)}class KE{constructor(){this._=void 0}}function tX(n,e,t){return n instanceof Rh?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&UE(s)&&(s=$E(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof nu?YL(n,e):n instanceof ru?XL(n,e):function(i,s){const o=QL(i,s),a=JL(o)+JL(i.Ie);return RT(o)&&RT(i.Ie)?KL(a):WL(i.serializer,a)}(n,e)}function nX(n,e,t){return n instanceof nu?YL(n,e):n instanceof ru?XL(n,e):t}function QL(n,e){return n instanceof Mh?RT(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class Rh extends KE{}class nu extends KE{constructor(e){super(),this.elements=e}}function YL(n,e){const t=e2(e);for(const r of n.elements)t.some(i=>To(i,r))||t.push(r);return{arrayValue:{values:t}}}class ru extends KE{constructor(e){super(),this.elements=e}}function XL(n,e){let t=e2(e);for(const r of n.elements)t=t.filter(i=>!To(i,r));return{arrayValue:{values:t}}}class Mh extends KE{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function JL(n){return Vn(n.integerValue||n.doubleValue)}function e2(n){return ag(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class mg{constructor(e,t){this.field=e,this.transform=t}}class iX{constructor(e,t){this.version=e,this.transformResults=t}}class bn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new bn}static exists(e){return new bn(void 0,e)}static updateTime(e){return new bn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ZE(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class QE{}function t2(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ph(n.key,bn.none()):new xh(n.key,n.data,bn.none());{const t=n.data,r=zr.empty();let i=new qt(_n.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new ba(n.key,r,new Fi(i.toArray()),bn.none())}}function sX(n,e,t){n instanceof xh?function(i,s,o){const a=i.value.clone(),l=s2(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof ba?function(i,s,o){if(!ZE(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=s2(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(r2(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function gg(n,e,t,r){return n instanceof xh?function(s,o,a,l){if(!ZE(s.precondition,o))return a;const d=s.value.clone(),h=o2(s.fieldTransforms,l,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(n,e,t,r):n instanceof ba?function(s,o,a,l){if(!ZE(s.precondition,o))return a;const d=o2(s.fieldTransforms,l,o),h=o.data;return h.setAll(r2(s)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(n,e,t,r):(a=t,ZE(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function oX(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=QL(r.transform,i||null);null!=s&&(null===t&&(t=zr.empty()),t.set(r.field,s))}return t||null}function n2(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&Eh(r,i,(s,o)=>function rX(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof nu&&i instanceof nu||r instanceof ru&&i instanceof ru?Eh(r.elements,i.elements,To):r instanceof Mh&&i instanceof Mh?To(r.Ie,i.Ie):r instanceof Rh&&i instanceof Rh);var r,i}(s,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class xh extends QE{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ba extends QE{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function r2(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function s2(n,e,t){const r=new Map;Ve(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,nX(o,a,t[i]))}return r}function o2(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,tX(s,o,e))}return r}class Ph extends QE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VT extends QE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class LT{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&sX(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=gg(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=gg(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=GL();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=t2(o,a);null!==l&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Le.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),lt())}isEqual(e){return this.batchId===e.batchId&&Eh(this.mutations,e.mutations,(t,r)=>n2(t,r))&&Eh(this.baseMutations,e.baseMutations,(t,r)=>n2(t,r))}}class BT{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ve(e.mutations.length===r.length);let i=XY;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new BT(e,t,r,i)}}class UT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class lX{constructor(e,t){this.count=e,this.unchangedNames=t}}var or,Mt;function a2(n){switch(n){default:return Ae();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function l2(n){if(void 0===n)return Gn("GRPC error has no .code"),$.UNKNOWN;switch(n){case or.OK:return $.OK;case or.CANCELLED:return $.CANCELLED;case or.UNKNOWN:return $.UNKNOWN;case or.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case or.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case or.INTERNAL:return $.INTERNAL;case or.UNAVAILABLE:return $.UNAVAILABLE;case or.UNAUTHENTICATED:return $.UNAUTHENTICATED;case or.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case or.NOT_FOUND:return $.NOT_FOUND;case or.ALREADY_EXISTS:return $.ALREADY_EXISTS;case or.PERMISSION_DENIED:return $.PERMISSION_DENIED;case or.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case or.ABORTED:return $.ABORTED;case or.OUT_OF_RANGE:return $.OUT_OF_RANGE;case or.UNIMPLEMENTED:return $.UNIMPLEMENTED;case or.DATA_LOSS:return $.DATA_LOSS;default:return Ae()}}(Mt=or||(or={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";function c2(){return new TextEncoder}const cX=new _h([4294967295,4294967295],0);function u2(n){const e=c2().encode(n),t=new nY;return t.update(e),new Uint8Array(t.digest())}function d2(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new _h([t,r],0),new _h([i,s],0)]}class $T{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new _g(`Invalid padding: ${t}`);if(r<0)throw new _g(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new _g(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new _g(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=_h.fromNumber(this.Te)}de(e,t,r){let i=e.add(t.multiply(_h.fromNumber(r)));return 1===i.compare(cX)&&(i=new _h([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=u2(e),[r,i]=d2(t);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new $T(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Te)return;const t=u2(e),[r,i]=d2(t);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class _g extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yg{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,vg.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new yg(Le.min(),i,new an(Ze),Vi(),lt())}}class vg{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new vg(r,t,lt(),lt(),lt())}}class XE{constructor(e,t,r,i){this.Ve=e,this.removedTargetIds=t,this.key=r,this.me=i}}class h2{constructor(e,t){this.targetId=e,this.fe=t}}class f2{constructor(e,t,r=yr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class p2{constructor(){this.ge=0,this.pe=g2(),this.ye=yr.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=lt(),t=lt(),r=lt();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ae()}}),new vg(this.ye,this.we,e,t,r)}Fe(){this.Se=!1,this.pe=g2()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ve(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class uX{constructor(e){this.Le=e,this.ke=new Map,this.qe=Vi(),this.Qe=m2(),this.Ke=new an(Ze)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(t);break;case 3:this.je(t)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.Ce(e.resumeToken));break;default:Ae()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,r=e.fe.count,i=this.Ye(t);if(i){const s=i.target;if(qE(s))if(0===r){const o=new ge(s.path);this.We(t,o,yn.newNoDocument(o,Le.min()))}else Ve(1===r);else{const o=this.Ze(t);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;0!==l&&(this.He(t),this.Ke=this.Ke.insert(t,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=Ea(r).toUint8Array()}catch(l){if(l instanceof vL)return Oi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new $T(o,i,s)}catch(l){return Oi(l instanceof _g?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Te?null:a}et(e,t,r){return t.fe.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(t,s,null),i++)}),i}it(e){const t=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&qE(a.target)){const l=new ge(a.target.path);null!==this.qe.get(l)||this.st(o,l)||this.We(o,l,yn.newNoDocument(l,e))}s.De&&(t.set(o,s.ve()),s.Fe())}});let r=lt();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const d=this.Ye(l);return!d||"TargetPurposeLimboResolution"===d.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new yg(e,t,this.Ke,this.qe,r);return this.qe=Vi(),this.Qe=m2(),this.Ke=new an(Ze),i}Ue(e,t){if(!this.je(e))return;const r=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,r),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,t)?i.Me(t,1):i.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),r&&(this.qe=this.qe.insert(t,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new p2,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new qt(Ze),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||le("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new p2),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function m2(){return new an(ge.comparator)}function g2(){return new an(ge.comparator)}const dX={asc:"ASCENDING",desc:"DESCENDING"},hX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fX={and:"AND",or:"OR"};class pX{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function jT(n,e){return n.useProto3Json||rg(e)?e:{value:e}}function Nh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function mX(n,e){return Nh(n,e.toTimestamp())}function Wn(n){return Ve(!!n),Le.fromTimestamp(function(t){const r=Nl(t);return new In(r.seconds,r.nanos)}(n))}function HT(n,e){return(r=n,new Rt(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function y2(n){const e=Rt.fromString(n);return Ve(S2(e)),e}function Eg(n,e){return HT(n.databaseId,e.path)}function Ao(n,e){const t=y2(e);if(t.get(1)!==n.databaseId.projectId)throw new re($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new re($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ge(E2(t))}function zT(n,e){return HT(n.databaseId,e)}function v2(n){const e=y2(n);return 4===e.length?Rt.emptyPath():E2(e)}function wg(n){return new Rt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function E2(n){return Ve(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function w2(n,e,t){return{name:Eg(n,e),fields:t.value.mapValue.fields}}function I2(n,e,t){const r=Ao(n,e.name),i=Wn(e.updateTime),s=e.createTime?Wn(e.createTime):Le.min(),o=new zr({mapValue:{fields:e.fields}}),a=yn.newFoundDocument(r,i,s,o);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function Ig(n,e){let t;if(e instanceof xh)t={update:w2(n,e.key,e.value)};else if(e instanceof Ph)t={delete:Eg(n,e.key)};else if(e instanceof ba)t={update:w2(n,e.key,e.data),updateMask:bX(e.fieldMask)};else{if(!(e instanceof VT))return Ae();t={verify:Eg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Rh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof nu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ru)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Mh)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Ae()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:mX(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Ae()),t;var s}function qT(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?bn.updateTime(Wn(s.updateTime)):void 0!==s.exists?bn.exists(s.exists):bn.none():bn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;"setToServerValue"in a?(Ve("REQUEST_TIME"===a.setToServerValue),l=new Rh):"appendMissingElements"in a?l=new nu(a.appendMissingElements.values||[]):"removeAllFromArray"in a?l=new ru(a.removeAllFromArray.values||[]):"increment"in a?l=new Mh(o,a.increment):Ae();const d=_n.fromServerFormat(a.fieldPath);return new mg(d,l)}(n,i)):[];var s;if(e.update){const i=Ao(n,e.update.name),s=new zr({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=new Fi((e.updateMask.fieldPaths||[]).map(h=>_n.fromServerFormat(h)));return new ba(i,s,o,t,r)}return new xh(i,s,t,r)}if(e.delete){const i=Ao(n,e.delete);return new Ph(i,t)}if(e.verify){const i=Ao(n,e.verify);return new VT(i,t)}return Ae()}function b2(n,e){return{documents:[zT(n,e.path)]}}function GT(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=zT(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=zT(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(0!==l.length)return T2(Ht.create(l,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(l){if(0!==l.length)return l.map(d=>{return{field:Bl((m=d).field),direction:EX(m.dir)};var m})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=jT(n,e.limit);return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),t;var l}function C2(n){let e=v2(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ve(1===r);const h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];t.where&&(s=function(m){const g=D2(m);return g instanceof Ht&&xT(g)?g.getFilters():[g]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(g=>{return new cg(kh((E=g).field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction));var E}));let a=null;t.limit&&(a=function(m){let g;return g="object"==typeof m?m.value:m,rg(g)?null:g}(t.limit));let l=null;var m;t.startAt&&(l=new Ll((m=t.startAt).values||[],!!m.before));let d=null;return t.endAt&&(d=function(m){return new Ll(m.values||[],!m.before)}(t.endAt)),LL(e,i,o,s,a,"F",l,d)}function D2(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=kh(t.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=kh(t.unaryFilter.field);return Dt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=kh(t.unaryFilter.field);return Dt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=kh(t.unaryFilter.field);return Dt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(n):void 0!==n.fieldFilter?Dt.create(kh((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Ht.create(t.compositeFilter.filters.map(r=>D2(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ae()}}(t.compositeFilter.op))}(n):Ae();var t}function EX(n){return dX[n]}function wX(n){return hX[n]}function IX(n){return fX[n]}function Bl(n){return{fieldPath:n.canonicalString()}}function kh(n){return _n.fromServerFormat(n.fieldPath)}function T2(n){return n instanceof Dt?function(t){if("=="===t.op){if(IL(t.value))return{unaryFilter:{field:Bl(t.field),op:"IS_NAN"}};if(wL(t.value))return{unaryFilter:{field:Bl(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(IL(t.value))return{unaryFilter:{field:Bl(t.field),op:"IS_NOT_NAN"}};if(wL(t.value))return{unaryFilter:{field:Bl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bl(t.field),op:wX(t.op),value:t.value}}}(n):n instanceof Ht?function(t){const r=t.getFilters().map(i=>T2(i));return 1===r.length?r[0]:{compositeFilter:{op:IX(t.op),filters:r}}}(n):Ae()}function bX(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function S2(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ca{constructor(e,t,r,i,s=Le.min(),o=Le.min(),a=yr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class A2{constructor(e){this.ut=e}}function R2(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:JE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Eg(s=n.ut,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:Nh(s,o.version.toTimestamp()),createTime:Nh(s,o.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:iu(e.version)};else{if(!e.isUnknownDocument())return Ae();r.unknownDocument={path:t.path.toArray(),version:iu(e.version)}}var s,o;return r}function JE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function iu(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function su(n){const e=new In(n.seconds,n.nanoseconds);return Le.fromTimestamp(e)}function ou(n,e){const t=(e.baseMutations||[]).map(s=>qT(n.ut,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const r=e.mutations.map(s=>qT(n.ut,s)),i=In.fromMillis(e.localWriteTimeMs);return new LT(e.batchId,i,t,r)}function bg(n){const e=su(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?su(n.lastLimboFreeSnapshotVersion):Le.min();let r;return r=void 0!==n.query.documents?(Ve(1===(s=n.query).documents.length),bi(Th(v2(s.documents[0])))):function(s){return bi(C2(s))}(n.query),new Ca(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,yr.fromBase64String(n.resumeToken));var s}function M2(n,e){const t=iu(e.snapshotVersion),r=iu(e.lastLimboFreeSnapshotVersion);let i;i=qE(e.target)?b2(n.ut,e.target):GT(n.ut,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:tu(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function WT(n){const e=C2({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?WE(e,e.limit,"L"):e}function KT(n,e){return new UT(e.largestBatchId,qT(n.ut,e.overlayMutation))}function x2(n,e){const t=e.path.lastSegment();return[n,ai(e.path.popLast()),t]}function P2(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:iu(r.readTime),documentKey:ai(r.documentKey.path),largestBatchId:r.largestBatchId}}class DX{getBundleMetadata(e,t){return N2(e).get(t).next(r=>{if(r)return{id:(s=r).bundleId,createTime:su(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return N2(e).put({bundleId:(i=t).id,createTime:iu(Wn(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return k2(e).get(t).next(r=>{if(r)return{name:(s=r).name,query:WT(s.bundledQuery),readTime:su(s.readTime)};var s})}saveNamedQuery(e,t){return k2(e).put({name:(i=t).name,readTime:iu(Wn(i.readTime)),bundledQuery:i.bundledQuery});var i}}function N2(n){return Rr(n,"bundles")}function k2(n){return Rr(n,"namedQueries")}class ew{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){return new ew(e,t.uid||"")}getOverlay(e,t){return Cg(e).get(x2(this.userId,t)).next(r=>r?KT(this.serializer,r):null)}getOverlays(e,t){const r=So();return V.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((s,o)=>{const a=new UT(t,o);i.push(this.lt(e,a))}),V.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(o=>i.add(ai(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Cg(e).H("collectionPathOverlayIndex",a))}),V.waitFor(s)}getOverlaysForCollection(e,t,r){const i=So(),s=ai(t),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Cg(e).W("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const d=KT(this.serializer,l);i.set(d.getKey(),d)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=So();let o;const a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Cg(e).Y({index:"collectionGroupOverlayIndex",range:a},(l,d,h)=>{const m=KT(this.serializer,d);s.size()<i||m.largestBatchId===o?(s.set(m.getKey(),m),o=m.largestBatchId):h.done()}).next(()=>s)}lt(e,t){return Cg(e).put(function(i,s,o){const[a,l,d]=x2(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:d,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Ig(i.ut,o.mutation)}}(this.serializer,this.userId,t))}}function Cg(n){return Rr(n,"documentOverlays")}class au{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Vn(e.integerValue));else if("doubleValue"in e){const r=Vn(e.doubleValue);isNaN(r)?this.Tt(t,13):(this.Tt(t,15),ig(r)?t.Et(0):t.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(t,20),"string"==typeof r?t.dt(r):(t.dt(`${r.seconds||""}`),t.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Ea(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(t,45),t.Et(r.latitude||0),t.Et(r.longitude||0)}else"mapValue"in e?bL(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Ae()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const r=e.fields||{};this.Tt(t,55);for(const i of Object.keys(r))this.At(i,t),this.Pt(r[i],t)}yt(e,t){const r=e.values||[];this.Tt(t,50);for(const i of r)this.Pt(i,t)}ft(e,t){this.Tt(t,37),ge.fromName(e).path.forEach(r=>{this.Tt(t,60),this.wt(r,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function TX(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function O2(n){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=TX(255&r[s]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(e/8)}au.St=new au;class SX{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Dt(r.value),r=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ft(r.value),r=t.next();this.Mt()}xt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{const i=t.codePointAt(0);this.Dt(240|i>>>18),this.Dt(128|63&i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i)}}this.Ct()}Ot(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=t.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Nt(e){const t=this.Bt(e),r=O2(t);this.Lt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}kt(e){const t=this.Bt(e),r=O2(t);this.Lt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class AX{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class RX{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Dg{constructor(){this.Wt=new SX,this.Gt=new AX(this.Wt),this.zt=new RX(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class lu{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new lu(this.indexId,this.documentKey,this.arrayValue,r)}}function Ul(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=F2(n.arrayValue,e.arrayValue),0!==t?t:(t=F2(n.directionalValue,e.directionalValue),0!==t?t:ge.comparator(n.documentKey,e.documentKey)))}function F2(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class V2{constructor(e){this.Jt=new qt((t,r)=>_n.comparator(t.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const r=t;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(Ve(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=bT(e);if(void 0!==t&&!this.tn(t))return!1;const r=Yc(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.tn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.nn(a,l)||!this.rn(this.Yt[o++],l))return!1}++s}for(;s<r.length;++s)if(o>=this.Yt.length||!this.rn(this.Yt[o++],r[s]))return!1;return!0}sn(){if(this.Xt)return null;let e=new qt(_n.comparator);const t=[];for(const r of this.Zt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)t.push(new Xc(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Xc(r.field,0))}for(const r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Xc(r.field,"asc"===r.dir?0:1)));return new wh(wh.UNKNOWN_ID,this.collectionId,t,Ih.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function L2(n){var e,t;if(Ve(n instanceof Dt||n instanceof Ht),n instanceof Dt){if(n instanceof OL){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>Dt.create(n.field,"==",s)))||[];return Ht.create(i,"or")}return n}const r=n.filters.map(i=>L2(i));return Ht.create(r,n.op)}function MX(n){if(0===n.getFilters().length)return[];const e=YT(L2(n));return Ve(B2(e)),ZT(e)||QT(e)?[e]:e.getFilters()}function ZT(n){return n instanceof Dt}function QT(n){return n instanceof Ht&&xT(n)}function B2(n){return ZT(n)||QT(n)||function(t){if(t instanceof Ht&&MT(t)){for(const r of t.getFilters())if(!ZT(r)&&!QT(r))return!1;return!0}return!1}(n)}function YT(n){if(Ve(n instanceof Dt||n instanceof Ht),n instanceof Dt)return n;if(1===n.filters.length)return YT(n.filters[0]);const e=n.filters.map(r=>YT(r));let t=Ht.create(e,n.op);return t=tw(t),B2(t)?t:(Ve(t instanceof Ht),Ve(Dh(t)),Ve(t.filters.length>1),t.filters.reduce((r,i)=>XT(r,i)))}function XT(n,e){let t;return Ve(n instanceof Dt||n instanceof Ht),Ve(e instanceof Dt||e instanceof Ht),t=n instanceof Dt?e instanceof Dt?Ht.create([n,e],"and"):U2(n,e):e instanceof Dt?U2(e,n):function(i,s){if(Ve(i.filters.length>0&&s.filters.length>0),Dh(i)&&Dh(s))return PL(i,s.getFilters());const o=MT(i)?i:s,a=MT(i)?s:i,l=o.filters.map(d=>XT(d,a));return Ht.create(l,"or")}(n,e),tw(t)}function U2(n,e){if(Dh(e))return PL(e,n.getFilters());{const t=e.filters.map(r=>XT(n,r));return Ht.create(t,"or")}}function tw(n){if(Ve(n instanceof Dt||n instanceof Ht),n instanceof Dt)return n;const e=n.getFilters();if(1===e.length)return tw(e[0]);if(ML(n))return n;const t=e.map(i=>tw(i)),r=[];return t.forEach(i=>{i instanceof Dt?r.push(i):i instanceof Ht&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Ht.create(r,n.op)}class xX{constructor(){this.on=new JT}addToCollectionParentIndex(e,t){return this.on.add(t),V.resolve()}getCollectionParents(e,t){return V.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return V.resolve()}deleteFieldIndex(e,t){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,t){return V.resolve()}getDocumentsMatchingTarget(e,t){return V.resolve(null)}getIndexType(e,t){return V.resolve(0)}getFieldIndexes(e,t){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,t){return V.resolve(Xi.min())}getMinOffsetFromCollectionGroup(e,t){return V.resolve(Xi.min())}updateCollectionGroup(e,t,r){return V.resolve()}updateIndexEntries(e,t){return V.resolve()}}class JT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new qt(Rt.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new qt(Rt.comparator)).toArray()}}const nw=new Uint8Array(0);class PX{constructor(e,t){this.user=e,this.databaseId=t,this._n=new JT,this.an=new Ia(r=>tu(r),(r,i)=>ug(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this._n.add(t)});const s={collectionId:r,parent:ai(i)};return $2(e).put(s)}return V.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[rL(t),""],!1,!0);return $2(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==t)break;r.push(Do(o.parent))}return r})}addFieldIndex(e,t){const r=Tg(e),i={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])};var a;delete i.indexId;const s=r.add(i);if(t.indexState){const o=Fh(e);return s.next(a=>{o.put(P2(a,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const r=Tg(e),i=Fh(e),s=Oh(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Tg(e),r=Oh(e),i=Fh(e);return t.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,t){return V.forEach(this.un(t),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const s=new V2(r).sn();if(null!=s)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,t){const r=Oh(e);let i=!0;const s=new Map;return V.forEach(this.un(t),o=>this.cn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=lt();const a=[];return V.forEach(s,(l,d)=>{var P;le("IndexedDbIndexManager",`Using index ${P=l,`id=${P.indexId}|cg=${P.collectionGroup}|f=${P.fields.map(X=>`${X.fieldPath}:${X.kind}`).join(",")}`} to execute ${tu(t)}`);const h=function(P,X){const pe=bT(X);if(void 0===pe)return null;for(const ke of GE(P,pe.fieldPath))switch(ke.op){case"array-contains-any":return ke.value.arrayValue.values||[];case"array-contains":return[ke.value]}return null}(d,l),m=function(P,X){const pe=new Map;for(const ke of Yc(X))for(const vt of GE(P,ke.fieldPath))switch(vt.op){case"==":case"in":pe.set(ke.fieldPath.canonicalString(),vt.value);break;case"not-in":case"!=":return pe.set(ke.fieldPath.canonicalString(),vt.value),Array.from(pe.values())}return null}(d,l),g=function(P,X){const pe=[];let ke=!0;for(const vt of Yc(X)){const Bn=0===vt.kind?FL(P,vt.fieldPath,P.startAt):VL(P,vt.fieldPath,P.startAt);pe.push(Bn.value),ke&&(ke=Bn.inclusive)}return new Ll(pe,ke)}(d,l),y=function(P,X){const pe=[];let ke=!0;for(const vt of Yc(X)){const Bn=0===vt.kind?VL(P,vt.fieldPath,P.endAt):FL(P,vt.fieldPath,P.endAt);pe.push(Bn.value),ke&&(ke=Bn.inclusive)}return new Ll(pe,ke)}(d,l),E=this.ln(l,d,g),b=this.ln(l,d,y),C=this.hn(l,d,m),k=this.Pn(l.indexId,h,E,g.inclusive,b,y.inclusive,C);return V.forEach(k,B=>r.j(B,t.limit).next(P=>{P.forEach(X=>{const pe=ge.fromSegments(X.documentKey);o.has(pe)||(o=o.add(pe),a.push(pe))})}))}).next(()=>a)}return V.resolve(null)})}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:MX(Ht.create(e.filters,"and")).map(r=>NT(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,t),t)}Pn(e,t,r,i,s,o,a){const l=(null!=t?t.length:1)*Math.max(r.length,s.length),d=l/(null!=t?t.length:1),h=[];for(let m=0;m<l;++m){const g=t?this.In(t[m/d]):nw,y=this.Tn(e,g,r[m%d],i),E=this.En(e,g,s[m%d],o),b=a.map(C=>this.Tn(e,g,C,!0));h.push(...this.createRange(y,E,b))}return h}Tn(e,t,r,i){const s=new lu(e,ge.empty(),t,r);return i?s:s.Ht()}En(e,t,r,i){const s=new lu(e,ge.empty(),t,r);return i?s.Ht():s}cn(e,t){const r=new V2(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.en(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,t){let r=2;const i=this.un(t);return V.forEach(i,s=>this.cn(e,s).next(o=>{o?0!==r&&o.fields.length<function(l){let d=new qt(_n.comparator),h=!1;for(const m of l.filters)for(const g of m.getFlattenedFilters())g.field.isKeyField()||("array-contains"===g.op||"array-contains-any"===g.op?h=!0:d=d.add(g.field));for(const m of l.orderBy)m.field.isKeyField()||(d=d.add(m.field));return d.size+(h?1:0)}(s)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}dn(e,t){const r=new Dg;for(const i of Yc(e)){const s=t.data.field(i.fieldPath);if(null==s)return null;const o=r.jt(i.kind);au.St.ht(s,o)}return r.Ut()}In(e){const t=new Dg;return au.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const r=new Dg;return au.St.ht(eu(this.databaseId,t),r.jt(function(s){const o=Yc(s);return 0===o.length?0:o[o.length-1].kind}(e))),r.Ut()}hn(e,t,r){if(null===r)return[];let i=[];i.push(new Dg);let s=0;for(const o of Yc(e)){const a=r[s++];for(const l of i)if(this.Rn(t,o.fieldPath)&&ag(a))i=this.Vn(i,o,a);else{const d=l.jt(o.kind);au.St.ht(a,d)}}return this.mn(i)}ln(e,t,r){return this.hn(e,t,r.position)}mn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Ut();return t}Vn(e,t,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new Dg;l.seed(a.Ut()),au.St.ht(o,l.jt(t.kind)),s.push(l)}return s}Rn(e,t){return!!e.filters.find(r=>r instanceof Dt&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Tg(e),i=Fh(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(s=>{const o=[];return V.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(h,m){const g=m?new Ih(m.sequenceNumber,new Xi(su(m.readTime),new ge(Do(m.documentKey)),m.largestBatchId)):Ih.empty(),y=h.fields.map(([E,b])=>new Xc(_n.fromServerFormat(E),b));return new wh(h.indexId,h.collectionGroup,y,g)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:Ze(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Tg(e),s=Fh(e);return this.fn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>V.forEach(a,l=>s.put(P2(l.indexId,this.user,o,r)))))}updateIndexEntries(e,t){const r=new Map;return V.forEach(t,(i,s)=>{const o=r.get(i.collectionGroup);return(o?V.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),V.forEach(a,l=>this.gn(e,i,l).next(d=>{const h=this.pn(s,l);return d.isEqual(h)?V.resolve():this.yn(e,s,l,d,h)}))))})}wn(e,t,r,i){return Oh(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.An(r,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,r,i){return Oh(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.An(r,t.key),t.key.path.toArray()])}gn(e,t,r){const i=Oh(e);let s=new qt(Ul);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,t)])},(o,a)=>{s=s.add(new lu(r.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>s)}pn(e,t){let r=new qt(Ul);const i=this.dn(t,e);if(null==i)return r;const s=bT(t);if(null!=s){const o=e.data.field(s.fieldPath);if(ag(o))for(const a of o.arrayValue.values||[])r=r.add(new lu(t.indexId,e.key,this.In(a),i))}else r=r.add(new lu(t.indexId,e.key,nw,i));return r}yn(e,t,r,i,s){le("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(l,d,h,m,g){const y=l.getIterator(),E=d.getIterator();let b=bh(y),C=bh(E);for(;b||C;){let k=!1,B=!1;if(b&&C){const P=h(b,C);P<0?B=!0:P>0&&(k=!0)}else null!=b?B=!0:k=!0;k?(m(C),C=bh(E)):B?(g(b),b=bh(y)):(b=bh(y),C=bh(E))}}(i,s,Ul,a=>{o.push(this.wn(e,t,r,a))},a=>{o.push(this.Sn(e,t,r,a))}),V.waitFor(o)}fn(e){let t=1;return Fh(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((o,a)=>Ul(o,a)).filter((o,a,l)=>!a||0!==Ul(o,l[a-1]));const i=[];i.push(e);for(const o of r){const a=Ul(o,e),l=Ul(o,t);if(0===a)i[0]=e.Ht();else if(a>0&&l<0)i.push(o),i.push(o.Ht());else if(l>0)break}i.push(t);const s=[];for(let o=0;o<i.length;o+=2){if(this.bn(i[o],i[o+1]))return[];s.push(IDBKeyRange.bound([i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,nw,[]],[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,nw,[]]))}return s}bn(e,t){return Ul(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(j2)}getMinOffset(e,t){return V.mapArray(this.un(t),r=>this.cn(e,r).next(i=>i||Ae())).next(j2)}}function $2(n){return Rr(n,"collectionParents")}function Oh(n){return Rr(n,"indexEntries")}function Tg(n){return Rr(n,"indexConfiguration")}function Fh(n){return Rr(n,"indexState")}function j2(n){Ve(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;CT(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Xi(e.readTime,e.documentKey,t)}const H2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class li{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new li(e,li.DEFAULT_COLLECTION_PERCENTILE,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function z2(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),s=[],o=IDBKeyRange.only(t.batchId);let a=0;const l=r.Y({range:o},(h,m,g)=>(a++,g.delete()));s.push(l.next(()=>{Ve(1===a)}));const d=[];for(const h of t.mutations){const m=hL(e,h.key.path,t.batchId);s.push(i.delete(m)),d.push(h.key)}return V.waitFor(s).next(()=>d)}function rw(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ae();e=n.noDocument}return JSON.stringify(e).length}li.DEFAULT_COLLECTION_PERCENTILE=10,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,li.DEFAULT=new li(41943040,li.DEFAULT_COLLECTION_PERCENTILE,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),li.DISABLED=new li(-1,0,0);class iw{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}static ct(e,t,r,i){Ve(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new iw(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $l(e).Y({index:"userMutationsIndex",range:r},(i,s,o)=>{t=!1,o.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=Vh(e),o=$l(e);return o.add({}).next(a=>{Ve("number"==typeof a);const l=new LT(a,t,r,i),d=function(y,E,b){const C=b.baseMutations.map(B=>Ig(y.ut,B)),k=b.mutations.map(B=>Ig(y.ut,B));return{userId:E,batchId:b.batchId,localWriteTimeMs:b.localWriteTime.toMillis(),baseMutations:C,mutations:k}}(this.serializer,this.userId,l),h=[];let m=new qt((g,y)=>Ze(g.canonicalString(),y.canonicalString()));for(const g of i){const y=hL(this.userId,g.key.path,a);m=m.add(g.key.path.popLast()),h.push(o.put(d)),h.push(s.put(y,EY))}return m.forEach(g=>{h.push(this.indexManager.addToCollectionParentIndex(e,g))}),e.addOnCommittedListener(()=>{this.Dn[a]=l.keys()}),V.waitFor(h).next(()=>l)})}lookupMutationBatch(e,t){return $l(e).get(t).next(r=>r?(Ve(r.userId===this.userId),ou(this.serializer,r)):null)}Cn(e,t){return this.Dn[t]?V.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Dn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return $l(e).Y({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(Ve(a.batchId>=r),s=ou(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return $l(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $l(e).W("userMutationsIndex",t).next(r=>r.map(i=>ou(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=LE(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return Vh(e).Y({range:i},(o,a,l)=>{const[d,h,m]=o,g=Do(h);if(d===this.userId&&t.path.isEqual(g))return $l(e).get(m).next(y=>{if(!y)throw Ae();Ve(y.userId===this.userId),s.push(ou(this.serializer,y))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new qt(Ze);const i=[];return t.forEach(s=>{const o=LE(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Vh(e).Y({range:a},(d,h,m)=>{const[g,y,E]=d,b=Do(y);g===this.userId&&s.path.isEqual(b)?r=r.add(E):m.done()});i.push(l)}),V.waitFor(i).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=LE(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new qt(Ze);return Vh(e).Y({range:o},(l,d,h)=>{const[m,g,y]=l,E=Do(g);m===this.userId&&r.isPrefixOf(E)?E.length===i&&(a=a.add(y)):h.done()}).next(()=>this.vn(e,a))}vn(e,t){const r=[],i=[];return t.forEach(s=>{i.push($l(e).get(s).next(o=>{if(null===o)throw Ae();Ve(o.userId===this.userId),r.push(ou(this.serializer,o))}))}),V.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return z2(e.ae,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Fn(t.batchId)}),V.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return V.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Vh(e).Y({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=Do(s[1]);i.push(l)}else a.done()}).next(()=>{Ve(0===i.length)})})}containsKey(e,t){return q2(e,this.userId,t)}Mn(e){return G2(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function q2(n,e,t){const r=LE(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Vh(n).Y({range:s,J:!0},(a,l,d)=>{const[h,m,g]=a;h===e&&m===i&&(o=!0),d.done()}).next(()=>o)}function $l(n){return Rr(n,"mutations")}function Vh(n){return Rr(n,"documentMutations")}function G2(n){return Rr(n,"mutationQueues")}class cu{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new cu(0)}static Nn(){return new cu(-1)}}class NX{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next(t=>{const r=new cu(t.highestTargetId);return t.highestTargetId=r.next(),this.Ln(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(t=>Le.fromTimestamp(new In(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Ln(e,i)))}addTargetData(e,t){return this.kn(e,t).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.qn(t,r),this.Ln(e,r))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Lh(e).delete(t.targetId)).next(()=>this.Bn(e)).next(r=>(Ve(r.targetCount>0),r.targetCount-=1,this.Ln(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return Lh(e).Y((o,a)=>{const l=bg(a);l.sequenceNumber<=t&&null===r.get(l.targetId)&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>V.waitFor(s)).next(()=>i)}forEachTarget(e,t){return Lh(e).Y((r,i)=>{const s=bg(i);t(s)})}Bn(e){return W2(e).get("targetGlobalKey").next(t=>(Ve(null!==t),t))}Ln(e,t){return W2(e).put("targetGlobalKey",t)}kn(e,t){return Lh(e).put(M2(this.serializer,t))}qn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=tu(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Lh(e).Y({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const d=bg(a);ug(t,d.target)&&(s=d,l.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=jl(e);return t.forEach(o=>{const a=ai(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),V.waitFor(i)}removeMatchingKeys(e,t,r){const i=jl(e);return V.forEach(t,s=>{const o=ai(s.path);return V.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=jl(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=jl(e);let s=lt();return i.Y({range:r,J:!0},(o,a,l)=>{const d=Do(o[1]),h=new ge(d);s=s.add(h)}).next(()=>s)}containsKey(e,t){const r=ai(t.path),i=IDBKeyRange.bound([r],[rL(r)],!1,!0);let s=0;return jl(e).Y({index:"documentTargetsIndex",J:!0,range:i},([o,a],l,d)=>{0!==o&&(s++,d.done())}).next(()=>s>0)}_t(e,t){return Lh(e).get(t).next(r=>r?bg(r):null)}}function Lh(n){return Rr(n,"targets")}function W2(n){return Rr(n,"targetGlobal")}function jl(n){return Rr(n,"targetDocuments")}function K2([n,e],[t,r]){const i=Ze(n,t);return 0===i?Ze(e,r):i}class kX{constructor(e){this.Qn=e,this.buffer=new qt(K2),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();K2(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Z2{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var t=this;le("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,J.Z)(function*(){t.Wn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){xl(r)?le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Ml(r)}yield t.Gn(3e5)}))}}class OX{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return V.resolve(Ji._e);const r=new kX(t);return this.zn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.zn.Hn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(H2)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),H2):this.Jn(e,t))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let r,i,s,o,a,l,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,a=Date.now(),this.removeTargets(e,r,t))).next(m=>(s=m,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(d=Date.now(),vh()<=wo.in.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-h}ms\n\tDetermined least recently used ${i} in `+(a-o)+`ms\n\tRemoved ${s} targets in `+(l-a)+`ms\n\tRemoved ${m} documents in `+(d-l)+`ms\nTotal Duration: ${d-h}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})))}}class FX{constructor(e,t){this.db=e,this.garbageCollector=function Q2(n,e){return new OX(n,e)}(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Yn(e){let t=0;return this.Hn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,(r,i)=>t(i))}addReference(e,t,r){return sw(e,r)}removeReference(e,t,r){return sw(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return sw(e,t)}Xn(e,t){return function(i,s){let o=!1;return G2(i).Z(a=>q2(i,a,s).next(l=>(l&&(o=!0),V.resolve(!l)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Zn(e,(o,a)=>{if(a<=t){const l=this.Xn(e,o).next(d=>{if(!d)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,Le.min()),jl(e).delete([0,ai(o.path)])))});i.push(l)}}).next(()=>V.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return sw(e,t)}Zn(e,t){const r=jl(e);let i,s=Ji._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:d})=>{0===o?(s!==Ji._e&&t(new ge(Do(i)),s),s=d,i=l):s=Ji._e}).next(()=>{s!==Ji._e&&t(new ge(Do(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function sw(n,e){return jl(n).put((i=n.currentSequenceNumber,{targetId:0,path:ai(e.path),sequenceNumber:i}));var i}class Y2{constructor(){this.changes=new Ia(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?V.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class VX{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return uu(e).put(r)}removeEntry(e,t,r){return uu(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],JE(o),a[a.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.er(e,r)))}getEntry(e,t){let r=yn.newInvalidDocument(t);return uu(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Sg(t))},(i,s)=>{r=this.tr(t,s)}).next(()=>r)}nr(e,t){let r={size:0,document:yn.newInvalidDocument(t)};return uu(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Sg(t))},(i,s)=>{r={document:this.tr(t,s),size:rw(s)}}).next(()=>r)}getEntries(e,t){let r=Vi();return this.rr(e,t,(i,s)=>{const o=this.tr(i,s);r=r.insert(i,o)}).next(()=>r)}ir(e,t){let r=Vi(),i=new an(ge.comparator);return this.rr(e,t,(s,o)=>{const a=this.tr(s,o);r=r.insert(s,a),i=i.insert(s,rw(o))}).next(()=>({documents:r,sr:i}))}rr(e,t,r){if(t.isEmpty())return V.resolve();let i=new qt(tB);t.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(Sg(i.first()),Sg(i.last())),o=i.getIterator();let a=o.getNext();return uu(e).Y({index:"documentKeyIndex",range:s},(l,d,h)=>{const m=ge.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;a&&tB(a,m)<0;)r(a,null),a=o.getNext();a&&a.isEqual(m)&&(r(a,d),a=o.hasNext()?o.getNext():null),a?h.U(Sg(a)):h.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,s){const o=t.path,a=[o.popLast().toArray(),o.lastSegment(),JE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return uu(e).W(IDBKeyRange.bound(a,l,!0)).next(d=>{s?.incrementDocumentReadCount(d.length);let h=Vi();for(const m of d){const g=this.tr(ge.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);g.isFoundDocument()&&(hg(t,g)||i.has(g.key))&&(h=h.insert(g.key,g))}return h})}getAllFromCollectionGroup(e,t,r,i){let s=Vi();const o=eB(t,r),a=eB(t,Xi.max());return uu(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,d,h)=>{const m=this.tr(ge.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);s=s.insert(m.key,m),s.size===i&&h.done()}).next(()=>s)}newChangeBuffer(e){return new LX(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return J2(e).get("remoteDocumentGlobalKey").next(t=>(Ve(!!t),t))}er(e,t){return J2(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const r=function CX(n,e){let t;if(e.document)t=I2(n.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ge.fromSegments(e.noDocument.path),i=su(e.noDocument.readTime);t=yn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ae();{const r=ge.fromSegments(e.unknownDocument.path),i=su(e.unknownDocument.version);t=yn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const s=new In(i[0],i[1]);return Le.fromTimestamp(s)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Le.min()))return r}return yn.newInvalidDocument(e)}}function X2(n){return new VX(n)}class LX extends Y2{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new Ia(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new qt((s,o)=>Ze(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ar.get(s);if(t.push(this._r.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=R2(this._r.serializer,o);i=i.add(s.path.popLast());const d=rw(l);r+=d-a.size,t.push(this._r.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=R2(this._r.serializer,o.convertToNoDocument(Le.min()));t.push(this._r.addEntry(e,s,l))}}),i.forEach(s=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,s))}),t.push(this._r.updateMetadata(e,r)),V.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next(r=>(this.ar.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this._r.ir(e,t).next(({documents:r,sr:i})=>(i.forEach((s,o)=>{this.ar.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function J2(n){return Rr(n,"remoteDocumentGlobal")}function uu(n){return Rr(n,"remoteDocumentsV14")}function Sg(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function eB(n,e){const t=e.documentKey.path.toArray();return[n,JE(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function tB(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=Ze(t[s],r[s]),i)return i;return i=Ze(t.length,r.length),i||(i=Ze(t[t.length-2],r[r.length-2]),i||Ze(t[t.length-1],r[r.length-1]))}class BX{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class nB{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&gg(r.mutation,i,Fi.empty(),In.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,lt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=lt()){const i=So();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=fg();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=So();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,lt()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Vi();const o=pg(),a=pg();return t.forEach((l,d)=>{const h=r.get(d.key);i.has(d.key)&&(void 0===h||h.mutation instanceof ba)?s=s.insert(d.key,d):void 0!==h?(o.set(d.key,h.mutation.getFieldMask()),gg(h.mutation,d,h.mutation.getFieldMask(),In.now())):o.set(d.key,Fi.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((d,h)=>o.set(d,h)),t.forEach((d,h)=>{var m;return a.set(d,new BX(h,null!==(m=o.get(d))&&void 0!==m?m:null))}),a))}recalculateAndSaveOverlays(e,t){const r=pg();let i=new an((o,a)=>o-a),s=lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const d=t.get(l);if(null===d)return;let h=r.get(l)||Fi.empty();h=a.applyToLocalView(d,h),r.set(l,h);const m=(i.get(a.batchId)||lt()).add(l);i=i.insert(a.batchId,m)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),d=l.key,h=l.value,m=GL();h.forEach(g=>{if(!s.has(g)){const y=t2(t.get(g),r.get(g));null!==y&&m.set(g,y),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,m))}return V.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return ge.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):kT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var o}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):V.resolve(So());let a=-1,l=s;return o.next(d=>V.forEach(d,(h,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),s.get(h)?V.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{l=l.insert(h,g)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,l,d,lt())).next(h=>({batchId:a,changes:qL(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next(r=>{let i=fg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=fg();return this.indexManager.getCollectionParents(e,s).next(a=>V.forEach(a,l=>{const d=(m=t,g=l.child(s),new wa(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt));var m,g;return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(h=>{h.forEach((m,g)=>{o=o.insert(m,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((l,d)=>{const h=d.getKey();null===o.get(h)&&(o=o.insert(h,yn.newInvalidDocument(h)))});let a=fg();return o.forEach((l,d)=>{const h=s.get(l);void 0!==h&&gg(h.mutation,d,Fi.empty(),In.now()),hg(t,d)&&(a=a.insert(l,d))}),a})}}class UX{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return V.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(i=t).id,version:i.version,createTime:Wn(i.createTime)}),V.resolve();var i}getNamedQuery(e,t){return V.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(i=t).name,query:WT(i.bundledQuery),readTime:Wn(i.readTime)}),V.resolve();var i}}class $X{constructor(){this.overlays=new an(ge.comparator),this.lr=new Map}getOverlay(e,t){return V.resolve(this.overlays.get(t))}getOverlays(e,t){const r=So();return V.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.lt(e,t,s)}),V.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),V.resolve()}getOverlaysForCollection(e,t,r){const i=So(),s=t.length+1,o=new ge(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,d=l.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return V.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new an((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let h=s.get(d.largestBatchId);null===h&&(h=So(),s=s.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=So(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=i)););return V.resolve(a)}lt(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new UT(t,r));let s=this.lr.get(t);void 0===s&&(s=lt(),this.lr.set(t,s)),this.lr.set(t,s.add(r.key))}}class eS{constructor(){this.hr=new qt(Mr.Pr),this.Ir=new qt(Mr.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const r=new Mr(e,t);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.dr(new Mr(e,t))}Ar(e,t){e.forEach(r=>this.removeReference(r,t))}Rr(e){const t=new ge(new Rt([])),r=new Mr(t,e),i=new Mr(t,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new ge(new Rt([])),r=new Mr(t,e),i=new Mr(t,e+1);let s=lt();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Mr(e,0),r=this.hr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Mr{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return ge.comparator(e.key,t.key)||Ze(e.gr,t.gr)}static Tr(e,t){return Ze(e.gr,t.gr)||ge.comparator(e.key,t.key)}}class jX{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new qt(Mr.Pr)}checkEmpty(e){return V.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.pr;this.pr++;const o=new LT(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new Mr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(o)}lookupMutationBatch(e,t){return V.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Sr(t+1),s=i<0?0:i;return V.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Mr(t,0),i=new Mr(t,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),V.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new qt(Ze);return t.forEach(i=>{const s=new Mr(i,0),o=new Mr(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),V.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;ge.isDocumentKey(s)||(s=s.child(""));const o=new Mr(new ge(s),0);let a=new qt(Ze);return this.yr.forEachWhile(l=>{const d=l.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(l.gr)),!0)},o),V.resolve(this.br(a))}br(e){const t=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Ve(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return V.forEach(t.mutations,i=>{const s=new Mr(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,t){const r=new Mr(t,0),i=this.yr.firstAfterOrEqual(r);return V.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return V.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class HX{constructor(e){this.Cr=e,this.docs=new an(ge.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return V.resolve(r?r.document.mutableCopy():yn.newInvalidDocument(t))}getEntries(e,t){let r=Vi();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():yn.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Vi();const o=t.path,a=new ge(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:d,value:{document:h}}=l.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||CT(sL(h),r)<=0||(i.has(h.key)||hg(t,h))&&(s=s.insert(h.key,h.mutableCopy()))}return V.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Ae()}vr(e,t){return V.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new zX(this)}getSize(e){return V.resolve(this.size)}}class zX extends Y2{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),V.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class qX{constructor(e){this.persistence=e,this.Fr=new Ia(t=>tu(t),ug),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.Mr=0,this.Or=new eS,this.targetCount=0,this.Nr=cu.On()}forEachTarget(e,t){return this.Fr.forEach((r,i)=>t(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Mr&&(this.Mr=t),V.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new cu(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,V.resolve()}updateTargetData(e,t){return this.kn(t),V.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(s).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fr.get(t)||null;return V.resolve(r)}addMatchingKeys(e,t,r){return this.Or.Er(t,r),V.resolve()}removeMatchingKeys(e,t,r){this.Or.Ar(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),V.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),V.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Or.mr(t);return V.resolve(r)}containsKey(e,t){return V.resolve(this.Or.containsKey(t))}}class tS{constructor(e,t){this.Br={},this.overlays={},this.Lr=new Ji(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new qX(this),this.indexManager=new xX,this.remoteDocumentCache=new HX(r=>this.referenceDelegate.Qr(r)),this.serializer=new A2(t),this.Kr=new UX(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $X,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new jX(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,r){le("MemoryPersistence","Starting transaction:",e);const i=new GX(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,t){return V.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,t)))}}class GX extends aL{constructor(e){super(),this.currentSequenceNumber=e}}class ow{constructor(e){this.persistence=e,this.Gr=new eS,this.zr=null}static jr(e){return new ow(e)}get Hr(){if(this.zr)return this.zr;throw Ae()}addReference(e,t,r){return this.Gr.addReference(r,t),this.Hr.delete(r.toString()),V.resolve()}removeReference(e,t,r){return this.Gr.removeReference(r,t),this.Hr.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),V.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Hr,r=>{const i=ge.fromPath(r);return this.Jr(e,i).next(s=>{s||t.removeEntry(i,Le.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(r=>{r?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return V.or([()=>V.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class WX{constructor(e){this.serializer=e}N(e,t,r,i){const s=new VE("createOrUpgrade",t);var l;r<1&&i>=1&&(e.createObjectStore("owner"),(l=e).createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",dL,{unique:!0}),l.createObjectStore("documentMutations"),rB(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=V.resolve();return r<3&&i>=3&&(0!==r&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),rB(e)),o=o.next(()=>function(l){const d=l.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Le.min().toTimestamp(),targetCount:0};return d.put("targetGlobalKey",h)}(s))),r<4&&i>=4&&(0!==r&&(o=o.next(()=>function(l,d){return d.store("mutations").W().next(h=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",dL,{unique:!0});const m=d.store("mutations"),g=h.map(y=>m.put(y));return V.waitFor(g)})}(e,s))),o=o.next(()=>{!function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(o=o.next(()=>this.Zr(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(s)))),r<7&&i>=7&&(o=o.next(()=>this.ei(s))),r<8&&i>=8&&(o=o.next(()=>this.ti(e,s))),r<9&&i>=9&&(o=o.next(()=>{!function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(o=o.next(()=>this.ni(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{!function(l){const d=l.createObjectStore("documentOverlays",{keyPath:PY});d.createIndex("collectionPathOverlayIndex",NY,{unique:!1}),d.createIndex("collectionGroupOverlayIndex",kY,{unique:!1})}(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const d=l.createObjectStore("remoteDocumentsV14",{keyPath:wY});d.createIndex("documentKeyIndex",IY),d.createIndex("collectionGroupIndex",bY)}(e)).next(()=>this.ri(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ii(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:AY}).createIndex("sequenceNumberIndex",RY,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:MY}).createIndex("documentKeyIndex",xY,{unique:!1})}(e))),o}Xr(e){let t=0;return e.store("remoteDocuments").Y((r,i)=>{t+=rw(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>V.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>V.forEach(a,l=>{Ve(l.userId===s.userId);const d=ou(this.serializer,l);return z2(e,s.userId,d).next(()=>{})}))}))}ei(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Y((o,a)=>{const l=new Rt(o),d=[0,ai(l)];s.push(t.get(d).next(h=>h?V.resolve():t.put({targetId:0,path:ai(l),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>V.waitFor(s))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:SY});const r=t.store("collectionParents"),i=new JT,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:ai(l)})}};return t.store("remoteDocuments").Y({J:!0},(o,a)=>{const l=new Rt(o);return s(l.popLast())}).next(()=>t.store("documentMutations").Y({J:!0},([o,a,l],d)=>{const h=Do(a);return s(h.popLast())}))}ni(e){const t=e.store("targets");return t.Y((r,i)=>{const s=bg(i),o=M2(this.serializer,s);return t.put(o)})}ri(e,t){const r=t.store("remoteDocuments"),i=[];return r.Y((s,o)=>{const a=t.store("remoteDocumentsV14"),l=(m=o,m.document?new ge(Rt.fromString(m.document.name).popFirst(5)):m.noDocument?ge.fromSegments(m.noDocument.path):m.unknownDocument?ge.fromSegments(m.unknownDocument.path):Ae()).path.toArray(),d={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};var m;i.push(a.put(d))}).next(()=>V.waitFor(i))}ii(e,t){const r=t.store("mutations"),i=X2(this.serializer),s=new tS(ow.jr,this.serializer.ut);return r.W().next(o=>{const a=new Map;return o.forEach(l=>{var d;let h=null!==(d=a.get(l.userId))&&void 0!==d?d:lt();ou(this.serializer,l).keys().forEach(m=>h=h.add(m)),a.set(l.userId,h)}),V.forEach(a,(l,d)=>{const h=new Ar(d),m=ew.ct(this.serializer,h),g=s.getIndexManager(h),y=iw.ct(h,this.serializer,g,s.referenceDelegate);return new nB(i,y,m,g).recalculateAndSaveOverlaysForDocumentKeys(new ST(t,Ji._e),l).next()})})}}function rB(n){n.createObjectStore("targetDocuments",{keyPath:DY}).createIndex("documentTargetsIndex",TY,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",CY,{unique:!0}),n.createObjectStore("targetGlobal")}const nS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class rS{constructor(e,t,r,i,s,o,a,l,d,h,m=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.si=s,this.window=o,this.document=a,this.oi=d,this._i=h,this.ai=m,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=g=>Promise.resolve(),!rS.D())throw new re($.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new FX(this,i),this.Ii=t+"main",this.serializer=new A2(l),this.Ti=new js(this.Ii,this.ai,new WX(this.serializer)),this.qr=new NX(this.referenceDelegate,this.serializer),this.remoteDocumentCache=X2(this.serializer),this.Kr=new DX,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===h&&Gn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new re($.FAILED_PRECONDITION,nS);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new Ji(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var t=this;return this.Pi=function(){var r=(0,J.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var t=(0,J.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,J.Z)(function*(){t.started&&(yield t.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>lw(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(t=>this.isPrimary&&!t?this.pi(e).next(()=>!1):!!t&&this.yi(e).next(()=>!0))).catch(e=>{if(xl(e))return le("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return Ag(e).get("owner").next(t=>V.resolve(this.wi(t)))}Si(e){return lw(e).delete(this.clientId)}bi(){var e=this;return(0,J.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Rr(r,"clientMetadata");return i.W().next(s=>{const o=e.Ci(s,18e5),a=s.filter(l=>-1===o.indexOf(l));return V.forEach(a,l=>i.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Ei)for(const r of t)e.Ei.removeItem(e.vi(r.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?V.resolve(!0):Ag(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new re($.FAILED_PRECONDITION,nS);return!1}}return!(!this.networkEnabled||!this.inForeground)||lw(e).W().next(r=>void 0===this.Ci(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&le("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,J.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new ST(t,Ji._e);return e.pi(r).next(()=>e.Si(r))}),e.Ti.close(),e.Ni()})()}Ci(e,t){return e.filter(r=>this.Di(r.updateTimeMs,t)&&!this.Fi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>lw(e).W().next(t=>this.Ci(t,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,t){return iw.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new PX(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return ew.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,r){le("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",s=15===(l=this.ai)?FY:14===l?mL:13===l?pL:12===l?OY:11===l?fL:void Ae();var l;let o;return this.Ti.runTransaction(e,i,s,a=>(o=new ST(a,this.Lr?this.Lr.next():Ji._e),"readwrite-primary"===t?this.fi(o).next(l=>!!l||this.gi(o)).next(l=>{if(!l)throw Gn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new re($.FAILED_PRECONDITION,oL);return r(o)}).next(l=>this.yi(o).next(()=>l)):this.Li(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Li(e){return Ag(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)&&!this.wi(t)&&!(this._i||this.allowTabSynchronization&&t.allowTabSynchronization))throw new re($.FAILED_PRECONDITION,nS)})}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ag(e).put("owner",t)}static D(){return js.D()}pi(e){const t=Ag(e);return t.get("owner").next(r=>this.wi(r)?(le("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):V.resolve())}Di(e,t){const r=Date.now();return!(e<r-t||e>r&&(Gn(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const t=/(?:Version|Mobile)\/1[456]/;(0,Yt.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const r=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return le("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Gn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Gn("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ag(n){return Rr(n,"owner")}function lw(n){return Rr(n,"clientMetadata")}function iS(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class sS{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ki=r,this.qi=i}static Qi(e,t){let r=lt(),i=lt();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new sS(e,t.fromCache,r,i)}}class KX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class iB{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.zi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new KX;return this.Hi(e,t,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,t,o,a.size)})}).next(()=>s.result)}Ji(e,t,r,i){return r.documentReadCount<this.Ui?(vh()<=wo.in.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Ah(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),V.resolve()):(vh()<=wo.in.DEBUG&&le("QueryEngine","Query:",Ah(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(vh()<=wo.in.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Ah(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bi(t))):V.resolve())}zi(e,t){if(BL(t))return V.resolve(null);let r=bi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=WE(t,null,"F"),r=bi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=lt(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const d=this.Yi(t,a);return this.Zi(t,d,o,l.readTime)?this.zi(e,WE(t,null,"F")):this.Xi(e,d,t,l)}))})))}ji(e,t,r,i){return BL(t)||i.isEqual(Le.min())?V.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(t,s);return this.Zi(t,o,r,i)?V.resolve(null):(vh()<=wo.in.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ah(t)),this.Xi(e,o,t,iL(i,-1)).next(a=>a))})}Yi(e,t){let r=new qt(HL(e));return t.forEach((i,s)=>{hg(e,s)&&(r=r.add(s))}),r}Zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,t,r){return vh()<=wo.in.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Ah(t)),this.Gi.getDocumentsMatchingQuery(e,t,Xi.min(),r)}Xi(e,t,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class ZX{constructor(e,t,r,i){this.persistence=e,this.es=t,this.serializer=i,this.ts=new an(Ze),this.ns=new Ia(s=>tu(s),ug),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nB(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function sB(n,e,t,r){return new ZX(n,e,t,r)}function oB(n,e){return oS.apply(this,arguments)}function oS(){return oS=(0,J.Z)(function*(n,e){const t=fe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.os(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=lt();for(const d of i){o.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}for(const d of s){a.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}return t.localDocuments.getDocuments(r,l).next(d=>({_s:d,removedBatchIds:o,addedBatchIds:a}))})})}),oS.apply(this,arguments)}function aB(n){const e=fe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function lB(n,e,t){let r=lt(),i=lt();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Vi();return t.forEach((a,l)=>{const d=s.get(a);l.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Le.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||0===l.version.compareTo(d.version)&&d.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):le("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",l.version)}),{us:o,cs:i}})}function XX(n,e){const t=fe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Bh(n,e){const t=fe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.qr.getTargetData(r,e).next(s=>s?(i=s,V.resolve(i)):t.qr.allocateTargetId(r).next(o=>(i=new Ca(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ts=t.ts.insert(r.targetId,r),t.ns.set(e,r.targetId)),r})}function Uh(n,e,t){return aS.apply(this,arguments)}function aS(){return aS=(0,J.Z)(function*(n,e,t){const r=fe(n),i=r.ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!xl(o))throw o;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),aS.apply(this,arguments)}function cw(n,e,t){const r=fe(n);let i=Le.min(),s=lt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,d,h){const m=fe(l),g=m.ns.get(h);return void 0!==g?V.resolve(m.ts.get(g)):m.qr.getTargetData(d,h)}(r,o,bi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,t?i:Le.min(),t?s:lt())).next(a=>(dB(r,jL(e),a),{documents:a,ls:s})))}function cB(n,e){const t=fe(n),r=fe(t.qr),i=t.ts.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r._t(s,e).next(o=>o?o.target:null))}function uB(n,e){const t=fe(n),r=t.rs.get(e)||Le.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ss.getAllFromCollectionGroup(i,e,iL(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(dB(t,e,i),i))}function dB(n,e,t){let r=n.rs.get(e)||Le.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.rs.set(e,r)}function lS(){return lS=(0,J.Z)(function*(n,e,t,r){const i=fe(n);let s=lt(),o=Vi();for(const d of t){const h=e.hs(d.metadata.name);d.document&&(s=s.add(h));const m=e.Ps(d);m.setReadTime(e.Is(d.metadata.readTime)),o=o.insert(h,m)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),l=yield Bh(i,(h=r,bi(Th(Rt.fromString(`__bundle__/docs/${h}`)))));var h;return i.persistence.runTransaction("Apply bundle documents","readwrite",d=>lB(d,a,o).next(h=>(a.apply(d),h)).next(h=>i.qr.removeMatchingKeysForTargetId(d,l.targetId).next(()=>i.qr.addMatchingKeys(d,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(d,h.us,h.cs)).next(()=>h.us)))}),lS.apply(this,arguments)}function eJ(n,e){return cS.apply(this,arguments)}function cS(){return cS=(0,J.Z)(function*(n,e,t=lt()){const r=yield Bh(n,bi(WT(e.bundledQuery))),i=fe(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=Wn(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Kr.saveNamedQuery(s,e);const a=r.withResumeToken(yr.EMPTY_BYTE_STRING,o);return i.ts=i.ts.insert(a.targetId,a),i.qr.updateTargetData(s,a).next(()=>i.qr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.qr.addMatchingKeys(s,t,r.targetId)).next(()=>i.Kr.saveNamedQuery(s,e))})}),cS.apply(this,arguments)}function hB(n,e){return`firestore_clients_${n}_${e}`}function fB(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function uS(n,e){return`firestore_targets_${n}_${e}`}class uw{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ts(e,t,r){const i=JSON.parse(r);let s,o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(s=new re(i.error.code,i.error.message))),o?new uw(e,t,i.state,s):(Gn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Rg{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ts(e,t){const r=JSON.parse(t);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new re(r.error.code,r.error.message))),s?new Rg(e,r.state,i):(Gn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class dw{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=FT();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=cL(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new dw(e,s):(Gn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class dS{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new dS(t.clientId,t.onlineState):(Gn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class hS{constructor(){this.activeTargetIds=FT()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fS{constructor(e,t,r,i,s){this.window=e,this.si=t,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new an(Ze),this.started=!1,this.ps=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ys=hB(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new hS),this.Ss=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,J.Z)(function*(){const t=yield e.syncEngine.Bi();for(const i of t){if(i===e.Rs)continue;const s=e.getItem(hB(e.persistenceKey,i));if(s){const o=dw.Ts(i,s);o&&(e.gs=e.gs.insert(o.clientId,o))}}e.Fs();const r=e.storage.getItem(e.Cs);if(r){const i=e.Ms(r);i&&e.xs(i)}for(const i of e.ps)e.fs(i);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,r){this.Ns(e,t,r),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(uS(this.persistenceKey,e));if(r){const i=Rg.Ts(e,r);i&&(t=i.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(uS(this.persistenceKey,e))}updateQueryState(e,t,r){this.ks(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return le("SharedClientState","READ",e,t),t}setItem(e,t){le("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){le("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var t=this;const r=e;if(r.storageArea===this.storage){if(le("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ys)return void Gn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,J.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ss.test(r.key)){if(null==r.newValue){const i=t.Ks(r.key);return t.$s(i,null)}{const i=t.Us(r.key,r.newValue);if(i)return t.$s(i.clientId,i)}}else if(t.bs.test(r.key)){if(null!==r.newValue){const i=t.Ws(r.key,r.newValue);if(i)return t.Gs(i)}}else if(t.Ds.test(r.key)){if(null!==r.newValue){const i=t.zs(r.key,r.newValue);if(i)return t.js(i)}}else if(r.key===t.Cs){if(null!==r.newValue){const i=t.Ms(r.newValue);if(i)return t.xs(i)}}else if(r.key===t.ws){const i=function(o){let a=Ji._e;if(null!=o)try{const l=JSON.parse(o);Ve("number"==typeof l),a=l}catch(l){Gn("SharedClientState","Failed to read sequence number from WebStorage",l)}return a}(r.newValue);i!==Ji._e&&t.sequenceNumberHandler(i)}else if(r.key===t.vs){const i=t.Hs(r.newValue);yield Promise.all(i.map(s=>t.syncEngine.Js(s)))}}else t.ps.push(r)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,r){const i=new uw(this.currentUser,e,t,r),s=fB(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Es())}Bs(e){const t=fB(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,t,r){const i=uS(this.persistenceKey,e),s=new Rg(e,t,r);this.setItem(i,s.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const r=this.Ks(e);return dw.Ts(r,t)}Ws(e,t){const r=this.bs.exec(e),i=Number(r[1]);return uw.Ts(new Ar(void 0!==r[2]?r[2]:null),i,t)}zs(e,t){const r=this.Ds.exec(e),i=Number(r[1]);return Rg.Ts(i,t)}Ms(e){return dS.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var t=this;return(0,J.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Ys(e.batchId,e.state,e.error);le("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const r=t?this.gs.insert(e,t):this.gs.remove(e),i=this.Os(this.gs),s=this.Os(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.Xs(o,a).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=FT();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class pB{constructor(){this.eo=new hS,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,r){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new hS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class tJ{ro(e){}shutdown(){}}class mB{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let hw=null;function pS(){return null===hw?hw=268435456+Math.round(2147483648*Math.random()):hw++,"0x"+hw.toString(16)}const nJ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rJ{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const ci="WebChannelConnection";class iJ extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+t.host,this.fo=`projects/${i}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(t,r,i,s,o){const a=pS(),l=this.So(t,r);le("RestConnection",`Sending RPC '${t}' ${a}:`,l,i);const d={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(d,s,o),this.Do(t,l,d,i).then(h=>(le("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw Oi("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}Co(t,r,i,s,o,a){return this.wo(t,r,i,s,o)}bo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+yh,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}So(t,r){return`${this.mo}/v1/${r}:${nJ[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,r,i){const s=pS();return new Promise((o,a)=>{const l=new tY;l.setWithCredentials(!0),l.listenOnce(JQ.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case wT.NO_ERROR:const h=l.getResponseJson();le(ci,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case wT.TIMEOUT:le(ci,`RPC '${e}' ${s} timed out`),a(new re($.DEADLINE_EXCEEDED,"Request time out"));break;case wT.HTTP_ERROR:const m=l.getStatus();if(le(ci,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const y=g?.error;if(y&&y.status&&y.message){const E=function(C){const k=C.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(k)>=0?k:$.UNKNOWN}(y.status);a(new re(E,y.message))}else a(new re($.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new re($.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{le(ci,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);le(ci,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",d,r,15)})}vo(e,t,r){const i=pS(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=YQ(),a=XQ(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;void 0!==d&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const h=s.join("");le(ci,`Creating RPC '${e}' stream ${i}: ${h}`,l);const m=o.createWebChannel(h,l);let g=!1,y=!1;const E=new rJ({co:C=>{y?le(ci,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(g||(le(ci,`Opening RPC '${e}' stream ${i} transport.`),m.open(),g=!0),le(ci,`RPC '${e}' stream ${i} sending:`,C),m.send(C))},lo:()=>m.close()}),b=(C,k,B)=>{C.listen(k,P=>{try{B(P)}catch(X){setTimeout(()=>{throw X},0)}})};return b(m,FE.EventType.OPEN,()=>{y||le(ci,`RPC '${e}' stream ${i} transport opened.`)}),b(m,FE.EventType.CLOSE,()=>{y||(y=!0,le(ci,`RPC '${e}' stream ${i} transport closed`),E.Ro())}),b(m,FE.EventType.ERROR,C=>{y||(y=!0,Oi(ci,`RPC '${e}' stream ${i} transport errored:`,C),E.Ro(new re($.UNAVAILABLE,"The operation could not be completed")))}),b(m,FE.EventType.MESSAGE,C=>{var k;if(!y){const B=C.data[0];Ve(!!B);const X=B.error||(null===(k=B[0])||void 0===k?void 0:k.error);if(X){le(ci,`RPC '${e}' stream ${i} received error:`,X);const pe=X.status;let ke=function(Hs){const ws=or[Hs];if(void 0!==ws)return l2(ws)}(pe),vt=X.message;void 0===ke&&(ke=$.INTERNAL,vt="Unknown error status: "+pe+" with message "+X.message),y=!0,E.Ro(new re(ke,vt)),m.close()}else le(ci,`RPC '${e}' stream ${i} received:`,B),E.Vo(B)}}),b(a,eY.STAT_EVENT,C=>{C.stat===XV.PROXY?le(ci,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===XV.NOPROXY&&le(ci,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.Ao()},0),E}}function gB(){return typeof window<"u"?window:null}function fw(){return typeof document<"u"?document:null}function Mg(n){return new pX(n,!0)}class mS{constructor(e,t,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=t,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,t-r);i>0&&le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class _B{constructor(e,t,r,i,s,o,a,l){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new mS(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,J.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,J.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var r=this;return(0,J.Z)(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():t&&t.code===$.RESOURCE_EXHAUSTED?(Gn(t.toString()),Gn("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):t&&t.code===$.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===t&&this.s_(r,i)},r=>{e(()=>{const i=new re($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,t){const r=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko((0,J.Z)(function*(){e.state=0,e.start()}))}o_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sJ extends _B{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function _X(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(d=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===d?1:"REMOVE"===d?2:"CURRENT"===d?3:"RESET"===d?4:Ae(),i=e.targetChange.targetIds||[],s=function(d,h){return d.useProto3Json?(Ve(void 0===h||"string"==typeof h),yr.fromBase64String(h||"")):(Ve(void 0===h||h instanceof Uint8Array),yr.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=void 0===d.code?$.UNKNOWN:l2(d.code);return new re(h,d.message||"")}(o);t=new f2(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Ao(n,r.document.name),s=Wn(r.document.updateTime),o=r.document.createTime?Wn(r.document.createTime):Le.min(),a=new zr({mapValue:{fields:r.document.fields}}),l=yn.newFoundDocument(i,s,o,a);t=new XE(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const r=e.documentDelete,i=Ao(n,r.document),s=r.readTime?Wn(r.readTime):Le.min(),o=yn.newNoDocument(i,s);t=new XE([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Ao(n,r.document);t=new XE([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Ae();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new lX(i,s);t=new h2(r.targetId,o)}}var d;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return Le.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Le.min():o.readTime?Wn(o.readTime):Le.min()}(e);return this.listener.a_(t,r)}u_(e){const t={};t.database=wg(this.serializer),t.addTarget=function(s,o){let a;const l=o.target;if(a=qE(l)?{documents:b2(s,l)}:{query:GT(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=_2(s,o.resumeToken);const d=jT(s,o.expectedCount);null!==d&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(Le.min())>0){a.readTime=Nh(s,o.snapshotVersion.toTimestamp());const d=jT(s,o.expectedCount);null!==d&&(a.expectedCount=d)}return a}(this.serializer,e);const r=function vX(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.e_(t)}c_(e){const t={};t.database=wg(this.serializer),t.removeTarget=e,this.e_(t)}}class oJ extends _B{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(Ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function yX(n,e){return n&&n.length>0?(Ve(void 0!==e),n.map(t=>function(i,s){let o=Wn(i.updateTime?i.updateTime:s);return o.isEqual(Le.min())&&(o=Wn(s)),new iX(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Wn(e.commitTime);return this.listener.I_(r,t)}return Ve(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=wg(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Ig(this.serializer,r))};this.e_(t)}}class aJ extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new re($.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new re($.UNKNOWN,i.toString())})}Co(e,t,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new re($.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class cJ{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Gn(t),this.f_=!1):le("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class uJ{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{r.enqueueAndForget((0,J.Z)(function*(){var l;Hl(o)&&(le("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,J.Z)(function*(h){const m=fe(h);m.C_.add(4),yield $h(m),m.M_.set("Unknown"),m.C_.delete(4),yield xg(m)}),function d(h){return l.apply(this,arguments)})(o))}))}),this.M_=new cJ(r,i)}}function xg(n){return _S.apply(this,arguments)}function _S(){return _S=(0,J.Z)(function*(n){if(Hl(n))for(const e of n.v_)yield e(!0)}),_S.apply(this,arguments)}function $h(n){return yS.apply(this,arguments)}function yS(){return yS=(0,J.Z)(function*(n){for(const e of n.v_)yield e(!1)}),yS.apply(this,arguments)}function pw(n,e){const t=fe(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),wS(t)?ES(t):Hh(t).Ho()&&vS(t,e))}function Pg(n,e){const t=fe(n),r=Hh(t);t.D_.delete(e),r.Ho()&&yB(t,e),0===t.D_.size&&(r.Ho()?r.Zo():Hl(t)&&t.M_.set("Unknown"))}function vS(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Hh(n).u_(e)}function yB(n,e){n.x_.Oe(e),Hh(n).c_(e)}function ES(n){n.x_=new uX({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Hh(n).start(),n.M_.g_()}function wS(n){return Hl(n)&&!Hh(n).jo()&&n.D_.size>0}function Hl(n){return 0===fe(n).C_.size}function vB(n){n.x_=void 0}function dJ(n){return IS.apply(this,arguments)}function IS(){return IS=(0,J.Z)(function*(n){n.D_.forEach((e,t)=>{vS(n,e)})}),IS.apply(this,arguments)}function hJ(n,e){return bS.apply(this,arguments)}function bS(){return bS=(0,J.Z)(function*(n,e){vB(n),wS(n)?(n.M_.w_(e),ES(n)):n.M_.set("Unknown")}),bS.apply(this,arguments)}function fJ(n,e,t){return CS.apply(this,arguments)}function CS(){return CS=(0,J.Z)(function*(n,e,t){if(n.M_.set("Online"),e instanceof f2&&2===e.state&&e.cause)try{yield(r=(0,J.Z)(function*(s,o){const a=o.cause;for(const l of o.targetIds)s.D_.has(l)&&(yield s.remoteSyncer.rejectListen(l,a),s.D_.delete(l),s.x_.removeTarget(l))}),function i(s,o){return r.apply(this,arguments)})(n,e)}catch(r){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield mw(n,r)}else if(e instanceof XE?n.x_.$e(e):e instanceof h2?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(Le.min()))try{const r=yield aB(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.D_.get(d);h&&s.D_.set(d,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,d)=>{const h=s.D_.get(l);if(!h)return;s.D_.set(l,h.withResumeToken(yr.EMPTY_BYTE_STRING,h.snapshotVersion)),yB(s,l);const m=new Ca(h.target,l,d,h.sequenceNumber);vS(s,m)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){le("RemoteStore","Failed to raise snapshot:",r),yield mw(n,r)}var r}),CS.apply(this,arguments)}function mw(n,e,t){return DS.apply(this,arguments)}function DS(){return DS=(0,J.Z)(function*(n,e,t){if(!xl(e))throw e;n.C_.add(1),yield $h(n),n.M_.set("Offline"),t||(t=()=>aB(n.localStore)),n.asyncQueue.enqueueRetryable((0,J.Z)(function*(){le("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield xg(n)}))}),DS.apply(this,arguments)}function EB(n,e){return e().catch(t=>mw(n,t,e))}function jh(n){return TS.apply(this,arguments)}function TS(){return TS=(0,J.Z)(function*(n){const e=fe(n),t=zl(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;pJ(e);)try{const i=yield XX(e.localStore,r);if(null===i){0===e.b_.length&&t.Zo();break}r=i.batchId,mJ(e,i)}catch(i){yield mw(e,i)}wB(e)&&IB(e)}),TS.apply(this,arguments)}function pJ(n){return Hl(n)&&n.b_.length<10}function mJ(n,e){n.b_.push(e);const t=zl(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function wB(n){return Hl(n)&&!zl(n).jo()&&n.b_.length>0}function IB(n){zl(n).start()}function gJ(n){return SS.apply(this,arguments)}function SS(){return SS=(0,J.Z)(function*(n){zl(n).E_()}),SS.apply(this,arguments)}function _J(n){return AS.apply(this,arguments)}function AS(){return AS=(0,J.Z)(function*(n){const e=zl(n);for(const t of n.b_)e.P_(t.mutations)}),AS.apply(this,arguments)}function yJ(n,e,t){return RS.apply(this,arguments)}function RS(){return RS=(0,J.Z)(function*(n,e,t){const r=n.b_.shift(),i=BT.from(r,e,t);yield EB(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield jh(n)}),RS.apply(this,arguments)}function vJ(n,e){return MS.apply(this,arguments)}function MS(){return MS=(0,J.Z)(function*(n,e){var t;e&&zl(n).h_&&(yield(t=(0,J.Z)(function*(i,s){if(a2(a=s.code)&&a!==$.ABORTED){const o=i.b_.shift();zl(i).Yo(),yield EB(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield jh(i)}var a}),function r(i,s){return t.apply(this,arguments)})(n,e)),wB(n)&&IB(n)}),MS.apply(this,arguments)}function bB(n,e){return xS.apply(this,arguments)}function xS(){return xS=(0,J.Z)(function*(n,e){const t=fe(n);t.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const r=Hl(t);t.C_.add(3),yield $h(t),r&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield xg(t)}),xS.apply(this,arguments)}function PS(n,e){return NS.apply(this,arguments)}function NS(){return NS=(0,J.Z)(function*(n,e){const t=fe(n);e?(t.C_.delete(2),yield xg(t)):e||(t.C_.add(2),yield $h(t),t.M_.set("Unknown"))}),NS.apply(this,arguments)}function Hh(n){return n.O_||(n.O_=function(t,r,i){const s=fe(t);return s.A_(),new sJ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{ho:dJ.bind(null,n),Io:hJ.bind(null,n),a_:fJ.bind(null,n)}),n.v_.push(function(){var e=(0,J.Z)(function*(t){t?(n.O_.Yo(),wS(n)?ES(n):n.M_.set("Unknown")):(yield n.O_.stop(),vB(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function zl(n){return n.N_||(n.N_=function(t,r,i){const s=fe(t);return s.A_(),new oJ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{ho:gJ.bind(null,n),Io:vJ.bind(null,n),T_:_J.bind(null,n),I_:yJ.bind(null,n)}),n.v_.push(function(){var e=(0,J.Z)(function*(t){t?(n.N_.Yo(),yield jh(n)):(yield n.N_.stop(),n.b_.length>0&&(le("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class kS{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new kS(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new re($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zh(n,e){if(Gn("AsyncQueue",`${e}: ${n}`),xl(n))return new re($.UNAVAILABLE,`${e}: ${n}`);throw n}class qh{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ge.comparator(t.key,r.key):(t,r)=>ge.comparator(t.key,r.key),this.keyedMap=fg(),this.sortedSet=new an(this.comparator)}static emptySet(e){return new qh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof qh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new qh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class CB{constructor(){this.B_=new an(ge.comparator)}track(e){const t=e.doc.key,r=this.B_.get(t);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(t):1===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Ae():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Gh{constructor(e,t,r,i,s,o,a,l,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Gh(e,t,qh.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class EJ{constructor(){this.k_=void 0,this.listeners=[]}}class wJ{constructor(){this.queries=new Ia(e=>$L(e),dg),this.onlineState="Unknown",this.q_=new Set}}function OS(n,e){return FS.apply(this,arguments)}function FS(){return FS=(0,J.Z)(function*(n,e){const t=fe(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new EJ),i)try{s.k_=yield t.onListen(r)}catch(o){const a=zh(o,`Initialization of query '${Ah(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Q_(t.onlineState),s.k_&&e.K_(s.k_)&&BS(t)}),FS.apply(this,arguments)}function VS(n,e){return LS.apply(this,arguments)}function LS(){return LS=(0,J.Z)(function*(n,e){const t=fe(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),LS.apply(this,arguments)}function IJ(n,e){const t=fe(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&BS(t)}function bJ(n,e,t){const r=fe(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function BS(n){n.q_.forEach(e=>{e.next()})}class US{constructor(e,t,r){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Gh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Gh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class CJ{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class DB{constructor(e){this.serializer=e}hs(e){return Ao(this.serializer,e)}Ps(e){return e.metadata.exists?I2(this.serializer,e.document,!1):yn.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return Wn(e)}}class DJ{constructor(e,t,r){this.X_=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=TB(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const r=Rt.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,r=new DB(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.hs(i.metadata.name);for(const o of i.metadata.queries){const a=(t.get(o)||lt()).add(s);t.set(o,a)}}return t}complete(){var e=this;return(0,J.Z)(function*(){const t=yield function JX(n,e,t,r){return lS.apply(this,arguments)}(e.localStore,new DB(e.serializer),e.documents,e.X_.id),r=e.ta(e.documents);for(const i of e.queries)yield eJ(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:t}})()}}function TB(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class SB{constructor(e){this.key=e}}class AB{constructor(e){this.key=e}}class RB{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=lt(),this.mutatedKeys=lt(),this._a=HL(e),this.aa=new qh(this._a)}get ua(){return this.ia}ca(e,t){const r=t?t.la:new CB,i=t?t.aa:this.aa;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,d="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,m)=>{const g=i.get(h),y=hg(this.query,m)?m:null,E=!!g&&this.mutatedKeys.has(g.key),b=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let C=!1;g&&y?g.data.isEqual(y.data)?E!==b&&(r.track({type:3,doc:y}),C=!0):this.ha(g,y)||(r.track({type:2,doc:y}),C=!0,(l&&this._a(y,l)>0||d&&this._a(y,d)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),C=!0):g&&!y&&(r.track({type:1,doc:g}),C=!0,(l||d)&&(a=!0)),C&&(y?(o=o.add(y),s=b?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const h="F"===this.query.limitType?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((h,m)=>function(y,E){const b=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return b(y)-b(E)}(h.type,m.type)||this._a(h.doc,m.doc)),this.Pa(r),i=null!=i&&i;const a=t&&!i?this.Ia():[],l=0===this.oa.size&&this.current&&!i?1:0,d=l!==this.sa;return this.sa=l,0!==o.length||d?{snapshot:new Gh(this.query,e.aa,s,o,e.mutatedKeys,0===l,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new CB,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=lt(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const t=[];return e.forEach(r=>{this.oa.has(r)||t.push(new AB(r))}),this.oa.forEach(r=>{e.has(r)||t.push(new SB(r))}),t}da(e){this.ia=e.ls,this.oa=lt();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return Gh.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class TJ{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class SJ{constructor(e){this.key=e,this.Ra=!1}}class AJ{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Ia(a=>$L(a),dg),this.fa=new Map,this.ga=new Set,this.pa=new an(ge.comparator),this.ya=new Map,this.wa=new eS,this.Sa={},this.ba=new Map,this.Da=cu.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function RJ(n,e){return $S.apply(this,arguments)}function $S(){return $S=(0,J.Z)(function*(n,e){const t=uA(n);let r,i;const s=t.ma.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=yield Bh(t.localStore,bi(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield jS(t,e,r,"current"===a,o.resumeToken),t.isPrimaryClient&&pw(t.remoteStore,o)}return i}),$S.apply(this,arguments)}function jS(n,e,t,r,i){return HS.apply(this,arguments)}function HS(){return HS=(0,J.Z)(function*(n,e,t,r,i){n.va=(m,g,y)=>{return(E=(0,J.Z)(function*(C,k,B,P){let X=k.view.ca(B);X.Zi&&(X=yield cw(C.localStore,k.query,!1).then(({documents:Bn})=>k.view.ca(Bn,X)));const pe=P&&P.targetChanges.get(k.targetId),ke=P&&null!=P.targetMismatches.get(k.targetId),vt=k.view.applyChanges(X,C.isPrimaryClient,pe,ke);return JS(C,k.targetId,vt.Ta),vt.snapshot}),function b(C,k,B,P){return E.apply(this,arguments)})(n,m,g,y);var E};const s=yield cw(n.localStore,e,!0),o=new RB(e,s.ls),a=o.ca(s.documents),l=vg.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),d=o.applyChanges(a,n.isPrimaryClient,l);JS(n,t,d.Ta);const h=new TJ(e,t,o);return n.ma.set(e,h),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),d.snapshot}),HS.apply(this,arguments)}function MJ(n,e){return zS.apply(this,arguments)}function zS(){return zS=(0,J.Z)(function*(n,e){const t=fe(n),r=t.ma.get(e),i=t.fa.get(r.targetId);if(i.length>1)return t.fa.set(r.targetId,i.filter(s=>!dg(s,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Uh(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Pg(t.remoteStore,r.targetId),Wh(t,r.targetId)}).catch(Ml))):(Wh(t,r.targetId),yield Uh(t.localStore,r.targetId,!0))}),zS.apply(this,arguments)}function qS(){return qS=(0,J.Z)(function*(n,e,t){const r=dA(n);try{const i=yield function(o,a){const l=fe(o),d=In.now(),h=a.reduce((y,E)=>y.add(E.key),lt());let m,g;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let E=Vi(),b=lt();return l.ss.getEntries(y,h).next(C=>{E=C,E.forEach((k,B)=>{B.isValidDocument()||(b=b.add(k))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,E)).next(C=>{m=C;const k=[];for(const B of a){const P=oX(B,m.get(B.key).overlayedDocument);null!=P&&k.push(new ba(B.key,P,TL(P.value.mapValue),bn.exists(!0)))}return l.mutationQueue.addMutationBatch(y,d,k,a)}).next(C=>{g=C;const k=C.applyToLocalDocumentSet(m,b);return l.documentOverlayCache.saveOverlays(y,C.batchId,k)})}).then(()=>({batchId:g.batchId,changes:qL(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let d=o.Sa[o.currentUser.toKey()];d||(d=new an(Ze)),d=d.insert(a,l),o.Sa[o.currentUser.toKey()]=d}(r,i.batchId,t),yield Da(r,i.changes),yield jh(r.remoteStore)}catch(i){const s=zh(i,"Failed to persist write");t.reject(s)}}),qS.apply(this,arguments)}function MB(n,e){return GS.apply(this,arguments)}function GS(){return GS=(0,J.Z)(function*(n,e){const t=fe(n);try{const r=yield function YX(n,e){const t=fe(n),r=e.snapshotVersion;let i=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.ss.newChangeBuffer({trackRemovals:!0});i=t.ts;const a=[];e.targetChanges.forEach((h,m)=>{const g=i.get(m);if(!g)return;a.push(t.qr.removeMatchingKeys(s,h.removedDocuments,m).next(()=>t.qr.addMatchingKeys(s,h.addedDocuments,m)));let y=g.withSequenceNumber(s.currentSequenceNumber);var b,C,k;null!==e.targetMismatches.get(m)?y=y.withResumeToken(yr.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(m,y),C=y,k=h,(0===(b=g).resumeToken.approximateByteSize()||C.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8||k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0)&&a.push(t.qr.updateTargetData(s,y))});let l=Vi(),d=lt();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(lB(s,o,e.documentUpdates).next(h=>{l=h.us,d=h.cs})),!r.isEqual(Le.min())){const h=t.qr.getLastRemoteSnapshotVersion(s).next(m=>t.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return V.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,d)).next(()=>l)}).then(s=>(t.ts=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.ya.get(s);o&&(Ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?Ve(o.Ra):i.removedDocuments.size>0&&(Ve(o.Ra),o.Ra=!1))}),yield Da(t,r,e)}catch(r){yield Ml(r)}}),GS.apply(this,arguments)}function xB(n,e,t){const r=fe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=fe(o);l.onlineState=a;let d=!1;l.queries.forEach((h,m)=>{for(const g of m.listeners)g.Q_(a)&&(d=!0)}),d&&BS(l)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function PJ(n,e,t){return WS.apply(this,arguments)}function WS(){return WS=(0,J.Z)(function*(n,e,t){const r=fe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new an(ge.comparator);o=o.insert(s,yn.newNoDocument(s,Le.min()));const a=lt().add(s),l=new yg(Le.min(),new Map,new an(Ze),o,a);yield MB(r,l),r.pa=r.pa.remove(s),r.ya.delete(e),eA(r)}else yield Uh(r.localStore,e,!1).then(()=>Wh(r,e,t)).catch(Ml)}),WS.apply(this,arguments)}function NJ(n,e){return KS.apply(this,arguments)}function KS(){return KS=(0,J.Z)(function*(n,e){const t=fe(n),r=e.batch.batchId;try{const i=yield function QX(n,e){const t=fe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,d,h){const m=d.batch,g=m.keys();let y=V.resolve();return g.forEach(E=>{y=y.next(()=>h.getEntry(l,E)).next(b=>{const C=d.docVersions.get(E);Ve(null!==C),b.version.compareTo(C)<0&&(m.applyToRemoteDocument(b,d),b.isValidDocument()&&(b.setReadTime(d.commitVersion),h.addEntry(b)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,m))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=lt();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(l=l.add(a.batch.mutations[d].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);XS(t,r,null),YS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Da(t,i)}catch(i){yield Ml(i)}}),KS.apply(this,arguments)}function kJ(n,e,t){return ZS.apply(this,arguments)}function ZS(){return ZS=(0,J.Z)(function*(n,e,t){const r=fe(n);try{const i=yield function(o,a){const l=fe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return l.mutationQueue.lookupMutationBatch(d,a).next(m=>(Ve(null!==m),h=m.keys(),l.mutationQueue.removeMutationBatch(d,m))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>l.localDocuments.getDocuments(d,h))})}(r.localStore,e);XS(r,e,t),YS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Da(r,i)}catch(i){yield Ml(i)}}),ZS.apply(this,arguments)}function QS(){return QS=(0,J.Z)(function*(n,e){const t=fe(n);Hl(t.remoteStore)||le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(o){const a=fe(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(t.localStore);if(-1===r)return void e.resolve();const i=t.ba.get(r)||[];i.push(e),t.ba.set(r,i)}catch(r){const i=zh(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),QS.apply(this,arguments)}function YS(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function XS(n,e,t){const r=fe(n);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Wh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.fa.get(e))n.ma.delete(r),t&&n.Va.Fa(r,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(r=>{n.wa.containsKey(r)||PB(n,r)})}function PB(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(Pg(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),eA(n))}function JS(n,e,t){for(const r of t)r instanceof SB?(n.wa.addReference(r.key,e),FJ(n,r)):r instanceof AB?(le("SyncEngine","Document no longer in limbo: "+r.key),n.wa.removeReference(r.key,e),n.wa.containsKey(r.key)||PB(n,r.key)):Ae()}function FJ(n,e){const t=e.key,r=t.path.canonicalString();n.pa.get(t)||n.ga.has(r)||(le("SyncEngine","New document in limbo: "+t),n.ga.add(r),eA(n))}function eA(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new ge(Rt.fromString(e)),r=n.Da.next();n.ya.set(r,new SJ(t)),n.pa=n.pa.insert(t,r),pw(n.remoteStore,new Ca(bi(Th(t.path)),r,"TargetPurposeLimboResolution",Ji._e))}}function Da(n,e,t){return tA.apply(this,arguments)}function tA(){return tA=(0,J.Z)(function*(n,e,t){const r=fe(n),i=[],s=[],o=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,e,t).then(d=>{if((d||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,d?.fromCache?"not-current":"current"),d){i.push(d);const h=sS.Qi(l.targetId,d);s.push(h)}}))}),yield Promise.all(o),r.Va.a_(i),yield(a=(0,J.Z)(function*(d,h){const m=fe(d);try{yield m.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>V.forEach(h,y=>V.forEach(y.ki,E=>m.persistence.referenceDelegate.addReference(g,y.targetId,E)).next(()=>V.forEach(y.qi,E=>m.persistence.referenceDelegate.removeReference(g,y.targetId,E)))))}catch(g){if(!xl(g))throw g;le("LocalStore","Failed to update sequence numbers: "+g)}for(const g of h){const y=g.targetId;if(!g.fromCache){const E=m.ts.get(y),C=E.withLastLimboFreeSnapshotVersion(E.snapshotVersion);m.ts=m.ts.insert(y,C)}}}),function l(d,h){return a.apply(this,arguments)})(r.localStore,s))}),tA.apply(this,arguments)}function VJ(n,e){return nA.apply(this,arguments)}function nA(){return nA=(0,J.Z)(function*(n,e){const t=fe(n);if(!t.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const r=yield oB(t.localStore,e);t.currentUser=e,(s=t).ba.forEach(a=>{a.forEach(l=>{l.reject(new re($.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Da(t,r._s)}var s}),nA.apply(this,arguments)}function LJ(n,e){const t=fe(n),r=t.ya.get(e);if(r&&r.Ra)return lt().add(r.key);{let i=lt();const s=t.fa.get(e);if(!s)return i;for(const o of s){const a=t.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function BJ(n,e){return rA.apply(this,arguments)}function rA(){return rA=(0,J.Z)(function*(n,e){const t=fe(n),r=yield cw(t.localStore,e.query,!0),i=e.view.da(r);return t.isPrimaryClient&&JS(t,e.targetId,i.Ta),i}),rA.apply(this,arguments)}function UJ(n,e){return iA.apply(this,arguments)}function iA(){return iA=(0,J.Z)(function*(n,e){const t=fe(n);return uB(t.localStore,e).then(r=>Da(t,r))}),iA.apply(this,arguments)}function $J(n,e,t,r){return sA.apply(this,arguments)}function sA(){return sA=(0,J.Z)(function*(n,e,t,r){const i=fe(n),s=yield function(a,l){const d=fe(a),h=fe(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",m=>h.Cn(m,l).next(g=>g?d.localDocuments.getDocuments(m,g):V.resolve(null)))}(i.localStore,e);var l;null!==s?("pending"===t?yield jh(i.remoteStore):"acknowledged"===t||"rejected"===t?(XS(i,e,r||null),YS(i,e),l=e,fe(fe(i.localStore).mutationQueue).Fn(l)):Ae(),yield Da(i,s)):le("SyncEngine","Cannot apply mutation batch with id: "+e)}),sA.apply(this,arguments)}function oA(){return oA=(0,J.Z)(function*(n,e){const t=fe(n);if(uA(t),dA(t),!0===e&&!0!==t.Ca){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield NB(t,r.toArray());t.Ca=!0,yield PS(t.remoteStore,!0);for(const s of i)pw(t.remoteStore,s)}else if(!1===e&&!1!==t.Ca){const r=[];let i=Promise.resolve();t.fa.forEach((s,o)=>{t.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Wh(t,o),Uh(t.localStore,o,!0))),Pg(t.remoteStore,o)}),yield i,yield NB(t,r),function(o){const a=fe(o);a.ya.forEach((l,d)=>{Pg(a.remoteStore,d)}),a.wa.Vr(),a.ya=new Map,a.pa=new an(ge.comparator)}(t),t.Ca=!1,yield PS(t.remoteStore,!1)}}),oA.apply(this,arguments)}function NB(n,e,t){return aA.apply(this,arguments)}function aA(){return aA=(0,J.Z)(function*(n,e,t){const r=fe(n),i=[],s=[];for(const o of e){let a;const l=r.fa.get(o);if(l&&0!==l.length){a=yield Bh(r.localStore,bi(l[0]));for(const d of l){const h=r.ma.get(d),m=yield BJ(r,h);m.snapshot&&s.push(m.snapshot)}}else{const d=yield cB(r.localStore,o);a=yield Bh(r.localStore,d),yield jS(r,kB(d),o,!1,a.resumeToken)}i.push(a)}return r.Va.a_(s),i}),aA.apply(this,arguments)}function kB(n){return LL(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function HJ(n){return t=fe(n).localStore,fe(fe(t).persistence).Bi();var t}function zJ(n,e,t,r){return lA.apply(this,arguments)}function lA(){return lA=(0,J.Z)(function*(n,e,t,r){const i=fe(n);if(i.Ca)return void le("SyncEngine","Ignoring unexpected query state notification.");const s=i.fa.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const o=yield uB(i.localStore,jL(s[0])),a=yg.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,yr.EMPTY_BYTE_STRING);yield Da(i,o,a);break}case"rejected":yield Uh(i.localStore,e,!0),Wh(i,e,r);break;default:Ae()}}),lA.apply(this,arguments)}function qJ(n,e,t){return cA.apply(this,arguments)}function cA(){return cA=(0,J.Z)(function*(n,e,t){const r=uA(n);if(r.Ca){for(const i of e){if(r.fa.has(i)){le("SyncEngine","Adding an already active target "+i);continue}const s=yield cB(r.localStore,i),o=yield Bh(r.localStore,s);yield jS(r,kB(s),o.targetId,!1,o.resumeToken),pw(r.remoteStore,o)}for(const i of t)r.fa.has(i)&&(yield Uh(r.localStore,i,!1).then(()=>{Pg(r.remoteStore,i),Wh(r,i)}).catch(Ml))}}),cA.apply(this,arguments)}function uA(n){const e=fe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=MB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LJ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PJ.bind(null,e),e.Va.a_=IJ.bind(null,e.eventManager),e.Va.Fa=bJ.bind(null,e.eventManager),e}function dA(n){const e=fe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NJ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kJ.bind(null,e),e}class Ng{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,J.Z)(function*(){t.serializer=Mg(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return sB(this.persistence,new iB,e.initialUser,this.serializer)}createPersistence(e){return new tS(ow.jr,this.serializer)}createSharedClientState(e){return new pB}terminate(){var e=this;return(0,J.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class hA extends Ng{constructor(e,t,r){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,J.Z)(function*(){yield t().call(r,e),yield r.xa.initialize(r,e),yield dA(r.xa.syncEngine),yield jh(r.xa.remoteStore),yield r.persistence.mi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return sB(this.persistence,new iB,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Z2(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new yY(t,this.persistence);return new _Y(e.asyncQueue,r)}createPersistence(e){const t=iS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?li.withCacheSize(this.cacheSizeBytes):li.DEFAULT;return new rS(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,gB(),fw(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new pB}}class OB extends hA{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,J.Z)(function*(){yield t().call(r,e);const i=r.xa.syncEngine;r.sharedClientState instanceof fS&&(r.sharedClientState.syncEngine={Ys:$J.bind(null,i),Zs:zJ.bind(null,i),Xs:qJ.bind(null,i),Bi:HJ.bind(null,i),Js:UJ.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.mi(function(){var s=(0,J.Z)(function*(o){yield function jJ(n,e){return oA.apply(this,arguments)}(r.xa.syncEngine,o),r.gcScheduler&&(o&&!r.gcScheduler.started?r.gcScheduler.start():o||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(o&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():o||r.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const t=gB();if(!fS.D(t))throw new re($.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=iS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new fS(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Kh{initialize(e,t){var r=this;return(0,J.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>xB(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=VJ.bind(null,r.syncEngine),yield PS(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new wJ}createDatastore(e){const t=Mg(e.databaseInfo.databaseId),r=new iJ(e.databaseInfo);return new aJ(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=t=>xB(this.syncEngine,t,0),a=mB.D()?new mB:new tJ,new uJ(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,t){return function(i,s,o,a,l,d,h){const m=new AJ(i,s,o,a,l,d);return h&&(m.Ca=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,J.Z)(function*(r){const i=fe(r);le("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield $h(i),i.F_.shutdown(),i.M_.set("Unknown")}),function t(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function FB(n,e=10240){let t=0;return{read:()=>(0,J.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,J.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class gw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Gn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class KJ{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new _r,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(r=>{r&&r.Z_()?this.metadata.resolve(r.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Y_)}`))},r=>this.metadata.reject(r))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,J.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,J.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,J.Z)(function*(){const t=yield e.qa();if(null===t)return null;const r=e.La.decode(t),i=Number(r);isNaN(i)&&e.Qa(`length string (${r}) is not valid number`);const s=yield e.Ka(i);return new CJ(JSON.parse(s),t.length+i)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,J.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const t=e.$a();t<0&&e.Qa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Ka(e){var t=this;return(0,J.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ua())&&t.Qa("Reached the end of bundle when more is expected.");const r=t.La.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,J.Z)(function*(){const t=yield e.Ba.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class ZJ{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,J.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new re($.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,J.Z)(function*(o,a){const l=fe(o),d=wg(l.serializer)+"/documents",h={documents:a.map(E=>Eg(l.serializer,E))},m=yield l.Co("BatchGetDocuments",d,h,a.length),g=new Map;m.forEach(E=>{const b=function gX(n,e){return"found"in e?function(r,i){Ve(!!i.found);const s=Ao(r,i.found.name),o=Wn(i.found.updateTime),a=i.found.createTime?Wn(i.found.createTime):Le.min(),l=new zr({mapValue:{fields:i.found.fields}});return yn.newFoundDocument(s,o,a,l)}(n,e):"missing"in e?function(r,i){Ve(!!i.missing),Ve(!!i.readTime);const s=Ao(r,i.missing),o=Wn(i.readTime);return yn.newNoDocument(s,o)}(n,e):Ae()}(l.serializer,E);g.set(b.key.toString(),b)});const y=[];return a.forEach(E=>{const b=g.get(E.toString());Ve(!!b),y.push(b)}),y}),function s(o,a){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ph(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,J.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const s=ge.fromPath(i);e.mutations.push(new VT(s,e.precondition(s)))}),yield(r=(0,J.Z)(function*(s,o){const a=fe(s),l=wg(a.serializer)+"/documents",d={writes:o.map(h=>Ig(a.serializer,h))};yield a.wo("Commit",l,d)}),function i(s,o){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ae();t=Le.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new re($.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Le.min())?bn.exists(!1):bn.updateTime(t):bn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Le.min()))throw new re($.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return bn.updateTime(t)}return bn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class QJ{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.Wa=r.maxAttempts,this.zo=new mS(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,J.Z)(function*(){const t=new ZJ(e.datastore),r=e.za(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.ja(s)}))}).catch(i=>{e.ja(i)})}))}za(e){try{const t=this.updateFunction(e);return!rg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!a2(t)}return!1}}class YJ{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ar.UNAUTHENTICATED,this.clientId=nL.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=(0,J.Z)(function*(a){le("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(le("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return(0,J.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new re($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,J.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=zh(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function _w(n,e){return fA.apply(this,arguments)}function fA(){return fA=(0,J.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,J.Z)(function*(s){r.isEqual(s)||(yield oB(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),fA.apply(this,arguments)}function pA(n,e){return mA.apply(this,arguments)}function mA(){return mA=(0,J.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield gA(n);le("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>bB(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>bB(e.remoteStore,s)),n._onlineComponents=e}),mA.apply(this,arguments)}function VB(n){return"FirebaseError"===n.name?n.code===$.FAILED_PRECONDITION||n.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function gA(n){return _A.apply(this,arguments)}function _A(){return _A=(0,J.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{yield _w(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!VB(t))throw t;Oi("Error using user provided cache. Falling back to memory cache: "+t),yield _w(n,new Ng)}}else le("FirestoreClient","Using default OfflineComponentProvider"),yield _w(n,new Ng);return n._offlineComponents}),_A.apply(this,arguments)}function yw(n){return yA.apply(this,arguments)}function yA(){return yA=(0,J.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),yield pA(n,n._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),yield pA(n,new Kh))),n._onlineComponents}),yA.apply(this,arguments)}function LB(n){return gA(n).then(e=>e.persistence)}function Zh(n){return gA(n).then(e=>e.localStore)}function BB(n){return yw(n).then(e=>e.remoteStore)}function vA(n){return yw(n).then(e=>e.syncEngine)}function Qh(n){return EA.apply(this,arguments)}function EA(){return EA=(0,J.Z)(function*(n){const e=yield yw(n),t=e.eventManager;return t.onListen=RJ.bind(null,e.syncEngine),t.onUnlisten=MJ.bind(null,e.syncEngine),t}),EA.apply(this,arguments)}function $B(n,e,t={}){const r=new _r;return n.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return function(s,o,a,l,d){const h=new gw({next:g=>{o.enqueueAndForget(()=>VS(s,m));const y=g.docs.has(a);!y&&g.fromCache?d.reject(new re($.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&l&&"server"===l.source?d.reject(new re($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),m=new US(Th(a.path),h,{includeMetadataChanges:!0,J_:!0});return OS(s,m)}(yield Qh(n),n.asyncQueue,e,t,r)})),r.promise}function jB(n,e,t={}){const r=new _r;return n.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return function(s,o,a,l,d){const h=new gw({next:g=>{o.enqueueAndForget(()=>VS(s,m)),g.fromCache&&"server"===l.source?d.reject(new re($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),m=new US(a,h,{includeMetadataChanges:!0,J_:!0});return OS(s,m)}(yield Qh(n),n.asyncQueue,e,t,r)})),r.promise}function HB(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const zB=new Map;function wA(n,e,t){if(!t)throw new re($.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function qB(n,e,t,r){if(!0===e&&!0===r)throw new re($.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function GB(n){if(!ge.isDocumentKey(n))throw new re($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function WB(n){if(ge.isDocumentKey(n))throw new re($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vw(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":Ae()}function It(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new re($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vw(n);throw new re($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function KB(n,e){if(e<=0)throw new re($.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class ZB{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new re($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new re($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=HB(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new re($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new re($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new re($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kg{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZB({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new re($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new re($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZB(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new sY;switch(r.type){case"firstParty":return new cY(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=zB.get(t);r&&(le("ComponentProvider","Removing Datastore"),zB.delete(t),r.terminate())}(this),Promise.resolve()}}class qr{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qr(this.firestore,e,this._query)}}class vn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ro(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class Ro extends qr{constructor(e,t,r){super(e,t,Th(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new ge(e))}withConverter(e){return new Ro(this.firestore,e,this._path)}}function YB(n,e,...t){if(n=(0,Yt.m9)(n),wA("collection","path",e),n instanceof kg){const r=Rt.fromString(e,...t);return WB(r),new Ro(n,null,r)}{if(!(n instanceof vn||n instanceof Ro))throw new re($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Rt.fromString(e,...t));return WB(r),new Ro(n.firestore,null,r)}}function Ew(n,e,...t){if(n=(0,Yt.m9)(n),1===arguments.length&&(e=nL.newId()),wA("doc","path",e),n instanceof kg){const r=Rt.fromString(e,...t);return GB(r),new vn(n,null,new ge(r))}{if(!(n instanceof vn||n instanceof Ro))throw new re($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Rt.fromString(e,...t));return GB(r),new vn(n.firestore,n instanceof Ro?n.converter:null,new ge(r))}}function XB(n,e){return n=(0,Yt.m9)(n),e=(0,Yt.m9)(e),(n instanceof vn||n instanceof Ro)&&(e instanceof vn||e instanceof Ro)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function IA(n,e){return n=(0,Yt.m9)(n),e=(0,Yt.m9)(e),n instanceof qr&&e instanceof qr&&n.firestore===e.firestore&&dg(n._query,e._query)&&n.converter===e.converter}class cee{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new mS(this,"async_queue_retry"),this.iu=()=>{const t=fw();t&&le("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=fw();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=fw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new _r;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,J.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!xl(t))throw t;le("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,Gn("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=t,t}enqueueAfterDelay(e,t,r){this.su(),this.ru.indexOf(e)>-1&&(t=0);const i=kS.createAndSchedule(this,e,t,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&Ae()}verifyOperationInProgress(){}uu(){var e=this;return(0,J.Z)(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function bA(n){return function(t,r){if("object"!=typeof t||null===t)return!1;const i=t;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(n)}class uee{constructor(){this._progressObserver={},this._taskCompletionResolver=new _r,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ln extends kg{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new cee,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||JB(this),this._firestoreClient.terminate()}}function Ln(n){return n._firestoreClient||JB(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function JB(n){var e,t,r;const i=n._freezeSettings(),s=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new BY(n._databaseId,l,n._persistenceKey,(h=i).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,HB(h.experimentalLongPollingOptions),h.useFetchStreams));var l,h;n._firestoreClient=new YJ(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function eU(n,e,t){const r=new _r;return n.asyncQueue.enqueue((0,J.Z)(function*(){try{yield _w(n,t),yield pA(n,e),r.resolve()}catch(i){const s=i;if(!VB(s))throw s;Oi("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}})).then(()=>r.promise)}function tU(n){if(n._initialized||n._terminated)throw new re($.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Mo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mo(yr.fromBase64String(e))}catch(t){throw new re($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Mo(yr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ta{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new re($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class du{constructor(e){this._methodName=e}}class ww{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new re($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new re($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}}const wee=/^__.*__$/;class Iee{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ba(e,this.data,this.fieldMask,t,this.fieldTransforms):new xh(e,this.data,t,this.fieldTransforms)}}class nU{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ba(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rU(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class Iw{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Iw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Dw(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(rU(this.Iu)&&wee.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class bee{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Mg(e)}pu(e,t,r,i=!1){return new Iw({Iu:e,methodName:t,gu:r,path:_n.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hu(n){const e=n._freezeSettings(),t=Mg(n._databaseId);return new bee(n._databaseId,!!e.ignoreUndefinedProperties,t)}function bw(n,e,t,r,i,s={}){const o=n.pu(s.merge||s.mergeFields?2:0,e,t,i);SA("Data must be an object, but it was:",o,r);const a=oU(r,o);let l,d;if(s.merge)l=new Fi(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const m of s.mergeFields){const g=Vg(e,m,t);if(!o.contains(g))throw new re($.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);lU(h,g)||h.push(g)}l=new Fi(h),d=o.fieldTransforms.filter(m=>l.covers(m.field))}else l=null,d=o.fieldTransforms;return new Iee(new zr(a),l,d)}class Fg extends du{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fg}}function iU(n,e,t){return new Iw({Iu:3,gu:e.settings.gu,methodName:n._methodName,du:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class CA extends du{_toFieldTransform(e){return new mg(e.path,new Rh)}isEqual(e){return e instanceof CA}}class Cee extends du{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=iU(this,e,!0),r=this.yu.map(s=>fu(s,t)),i=new nu(r);return new mg(e.path,i)}isEqual(e){return this===e}}class Dee extends du{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=iU(this,e,!0),r=this.yu.map(s=>fu(s,t)),i=new ru(r);return new mg(e.path,i)}isEqual(e){return this===e}}class Tee extends du{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new Mh(e.serializer,ZL(e.serializer,this.wu));return new mg(e.path,t)}isEqual(e){return this===e}}function DA(n,e,t,r){const i=n.pu(1,e,t);SA("Data must be an object, but it was:",i,r);const s=[],o=zr.empty();Pl(r,(l,d)=>{const h=Cw(e,l,t);d=(0,Yt.m9)(d);const m=i.Ru(h);if(d instanceof Fg)s.push(h);else{const g=fu(d,m);null!=g&&(s.push(h),o.set(h,g))}});const a=new Fi(s);return new nU(o,a,i.fieldTransforms)}function TA(n,e,t,r,i,s){const o=n.pu(1,e,t),a=[Vg(e,r,t)],l=[i];if(s.length%2!=0)throw new re($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)a.push(Vg(e,s[g])),l.push(s[g+1]);const d=[],h=zr.empty();for(let g=a.length-1;g>=0;--g)if(!lU(d,a[g])){const y=a[g];let E=l[g];E=(0,Yt.m9)(E);const b=o.Ru(y);if(E instanceof Fg)d.push(y);else{const C=fu(E,b);null!=C&&(d.push(y),h.set(y,C))}}const m=new Fi(d);return new nU(h,m,o.fieldTransforms)}function sU(n,e,t,r=!1){return fu(t,n.pu(r?4:3,e))}function fu(n,e){if(aU(n=(0,Yt.m9)(n)))return SA("Unsupported field value:",e,n),oU(n,e);if(n instanceof du)return function(r,i){if(!rU(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=fu(a,i.Vu(o));null==l&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if(null===(r=(0,Yt.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return ZL(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=In.fromDate(r);return{timestampValue:Nh(i.serializer,s)}}if(r instanceof In){const s=new In(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Nh(i.serializer,s)}}if(r instanceof ww)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mo)return{bytesValue:_2(i.serializer,r._byteString)};if(r instanceof vn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:HT(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${vw(r)}`)}(n,e)}function oU(n,e){const t={};return _L(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pl(n,(r,i)=>{const s=fu(i,e.Eu(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function aU(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof In||n instanceof ww||n instanceof Mo||n instanceof vn||n instanceof du)}function SA(n,e,t){if(!aU(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=vw(t);throw e.mu("an object"===r?n+" a custom object":n+" "+r)}var i}function Vg(n,e,t){if((e=(0,Yt.m9)(e))instanceof Ta)return e._internalPath;if("string"==typeof e)return Cw(n,e);throw Dw("Field path arguments must be of type string or ",n,!1,void 0,t)}const See=new RegExp("[~\\*/\\[\\]]");function Cw(n,e,t){if(e.search(See)>=0)throw Dw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ta(...e.split("."))._internalPath}catch{throw Dw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Dw(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new re($.INVALID_ARGUMENT,a+n+l)}function lU(n,e){return n.some(t=>t.isEqual(e))}class Lg{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Aee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Tw("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Aee extends Lg{data(){return super.data()}}function Tw(n,e){return"string"==typeof e?Cw(n,e):e instanceof Ta?e._internalPath:e._delegate._internalPath}function cU(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new re($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AA{}class Bg extends AA{}function ql(n,e,...t){let r=[];e instanceof AA&&r.push(e),r=r.concat(t),function(s){const o=s.filter(l=>l instanceof Yh).length,a=s.filter(l=>l instanceof Ug).length;if(o>1||o>0&&a>0)throw new re($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Ug extends Bg{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Ug(e,t,r)}_apply(e){const t=this._parse(e);return fU(e._query,t),new qr(e.firestore,e.converter,OT(e._query,t))}_parse(e){const t=hu(e.firestore);return function(s,o,a,l,d,h,m){let g;if(d.isKeyField()){if("array-contains"===h||"array-contains-any"===h)throw new re($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if("in"===h||"not-in"===h){hU(m,h);const y=[];for(const E of m)y.push(dU(l,s,E));g={arrayValue:{values:y}}}else g=dU(l,s,m)}else"in"!==h&&"not-in"!==h&&"array-contains-any"!==h||hU(m,h),g=sU(a,"where",m,"in"===h||"not-in"===h);return Dt.create(d,h,g)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Yh extends AA{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Yh(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Ht.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)fU(o,l),o=OT(o,l)}(e._query,t),new qr(e.firestore,e.converter,OT(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class RA extends Bg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new RA(e,t)}_apply(e){const t=function(i,s,o){if(null!==i.startAt)throw new re($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new re($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cg(s,o)}(e._query,this._field,this._direction);return new qr(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new wa(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class Sw extends Bg{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Sw(e,t,r)}_apply(e){return new qr(e.firestore,e.converter,WE(e._query,this._limit,this._limitType))}}class Aw extends Bg{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Aw(e,t,r)}_apply(e){const t=uU(e,this.type,this._docOrFields,this._inclusive);return new qr(e.firestore,e.converter,(s=t,new wa((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)));var i,s}}class Rw extends Bg{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Rw(e,t,r)}_apply(e){const t=uU(e,this.type,this._docOrFields,this._inclusive);return new qr(e.firestore,e.converter,(s=t,new wa((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)));var i,s}}function uU(n,e,t,r){if(t[0]=(0,Yt.m9)(t[0]),t[0]instanceof Lg)return function(s,o,a,l,d){if(!l)throw new re($.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const m of Sh(s))if(m.field.isKeyField())h.push(eu(o,l.key));else{const g=l.data.field(m.field);if(UE(g))throw new re($.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+m.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===g){const y=m.field.canonicalString();throw new re($.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}h.push(g)}return new Ll(h,d)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=hu(n.firestore);return function(o,a,l,d,h,m){const g=o.explicitOrderBy;if(h.length>g.length)throw new re($.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let E=0;E<h.length;E++){const b=h[E];if(g[E].field.isKeyField()){if("string"!=typeof b)throw new re($.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof b}`);if(!kT(o)&&-1!==b.indexOf("/"))throw new re($.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${b}' contains a slash.`);const C=o.path.child(Rt.fromString(b));if(!ge.isDocumentKey(C))throw new re($.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${C}' is not because it contains an odd number of segments.`);const k=new ge(C);y.push(eu(a,k))}else{const C=sU(l,d,b);y.push(C)}}return new Ll(y,m)}(n._query,n.firestore._databaseId,i,e,t,r)}}function dU(n,e,t){if("string"==typeof(t=(0,Yt.m9)(t))){if(""===t)throw new re($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kT(e)&&-1!==t.indexOf("/"))throw new re($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Rt.fromString(t));if(!ge.isDocumentKey(r))throw new re($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return eu(n,new ge(r))}if(t instanceof vn)return eu(n,t._key);throw new re($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vw(t)}.`)}function hU(n,e){if(!Array.isArray(n)||0===n.length)throw new re($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fU(n,e){const t=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new re($.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class MA{convertValue(e,t="none"){switch(Fl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ea(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ae()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Pl(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new ww(Vn(e.latitude),Vn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=$E(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(sg(e));default:return null}}convertTimestamp(e){const t=Nl(e);return new In(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Rt.fromString(e);Ve(S2(r));const i=new kl(r.get(1),r.get(3)),s=new ge(r.popFirst(5));return i.isEqual(t)||Gn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function Mw(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Vee extends MA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,t)}}class pu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sa extends Lg{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new $g(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Tw("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class $g extends Sa{data(e={}){return super.data(e)}}class Gl{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new pu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new $g(this._firestore,this._userDataWriter,r.key,r,new pu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new re($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new $g(i._firestore,i._userDataWriter,a.doc.key,a.doc,new pu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const l=new $g(i._firestore,i._userDataWriter,a.doc.key,a.doc,new pu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,h=-1;return 0!==a.type&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:Bee(a.type),doc:l,oldIndex:d,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Bee(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}function mU(n,e){return n instanceof Sa&&e instanceof Sa?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Gl&&e instanceof Gl&&n._firestore===e._firestore&&IA(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Wl extends MA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,t)}}function gU(n,e,t){n=It(n,vn);const r=It(n.firestore,ln),i=Mw(n.converter,e,t);return Xh(r,[bw(hu(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,bn.none())])}function _U(n,e,t,...r){n=It(n,vn);const i=It(n.firestore,ln),s=hu(i);let o;return o="string"==typeof(e=(0,Yt.m9)(e))||e instanceof Ta?TA(s,"updateDoc",n._key,e,t,r):DA(s,"updateDoc",n._key,e),Xh(i,[o.toMutation(n._key,bn.exists(!0))])}function yU(n,...e){var t,r,i;n=(0,Yt.m9)(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||bA(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(bA(e[o])){const m=e[o];e[o]=null===(t=m.next)||void 0===t?void 0:t.bind(m),e[o+1]=null===(r=m.error)||void 0===r?void 0:r.bind(m),e[o+2]=null===(i=m.complete)||void 0===i?void 0:i.bind(m)}let l,d,h;if(n instanceof vn)d=It(n.firestore,ln),h=Th(n._key.path),l={next:m=>{e[o]&&e[o](xA(d,n,m))},error:e[o+1],complete:e[o+2]};else{const m=It(n,qr);d=It(m.firestore,ln),h=m._query;const g=new Wl(d);l={next:y=>{e[o]&&e[o](new Gl(d,g,m,y))},error:e[o+1],complete:e[o+2]},cU(n._query)}return function(g,y,E,b){const C=new gw(b),k=new US(y,C,E);return g.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return OS(yield Qh(g),k)})),()=>{C.Na(),g.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return VS(yield Qh(g),k)}))}}(Ln(d),h,a,l)}function Xh(n,e){return function(r,i){const s=new _r;return r.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return function xJ(n,e,t){return qS.apply(this,arguments)}(yield vA(r),i,s)})),s.promise}(Ln(n),e)}function xA(n,e,t){const r=t.docs.get(e._key),i=new Wl(n);return new Sa(n,i,e._key,r,new pu(t.hasPendingWrites,t.fromCache),e.converter)}const rte={maxAttempts:5};class vU{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=hu(e)}set(e,t,r){this._verifyNotCommitted();const i=Kl(e,this._firestore),s=Mw(i.converter,t,r),o=bw(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(o.toMutation(i._key,bn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=Kl(e,this._firestore);let o;return o="string"==typeof(t=(0,Yt.m9)(t))||t instanceof Ta?TA(this._dataReader,"WriteBatch.update",s._key,t,r,i):DA(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,bn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Kl(e,this._firestore);return this._mutations=this._mutations.concat(new Ph(t._key,bn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new re($.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Kl(n,e){if((n=(0,Yt.m9)(n)).firestore!==e)throw new re($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class ite extends class{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=hu(t)}get(t){const r=Kl(t,this._firestore),i=new Vee(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||1!==s.length)return Ae();const o=s[0];if(o.isFoundDocument())return new Lg(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Lg(this._firestore,i,r._key,null,r.converter);throw Ae()})}set(t,r,i){const s=Kl(t,this._firestore),o=Mw(s.converter,r,i),a=bw(this._dataReader,"Transaction.set",s._key,o,null!==s.converter,i);return this._transaction.set(s._key,a),this}update(t,r,i,...s){const o=Kl(t,this._firestore);let a;return a="string"==typeof(r=(0,Yt.m9)(r))||r instanceof Ta?TA(this._dataReader,"Transaction.update",o._key,r,i,s):DA(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(t){const r=Kl(t,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Kl(e,this._firestore),r=new Wl(this._firestore);return super.get(e).then(i=>new Sa(this._firestore,r,t._key,i._document,new pu(!1,!1),t.converter))}}!function(e,t=!0){yh=lh.SDK_VERSION,(0,lh._registerComponent)(new OF.wA("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ln(new aY(r.getProvider("auth-internal")),new uY(r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new re($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(d.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),(0,lh.registerVersion)(JV,"4.4.0",e),(0,lh.registerVersion)(JV,"4.4.0","esm2017")}();function NA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function bU(){if(typeof Uint8Array>"u")throw new re("unimplemented","Uint8Arrays are not available in this environment.")}function CU(){if(!function VY(){return typeof atob<"u"}())throw new re("unimplemented","Blobs are unavailable in Firestore in this environment.")}class jg{constructor(e){this._delegate=e}static fromBase64String(e){return CU(),new jg(Mo.fromBase64String(e))}static fromUint8Array(e){return bU(),new jg(Mo.fromUint8Array(e))}toBase64(){return CU(),this._delegate.toBase64()}toUint8Array(){return bU(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function kA(n){return function pte(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class mte{enableIndexedDbPersistence(e,t){return function hee(n,e){tU(n=It(n,ln));const t=Ln(n);if(t._uninitializedComponentsProvider)throw new re($.FAILED_PRECONDITION,"SDK cache is already specified.");Oi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new Kh;return eU(t,i,new hA(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function fee(n){tU(n=It(n,ln));const e=Ln(n);if(e._uninitializedComponentsProvider)throw new re($.FAILED_PRECONDITION,"SDK cache is already specified.");Oi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new Kh;return eU(e,r,new OB(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function pee(n){if(n._initialized&&!n._terminated)throw new re($.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new _r;return n._queue.enqueueAndForgetEvenWhileRestricted((0,J.Z)(function*(){try{yield(t=(0,J.Z)(function*(i){if(!js.D())return Promise.resolve();const s=i+"main";yield js.delete(s)}),function r(i){return t.apply(this,arguments)})(iS(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class DU{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof kl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Oi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function QB(n,e,t,r={}){var i;const s=(n=It(n,kg))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Oi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if("string"==typeof r.mockUserToken)a=r.mockUserToken,l=Ar.MOCK_USER;else{a=(0,Yt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new re($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ar(d)}n._authCredentials=new oY(new eL(a,l))}}(this._delegate,e,t,r)}enableNetwork(){return function gee(n){return function XJ(n){return n.asyncQueue.enqueue((0,J.Z)(function*(){const e=yield LB(n),t=yield BB(n);return e.setNetworkEnabled(!0),function(i){const s=fe(i);return s.C_.delete(0),xg(s)}(t)}))}(Ln(n=It(n,ln)))}(this._delegate)}disableNetwork(){return function _ee(n){return function JJ(n){return n.asyncQueue.enqueue((0,J.Z)(function*(){const e=yield LB(n),t=yield BB(n);return e.setNetworkEnabled(!1),(r=(0,J.Z)(function*(s){const o=fe(s);o.C_.add(0),yield $h(o),o.M_.set("Offline")}),function i(s){return r.apply(this,arguments)})(t);var r}))}(Ln(n=It(n,ln)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,qB("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function mee(n){return function(t){const r=new _r;return t.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return function OJ(n,e){return QS.apply(this,arguments)}(yield vA(t),r)})),r.promise}(Ln(n=It(n,ln)))}(this._delegate)}onSnapshotsInSync(e){return function Kee(n,e){return function nee(n,e){const t=new gw(e);return n.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return i=yield Qh(n),s=t,fe(i).q_.add(s),void s.next();var i,s})),()=>{t.Na(),n.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return i=yield Qh(n),s=t,void fe(i).q_.delete(s);var i,s}))}}(Ln(n=It(n,ln)),bA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Jh(this,YB(this._delegate,e))}catch(t){throw Ci(t,"collection()","Firestore.collection()")}}doc(e){try{return new Es(this,Ew(this._delegate,e))}catch(t){throw Ci(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Di(this,function lee(n,e){if(n=It(n,kg),wA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new re($.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new qr(n,null,(r=e,new wa(Rt.emptyPath(),r)));var r}(this._delegate,e))}catch(t){throw Ci(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function ste(n,e,t){n=It(n,ln);const r=Object.assign(Object.assign({},rte),t);return function(s){if(s.maxAttempts<1)throw new re($.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new _r;return s.asyncQueue.enqueueAndForget((0,J.Z)(function*(){const d=yield function UB(n){return yw(n).then(e=>e.datastore)}(s);new QJ(s.asyncQueue,d,a,o,l).run()})),l.promise}(Ln(n),i=>e(new ite(n,i)),r)}(this._delegate,t=>e(new TU(this,t)))}batch(){return Ln(this._delegate),new SU(new vU(this._delegate,e=>Xh(this._delegate,e)))}loadBundle(e){return function yee(n,e){const t=Ln(n=It(n,ln)),r=new uee;return function ree(n,e,t,r){const i=function(o,a){let l;return l="string"==typeof o?c2().encode(o):o,h=function(h,m){if(h instanceof Uint8Array)return FB(h,m);if(h instanceof ArrayBuffer)return FB(new Uint8Array(h),m);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),new KJ(h,a);var h}(t,Mg(e));n.asyncQueue.enqueueAndForget((0,J.Z)(function*(){!function GJ(n,e,t){const r=fe(n);var i;(i=(0,J.Z)(function*(o,a,l){try{const d=yield a.getMetadata();if(yield function(E,b){const C=fe(E),k=Wn(b.createTime);return C.persistence.runTransaction("hasNewerBundle","readonly",B=>C.Kr.getBundleMetadata(B,b.id)).then(B=>!!B&&B.createTime.compareTo(k)>=0)}(o.localStore,d))return yield a.close(),l._completeWith({taskState:"Success",documentsLoaded:(E=d).totalDocuments,bytesLoaded:E.totalBytes,totalDocuments:E.totalDocuments,totalBytes:E.totalBytes}),Promise.resolve(new Set);l._updateProgress(TB(d));const h=new DJ(d,o.localStore,a.serializer);let m=yield a.Ma();for(;m;){const y=yield h.ea(m);y&&l._updateProgress(y),m=yield a.Ma()}const g=yield h.complete();return yield Da(o,g.ra,void 0),yield function(E,b){const C=fe(E);return C.persistence.runTransaction("Save bundle","readwrite",k=>C.Kr.saveBundleMetadata(k,b))}(o.localStore,d),l._completeWith(g.progress),Promise.resolve(g.na)}catch(d){return Oi("SyncEngine",`Loading bundle failed with ${d}`),l._failWith(d),Promise.resolve(new Set)}var E}),function s(o,a,l){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield vA(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function vee(n,e){return function iee(n,e){return n.asyncQueue.enqueue((0,J.Z)(function*(){return function(r,i){const s=fe(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Kr.getNamedQuery(o,i))}(yield Zh(n),e)}))}(Ln(n=It(n,ln)),e).then(t=>t?new qr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Di(this,t):null)}}class Pw extends MA{constructor(e){super(),this.firestore=e}convertBytes(e){return new jg(new Mo(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Es.forKey(t,this.firestore,null)}}class TU{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Pw(e)}get(e){const t=gu(e);return this._delegate.get(t).then(r=>new Hg(this._firestore,new Sa(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=gu(e);return r?(NA("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=gu(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=gu(e);return this._delegate.delete(t),this}}class SU{constructor(e){this._delegate=e}set(e,t,r){const i=gu(e);return r?(NA("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=gu(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=gu(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class mu{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new $g(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new zg(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=mu.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new mu(e,new Pw(e),t),i.set(t,s)),s}}mu.INSTANCES=new WeakMap;class Es{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Pw(e)}static forPath(e,t,r){if(e.length%2!=0)throw new re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Es(t,new vn(t._delegate,r,new ge(e)))}static forKey(e,t,r){return new Es(t,new vn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Jh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Jh(this.firestore,YB(this._delegate,e))}catch(t){throw Ci(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Yt.m9)(e))instanceof vn&&XB(this._delegate,e)}set(e,t){t=NA("DocumentReference.set",t);try{return t?gU(this._delegate,e,t):gU(this._delegate,e)}catch(r){throw Ci(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?_U(this._delegate,e):_U(this._delegate,e,t,...r)}catch(i){throw Ci(i,"updateDoc()","DocumentReference.update()")}}delete(){return function Gee(n){return Xh(It(n.firestore,ln),[new Ph(n._key,bn.none())])}(this._delegate)}onSnapshot(...e){const t=AU(e),r=RU(e,i=>new Hg(this.firestore,new Sa(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return yU(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function $ee(n){n=It(n,vn);const e=It(n.firestore,ln),t=Ln(e),r=new Wl(e);return function eee(n,e){const t=new _r;return n.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return(r=(0,J.Z)(function*(s,o,a){try{const l=yield function(h,m){const g=fe(h);return g.persistence.runTransaction("read document","readonly",y=>g.localDocuments.getDocument(y,m))}(s,o);l.isFoundDocument()?a.resolve(l):l.isNoDocument()?a.resolve(null):a.reject(new re($.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const d=zh(l,`Failed to get document '${o} from cache`);a.reject(d)}}),function i(s,o,a){return r.apply(this,arguments)})(yield Zh(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Sa(e,r,n._key,i,new pu(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function jee(n){n=It(n,vn);const e=It(n.firestore,ln);return $B(Ln(e),n._key,{source:"server"}).then(t=>xA(e,n,t))}(this._delegate):function Uee(n){n=It(n,vn);const e=It(n.firestore,ln);return $B(Ln(e),n._key).then(t=>xA(e,n,t))}(this._delegate),t.then(r=>new Hg(this.firestore,new Sa(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Es(this.firestore,this._delegate.withConverter(e?mu.getInstance(this.firestore,e):null))}}function Ci(n,e,t){return n.message=n.message.replace(e,t),n}function AU(n){for(const e of n)if("object"==typeof e&&!kA(e))return e;return{}}function RU(n,e){var t,r;let i;return i=kA(n[0])?n[0]:kA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Hg{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Es(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return mU(this._delegate,e._delegate)}}class zg extends Hg{data(e){const t=this._delegate.data(e);return this._delegate._converter||function iY(n,e){n||Ae()}(void 0!==t),t}}class Di{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Pw(e)}where(e,t,r){try{return new Di(this.firestore,ql(this._delegate,function Ree(n,e,t){const r=e,i=Tw("where",n);return Ug._create(i,r,t)}(e,t,r)))}catch(i){throw Ci(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Di(this.firestore,ql(this._delegate,function Mee(n,e="asc"){const t=e,r=Tw("orderBy",n);return RA._create(r,t)}(e,t)))}catch(r){throw Ci(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Di(this.firestore,ql(this._delegate,function xee(n){return KB("limit",n),Sw._create("limit",n,"F")}(e)))}catch(t){throw Ci(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Di(this.firestore,ql(this._delegate,function Pee(n){return KB("limitToLast",n),Sw._create("limitToLast",n,"L")}(e)))}catch(t){throw Ci(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Di(this.firestore,ql(this._delegate,function Nee(...n){return Aw._create("startAt",n,!0)}(...e)))}catch(t){throw Ci(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Di(this.firestore,ql(this._delegate,function kee(...n){return Aw._create("startAfter",n,!1)}(...e)))}catch(t){throw Ci(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Di(this.firestore,ql(this._delegate,function Oee(...n){return Rw._create("endBefore",n,!1)}(...e)))}catch(t){throw Ci(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Di(this.firestore,ql(this._delegate,function Fee(...n){return Rw._create("endAt",n,!0)}(...e)))}catch(t){throw Ci(t,"endAt()","Query.endAt()")}}isEqual(e){return IA(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function zee(n){n=It(n,qr);const e=It(n.firestore,ln),t=Ln(e),r=new Wl(e);return function tee(n,e){const t=new _r;return n.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return(r=(0,J.Z)(function*(s,o,a){try{const l=yield cw(s,o,!0),d=new RB(o,l.ls),h=d.ca(l.documents),m=d.applyChanges(h,!1);a.resolve(m.snapshot)}catch(l){const d=zh(l,`Failed to execute query '${o} against cache`);a.reject(d)}}),function i(s,o,a){return r.apply(this,arguments)})(yield Zh(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Gl(e,r,n,i))}(this._delegate):"server"===e?.source?function qee(n){n=It(n,qr);const e=It(n.firestore,ln),t=Ln(e),r=new Wl(e);return jB(t,n._query,{source:"server"}).then(i=>new Gl(e,r,n,i))}(this._delegate):function Hee(n){n=It(n,qr);const e=It(n.firestore,ln),t=Ln(e),r=new Wl(e);return cU(n._query),jB(t,n._query).then(i=>new Gl(e,r,n,i))}(this._delegate),t.then(r=>new OA(this.firestore,new Gl(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=AU(e),r=RU(e,i=>new OA(this.firestore,new Gl(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return yU(this._delegate,t,r)}withConverter(e){return new Di(this.firestore,this._delegate.withConverter(e?mu.getInstance(this.firestore,e):null))}}class _te{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new zg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class OA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Di(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new zg(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new _te(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new zg(this._firestore,r))})}isEqual(e){return mU(this._delegate,e._delegate)}}class Jh extends Di{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Es(this.firestore,e):null}doc(e){try{return new Es(this.firestore,void 0===e?Ew(this._delegate):Ew(this._delegate,e))}catch(t){throw Ci(t,"doc()","CollectionReference.doc()")}}add(e){return function Wee(n,e){const t=It(n.firestore,ln),r=Ew(n),i=Mw(n.converter,e);return Xh(t,[bw(hu(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,bn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Es(this.firestore,t))}isEqual(e){return XB(this._delegate,e._delegate)}withConverter(e){return new Jh(this.firestore,this._delegate.withConverter(e?mu.getInstance(this.firestore,e):null))}}function gu(n){return It(n,vn)}class FA{constructor(...e){this._delegate=new Ta(...e)}static documentId(){return new FA(_n.keyField().canonicalString())}isEqual(e){return(e=(0,Yt.m9)(e))instanceof Ta&&this._delegate._internalPath.isEqual(e._internalPath)}}class _u{constructor(e){this._delegate=e}static serverTimestamp(){const e=function ate(){return new CA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new _u(e)}static delete(){const e=function ote(){return new Fg("deleteField")}();return e._methodName="FieldValue.delete",new _u(e)}static arrayUnion(...e){const t=function lte(...n){return new Cee("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new _u(t)}static arrayRemove(...e){const t=function cte(...n){return new Dee("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new _u(t)}static increment(e){const t=function ute(n){return new Tee("increment",n)}(e);return t._methodName="FieldValue.increment",new _u(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const yte={Firestore:DU,GeoPoint:ww,Timestamp:In,Blob:jg,Transaction:TU,WriteBatch:SU,DocumentReference:Es,DocumentSnapshot:Hg,Query:Di,QueryDocumentSnapshot:zg,QuerySnapshot:OA,CollectionReference:Jh,FieldPath:FA,FieldValue:_u,setLogLevel:function gte(n){!function rY(n){Rl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function MU(n,e){return function wte(n,e=Mm){return new tt(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function VA(n,e){return MU(n,e).pipe(ye(t=>({payload:t,type:"query"})))}!function Ete(n){(function vte(n,e){n.INTERNAL.registerComponent(new OF.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},yte)))})(n,(e,t)=>new DU(e,t,new mte)),n.registerVersion("@firebase/firestore-compat","0.3.23")}(Tl.Z);class xU{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:s}=VU(r,t);return new kU(i,s,this.afs)}snapshotChanges(){return function Ite(n,e){return MU(n,e).pipe(qd(void 0),ND(),ye(t=>{const[r,i]=t;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Qi)}valueChanges(e={}){return this.snapshotChanges().pipe(ye(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return x(this.ref.get(e)).pipe(Qi)}}function Nw(n,e){return VA(n,e).pipe(qd(void 0),ND(),ye(t=>{const[r,i]=t,s=i.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,l)=>{const d=s.find(m=>m.doc.ref.isEqual(a.ref)),h=r?.payload.docs.find(m=>m.ref.isEqual(a.ref));d&&JSON.stringify(d.doc.metadata)===JSON.stringify(a.metadata)||!d&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),o}))}function PU(n,e,t){return Nw(n,t).pipe(dm((r,i)=>function bte(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function Cte(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return LA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return LA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return LA(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(s=>s.payload),e),[]),QO(),ye(r=>r.map(i=>({type:i.type,payload:i}))))}function LA(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function NU(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class kU{ref;query;afs;constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=Nw(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(ye(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(qd(void 0),ND(),Wi(([r,i])=>i.length>0||!r),ye(([,r])=>r),Qi)}auditTrail(e){return this.stateChanges(e).pipe(dm((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=NU(e);return PU(this.query,t,this.afs.schedulers.outsideAngular).pipe(Qi)}valueChanges(e={}){return VA(this.query,this.afs.schedulers.outsideAngular).pipe(ye(t=>t.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),Qi)}get(e){return x(this.query.get(e)).pipe(Qi)}add(e){return this.ref.add(e)}doc(e){return new xU(this.ref.doc(e),this.afs)}}class Dte{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Nw(this.query,this.afs.schedulers.outsideAngular).pipe(ye(t=>t.filter(r=>e.indexOf(r.type)>-1)),Wi(t=>t.length>0),Qi):Nw(this.query,this.afs.schedulers.outsideAngular).pipe(Qi)}auditTrail(e){return this.stateChanges(e).pipe(dm((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=NU(e);return PU(this.query,t,this.afs.schedulers.outsideAngular).pipe(Qi)}valueChanges(e={}){return VA(this.query,this.afs.schedulers.outsideAngular).pipe(ye(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),Qi)}get(e){return x(this.query.get(e)).pipe(Qi)}}const OU=new de("angularfire2.enableFirestorePersistence"),FU=new de("angularfire2.firestore.persistenceSettings"),Tte=new de("angularfire2.firestore.settings"),Ste=new de("angularfire2.firestore.use-emulator");function VU(n,e=(t=>t)){return{query:e(n),ref:n}}let BA=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,r,i,s,o,a,l,d,h,m,g,y,E,b,C,k,B){this.schedulers=l;const P=PD(t,a,r),X=h;m&&NF(P,a,g,E,b,C,y,k),[this.firestore,this.persistenceEnabled$]=bF(`${P.name}.firestore`,"AngularFirestore",P.name,()=>{const pe=a.runOutsideAngular(()=>P.firestore());if(s&&pe.settings(s),X&&pe.useEmulator(...X),i&&!bN(o)){const ke=()=>{try{return x(pe.enablePersistence(d||void 0).then(()=>!0,()=>!1))}catch(vt){return typeof console<"u"&&console.warn(vt),Ne(!1)}};return[pe,a.runOutsideAngular(ke)]}return[pe,Ne(!1)]},[s,X,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:o}=VU(i,r),a=this.schedulers.ngZone.run(()=>s);return new kU(a,o,this)}collectionGroup(t,r){const i=r||(o=>o),s=this.firestore.collectionGroup(t);return new Dte(i(s),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new xU(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||n)(Y(cE),Y(uE,8),Y(OU,8),Y(Tte,8),Y(Ud),Y(yt),Y(wF),Y(FU,8),Y(Ste,8),Y(kF,8),Y(SF,8),Y(AF,8),Y(RF,8),Y(MF,8),Y(xF,8),Y(PF,8),Y(vF,8))};static \u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Ate=(()=>{class n{constructor(){Tl.Z.registerVersion("angularfire",xD.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:OU,useValue:!0},{provide:FU,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Vt({type:n});static \u0275inj=Zt({providers:[BA]})}return n})(),yu=(()=>{class n{constructor(t){this.afs=t}addEmployee(t,r,i){return this.afs.collection("employees").add({employeeName:t,priceCategory:r,defintion:i})}getEmployees(){return this.afs.collection("employees",t=>t.orderBy("employeeName")).snapshotChanges()}editEmployee(t,r,i,s){return this.afs.collection("employees").doc(t).ref.update({employeeName:r,priceCategory:i,definition:s})}deleteEmployee(t){return this.afs.collection("employees").doc(t).ref.delete()}getEmployee(t){return this.afs.collection("employees").doc(t).ref.get()}editProduct(t,r,i){return this.afs.collection("products").doc(t).ref.update({productName:r,definition:i})}addNewProduct(t,r,i){return this.afs.collection("products").add({productName:t,size:r,definition:i})}deleteProduct(t){return this.afs.collection("products").doc(t).ref.delete()}getPrices(t){return console.log(t),this.afs.collection("prices").snapshotChanges()}getPriceByCat(t,r){return this.afs.collection("prices",i=>i.where("productId","==",t)).get()}editPrice(t,r,i){return this.afs.collection("prices").doc(t).ref.update({price:r,price2:i})}deletePrice(t){return console.log(t),this.afs.collection("prices").doc(t).ref.delete()}addNewPrice(t,r,i,s,o){return this.afs.collection("prices").add({productId:t,price:r,price2:i,price3:s,comments:o})}getProducts(){return this.afs.collection("products",t=>t.orderBy("productName")).snapshotChanges()}getProducts1(){return this.afs.collection("products").get()}getProduct(t){return this.afs.collection("products").doc(t).ref.get()}addNewEntry(t,r,i,s,o){return this.afs.collection("entries").add({productId:r,employeeId:i,quantity:t,dateAdded:s,definition:o})}getProductById(t){return this.afs.collection("products").doc(t).ref.get()}getEmployeeById(t){return console.log(t),this.afs.collection("employees").doc(t).ref.get()}getEntries(){return this.afs.collection("entries").snapshotChanges()}getEntriesGet(){return this.afs.collection("entries").get()}editEntry(t,r,i,s,o,a){return this.afs.collection("entries").doc(t).ref.update({productId:r,employeeId:i,definition:s,quantity:o,dateAdded:a})}getEntriesCalc(t){return this.afs.collection("entries",r=>r.where("employeeId","==",t)).get()}getPricesCalc(t){return this.afs.collection("prices",r=>r.where("productId","==",t)).get()}getEmployeePriceCat(t){return this.afs.collection("employees").doc(t).ref.get()}getEntry(t){return this.afs.collection("entries").doc(t).ref.get()}deleteEntry(t){return this.afs.collection("entries").doc(t).ref.delete()}GetAssets(){return Ne([{assetId:1,assetName:"Item A",cpuName:"CPU A",hddName:"HDD A"},{assetId:2,assetName:"Item B",cpuName:"CPU B",hddName:"HDD B"},{assetId:3,assetName:"Item C",cpuName:"CPU C",hddName:"HDD C"}])}static#e=this.\u0275fac=function(r){return new(r||n)(Y(BA))};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),LU=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(O(na),O(sn))},n.\u0275dir=ue({type:n}),n})(),vu=(()=>{class n extends LU{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(n)))(r||n)}}(),n.\u0275dir=ue({type:n,features:[Ue]}),n})();const xo=new de("NgValueAccessor"),xte={provide:xo,useExisting:Me(()=>Zl),multi:!0},Nte=new de("CompositionEventMode");let Zl=(()=>{class n extends LU{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Pte(){const n=aa()?aa().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(O(na),O(sn),O(Nte,8))},n.\u0275dir=ue({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&pt("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[ut([xte]),Ue]}),n})();const kte=!1;function Ql(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function UU(n){return null!=n&&"number"==typeof n.length}const ui=new de("NgValidators"),Yl=new de("NgAsyncValidators"),Ote=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class qg{static min(e){return function $U(n){return e=>{if(Ql(e.value)||Ql(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function jU(n){return e=>{if(Ql(e.value)||Ql(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function HU(n){return Ql(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function zU(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function qU(n){return Ql(n.value)||Ote.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function GU(n){return e=>Ql(e.value)||!UU(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function WU(n){return e=>UU(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function KU(n){if(!n)return kw;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Ql(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return e3(e)}static composeAsync(e){return t3(e)}}function kw(n){return null}function ZU(n){return null!=n}function QU(n){const e=jp(n)?x(n):n;if(kte&&!eC(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new I(-1101,t)}return e}function YU(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function XU(n,e){return e.map(t=>t(n))}function JU(n){return n.map(e=>function Fte(n){return!n.validate}(e)?e:t=>e.validate(t))}function e3(n){if(!n)return null;const e=n.filter(ZU);return 0==e.length?null:function(t){return YU(XU(t,e))}}function UA(n){return null!=n?e3(JU(n)):null}function t3(n){if(!n)return null;const e=n.filter(ZU);return 0==e.length?null:function(t){return function Rte(...n){const e=ka(n),{args:t,keys:r}=Vk(n),i=new tt(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,d=o;for(let h=0;h<o;h++){let m=!1;Cn(t[h]).subscribe(_e(s,g=>{m||(m=!0,d--),a[h]=g},()=>l--,void 0,()=>{(!l||!m)&&(d||s.next(r?Lk(r,a):a),s.complete())}))}});return e?i.pipe(q0(e)):i}(XU(t,e).map(QU)).pipe(ye(YU))}}function $A(n){return null!=n?t3(JU(n)):null}function n3(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function r3(n){return n._rawValidators}function s3(n){return n._rawAsyncValidators}function jA(n){return n?Array.isArray(n)?n:[n]:[]}function Ow(n,e){return Array.isArray(n)?n.includes(e):n===e}function o3(n,e){const t=jA(e);return jA(n).forEach(i=>{Ow(t,i)||t.push(i)}),t}function a3(n,e){return jA(e).filter(t=>!Ow(n,t))}class l3{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=UA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$A(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ti extends l3{get formDirective(){return null}get path(){return null}}class Xl extends l3{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class c3{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Eu=(()=>{class n extends c3{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(O(Xl,2))},n.\u0275dir=ue({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&ks("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ue]}),n})(),wu=(()=>{class n extends c3{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(O(Ti,10))},n.\u0275dir=ue({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&ks("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Ue]}),n})();function u3(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const qA=!1,Gg="VALID",Vw="INVALID",ef="PENDING",Wg="DISABLED";function GA(n){return(Lw(n)?n.validators:n)||null}function WA(n,e){return(Lw(e)?e.asyncValidators:n)||null}function Lw(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function d3(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new I(1e3,qA?function Ute(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new I(1001,qA?function $te(n,e){return`Cannot find form control ${u3(n,e)}`}(e,t):"")}function h3(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new I(1002,qA?function jte(n,e){return`Must supply a value for form control ${u3(n,e)}`}(e,i):"")})}class Bw{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Gg}get invalid(){return this.status===Vw}get pending(){return this.status==ef}get disabled(){return this.status===Wg}get enabled(){return this.status!==Wg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(o3(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(o3(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(a3(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(a3(e,this._rawAsyncValidators))}hasValidator(e){return Ow(this._rawValidators,e)}hasAsyncValidator(e){return Ow(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ef,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Wg,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Gg,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gg||this.status===ef)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wg:Gg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ef,this._hasOwnPendingAsyncValidator=!0;const t=QU(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new pn,this.statusChanges=new pn}_calculateStatus(){return this._allControlsDisabled()?Wg:this.errors?Vw:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ef)?ef:this._anyControlsHaveStatus(Vw)?Vw:Gg}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Lw(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Hte(n){return Array.isArray(n)?UA(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function zte(n){return Array.isArray(n)?$A(n):n||null}(this._rawAsyncValidators)}}class Kg extends Bw{constructor(e,t,r){super(GA(t),WA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){h3(this,!0,e),Object.keys(e).forEach(r=>{d3(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class f3 extends Kg{}const Iu=new de("CallSetDisabledState",{providedIn:"root",factory:()=>Zg}),Zg="always";function Qg(n,e,t=Zg){KA(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Gte(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&p3(n,e)})}(n,e),function Kte(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Wte(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&p3(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function qte(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function $w(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Hw(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function jw(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function KA(n,e){const t=r3(n);null!==e.validator?n.setValidators(n3(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=s3(n);null!==e.asyncValidator?n.setAsyncValidators(n3(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();jw(e._rawValidators,i),jw(e._rawAsyncValidators,i)}function Hw(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=r3(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=s3(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return jw(e._rawValidators,r),jw(e._rawAsyncValidators,r),t}function p3(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function _3(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function y3(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Xg=class extends Bw{constructor(e=null,t,r){super(GA(t),WA(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Lw(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=y3(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){_3(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){_3(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){y3(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let bu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ue({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),C3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Vt({type:n}),n.\u0275inj=Zt({}),n})();const JA=new de("NgModelWithFormControlWarning"),lne={provide:Ti,useExisting:Me(()=>Aa)};let Aa=(()=>{class n extends Ti{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new pn,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Hw(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Qg(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){$w(t.control||null,t,!1),function Xte(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function g3(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&($w(r||null,t),(n=>n instanceof Xg)(i)&&(Qg(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function m3(n,e){KA(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Zte(n,e){return Hw(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){KA(this.form,this),this._oldForm&&Hw(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(O(ui,10),O(Yl,10),O(Iu,8))},n.\u0275dir=ue({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&pt("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ut([lne]),Ue,er]}),n})();const dne={provide:Xl,useExisting:Me(()=>Jl)};let Jl=(()=>{class n extends Xl{set isDisabled(t){}constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new pn,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function YA(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Zl?t=s:function Yte(n){return Object.getPrototypeOf(n.constructor)===vu}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){this._added||this._setUpControl(),function QA(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Uw(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(O(Ti,13),O(ui,10),O(Yl,10),O(xo,10),O(JA,8))},n.\u0275dir=ue({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[ut([dne]),Ue,er]}),n})();const hne={provide:xo,useExisting:Me(()=>Ra),multi:!0};function R3(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Ra=(()=>{class n extends vu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=R3(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function fne(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(n)))(r||n)}}(),n.\u0275dir=ue({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&pt("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[ut([hne]),Ue]}),n})(),Cu=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(R3(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(O(sn),O(na),O(Ra,9))},n.\u0275dir=ue({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const pne={provide:xo,useExisting:Me(()=>nR),multi:!0};function M3(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let nR=(()=>{class n extends vu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const d=this._getOptionValue(o[a].value);i.push(d)}}else{const o=r.options;for(let a=0;a<o.length;a++){const l=o[a];if(l.selected){const d=this._getOptionValue(l.value);i.push(d)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function mne(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(n)))(r||n)}}(),n.\u0275dir=ue({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&pt("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[ut([pne]),Ue]}),n})(),Du=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(M3(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(M3(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(O(sn),O(na),O(nR,9))},n.\u0275dir=ue({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),U3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Vt({type:n}),n.\u0275inj=Zt({imports:[C3]}),n})();class $3 extends Bw{constructor(e,t,r){super(GA(t),WA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){h3(this,!1,e),e.forEach((r,i)=>{d3(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function j3(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let tf=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let s={};return j3(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Kg(i,s)}record(t,r=null){const i=this._reduceControls(t);return new f3(i,r)}control(t,r,i){let s={};return this.useNonNullable?(j3(r)?s=r:(s.validators=r,s.asyncValidators=i),new Xg(t,{...s,nonNullable:!0})):new Xg(t,r,i)}array(t,r,i){const s=t.map(o=>this._createControl(o));return new $3(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Xg||t instanceof Bw?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Cne=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Iu,useValue:t.callSetDisabledState??Zg}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Vt({type:n}),n.\u0275inj=Zt({imports:[U3]}),n})(),Dne=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:JA,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Iu,useValue:t.callSetDisabledState??Zg}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Vt({type:n}),n.\u0275inj=Zt({imports:[U3]}),n})();const Tne=["*"],xne=new de("MAT_CARD_CONFIG");let H3=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}}return n.\u0275fac=function(t){return new(t||n)(O(xne,8))},n.\u0275cmp=Qt({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(t,r){2&t&&ks("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:Tne,decls:1,vars:0,template:function(t,r){1&t&&(fl(),Pi(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),z3=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ue({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(t,r){2&t&&ks("mat-mdc-card-actions-align-end","end"===r.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),n})(),zne=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Vt({type:n}),n.\u0275inj=Zt({imports:[xm,c0,xm]}),n})();class qne{}function iR(n){return n&&"function"==typeof n.connect&&!(n instanceof W0)}class q3{applyChanges(e,t,r,i,s){e.forEachOperation((o,a,l)=>{let d,h;if(null==o.previousIndex){const m=r(o,a,l);d=t.createEmbeddedView(m.templateRef,m.context,m.index),h=1}else null==l?(t.remove(a),h=3):(d=t.get(a),t.move(d,l),h=2);s&&s({context:d?.context,operation:h,record:o})})}detach(){}}const Jg=new de("_ViewRepeater"),Gne=["addListener","removeListener"],Wne=["addEventListener","removeEventListener"],Kne=["on","off"];function zw(n,e,t,r){if(w(t)&&(r=t,t=void 0),r)return zw(n,e,t).pipe(q0(r));const[i,s]=function Yne(n){return w(n.addEventListener)&&w(n.removeEventListener)}(n)?Wne.map(o=>a=>n[o](e,a,t)):function Zne(n){return w(n.addListener)&&w(n.removeListener)}(n)?Gne.map(W3(n,e)):function Qne(n){return w(n.on)&&w(n.off)}(n)?Kne.map(W3(n,e)):[];if(!i&&bt(n))return Wt(o=>zw(o,e,t))(Cn(n));if(!i)throw new TypeError("Invalid event target");return new tt(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function W3(n,e){return t=>r=>n[t](e,r)}const e_={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=e_;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new Tt(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=e_;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=e_;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},ere=new class Jne extends tE{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class Xne extends eE{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=e_.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(e_.cancelAnimationFrame(t),e._scheduled=void 0)}});let sR,tre=1;const qw={};function K3(n){return n in qw&&(delete qw[n],!0)}const nre={setImmediate(n){const e=tre++;return qw[e]=!0,sR||(sR=Promise.resolve()),sR.then(()=>K3(e)&&n()),e},clearImmediate(n){K3(n)}},{setImmediate:rre,clearImmediate:ire}=nre,Gw={setImmediate(...n){const{delegate:e}=Gw;return(e?.setImmediate||rre)(...n)},clearImmediate(n){const{delegate:e}=Gw;return(e?.clearImmediate||ire)(n)},delegate:void 0},are=new class ore extends tE{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class sre extends eE{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Gw.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(Gw.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function oR(n,e=Mm){return function lre(n){return z((e,t)=>{let r=!1,i=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const d=i;i=null,t.next(d)}o&&t.complete()},l=()=>{s=null,o&&t.complete()};e.subscribe(_e(t,d=>{r=!0,i=d,s||Cn(n(d)).subscribe(s=_e(t,a,l))},()=>{o=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>function ure(n=0,e,t=LK){let r=-1;return null!=e&&(fi(e)?t=e:r=e),new tt(i=>{let s=function cre(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,e))}const dre=["contentWrapper"],hre=["*"],fre=new de("VIRTUAL_SCROLL_STRATEGY");let aR=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new j,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new tt(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(oR(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ne()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Wi(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=ih(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>zw(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(Y(yt),Y(ga),Y(mn,8))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Z3=(()=>{class n{constructor(t,r,i,s){this.elementRef=t,this.scrollDispatcher=r,this.ngZone=i,this.dir=s,this._destroyed=new j,this._elementScrolled=new tt(o=>this.ngZone.runOutsideAngular(()=>zw(this.elementRef.nativeElement,"scroll").pipe(_a(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=i?t.end:t.start),null==t.right&&(t.right=i?t.start:t.end),null!=t.bottom&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),i&&0!=Am()?(null!=t.left&&(t.right=r.scrollWidth-r.clientWidth-t.left),2==Am()?t.left=t.right:1==Am()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const r=this.elementRef.nativeElement;!function DK(){if(null==qc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return qc=!1,qc;if("scrollBehavior"in document.documentElement.style)qc=!0;else{const n=Element.prototype.scrollTo;qc=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return qc}()?(null!=t.top&&(r.scrollTop=t.top),null!=t.left&&(r.scrollLeft=t.left)):r.scrollTo(t)}measureScrollOffset(t){const r="left",i="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const o=this.dir&&"rtl"==this.dir.value;return"start"==t?t=o?i:r:"end"==t&&(t=o?r:i),o&&2==Am()?t==r?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:o&&1==Am()?t==r?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==r?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(O(sn),O(aR),O(yt),O(sE,8))},n.\u0275dir=ue({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),Q3=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new j,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(oR(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(Y(ga),Y(yt),Y(mn,8))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Y3=new de("VIRTUAL_SCROLLABLE");let gre=(()=>{class n extends Z3{constructor(t,r,i,s){super(t,r,i,s)}measureViewportSize(t){const r=this.elementRef.nativeElement;return"horizontal"===t?r.clientWidth:r.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(O(sn),O(aR),O(yt),O(sE,8))},n.\u0275dir=ue({type:n,features:[Ue]}),n})();const yre=typeof requestAnimationFrame<"u"?ere:are;let vre=(()=>{class n extends gre{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=bl(t)}constructor(t,r,i,s,o,a,l,d){super(t,a,i,o),this.elementRef=t,this._changeDetectorRef=r,this._scrollStrategy=s,this.scrollable=d,this._platform=Ye(ga),this._detachedSubject=new j,this._renderedRangeSubject=new j,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new tt(h=>this._scrollStrategy.scrolledIndexChange.subscribe(m=>Promise.resolve().then(()=>this.ngZone.run(()=>h.next(m))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Tt.EMPTY,this._viewportChanges=l.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(qd(null),oR(0,yre)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(_a(this._detachedSubject)).subscribe(r=>{const i=r.length;i!==this._dataLength&&(this._dataLength=i,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function _re(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,r="to-start"){t=this.appendOnly&&"to-start"===r?0:t;const s="horizontal"==this.orientation,o=s?"X":"Y";let l=`translate${o}(${Number((s&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===r&&(l+=` translate${o}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=l&&(this._renderedContentTransform=l,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,r="auto"){const i={behavior:r};"horizontal"===this.orientation?i.start=t:i.top=t,this.scrollable.scrollTo(i)}scrollToIndex(t,r="auto"){this._scrollStrategy.scrollToIndex(t,r)}measureScrollOffset(t){let r;return r=this.scrollable==this?i=>super.measureScrollOffset(i):i=>this.scrollable.measureScrollOffset(i),Math.max(0,r(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let r;const i="left",s="right",o="rtl"==this.dir?.value;r="start"==t?o?s:i:"end"==t?o?i:s:t||("horizontal"===this.orientation?"left":"top");const a=this.scrollable.measureBoundingClientRectWithScrollOffset(r);return this.elementRef.nativeElement.getBoundingClientRect()[r]-a}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const r of t)r()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(O(sn),O(Nc),O(yt),O(fre,8),O(sE,8),O(aR),O(Q3),O(Y3,8))},n.\u0275cmp=Qt({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,r){if(1&t&&Ni(dre,7),2&t){let i;Tn(i=Sn())&&(r._contentWrapper=i.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,r){2&t&&ks("cdk-virtual-scroll-orientation-horizontal","horizontal"===r.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==r.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[ut([{provide:Z3,useFactory:(e,t)=>e||t,deps:[[new so,new ad(Y3)],n]}]),Ue,fC],ngContentSelectors:hre,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,r){1&t&&(fl(),D(0,"div",0,1),Pi(2),T(),$e(3,"div",2)),2&t&&(oe(3),xc("width",r._totalContentWidth)("height",r._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),X3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Vt({type:n}),n.\u0275inj=Zt({}),n})(),Ere=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Vt({type:n}),n.\u0275inj=Zt({imports:[oE,X3,vre,oE,X3]}),n})();const Ire=[[["caption"]],[["colgroup"],["col"]]],bre=["caption","colgroup, col"];function lR(n){return class extends n{get sticky(){return this._sticky}set sticky(e){const t=this._sticky;this._sticky=bl(e),this._hasStickyChanged=t!==this._sticky}hasStickyChanged(){const e=this._hasStickyChanged;return this._hasStickyChanged=!1,e}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...e){super(...e),this._sticky=!1,this._hasStickyChanged=!1}}}const nf=new de("CDK_TABLE");let rf=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(O(Lr))},n.\u0275dir=ue({type:n,selectors:[["","cdkCellDef",""]]}),n})(),sf=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(O(Lr))},n.\u0275dir=ue({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),Ww=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(O(Lr))},n.\u0275dir=ue({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class Sre{}const Are=lR(Sre);let Ma=(()=>{class n extends Are{get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const r=this._stickyEnd;this._stickyEnd=bl(t),this._hasStickyChanged=r!==this._stickyEnd}constructor(t){super(),this._table=t,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(t){return new(t||n)(O(nf,8))},n.\u0275dir=ue({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,r,i){if(1&t&&(mo(i,rf,5),mo(i,sf,5),mo(i,Ww,5)),2&t){let s;Tn(s=Sn())&&(r.cell=s.first),Tn(s=Sn())&&(r.headerCell=s.first),Tn(s=Sn())&&(r.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[ut([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),Ue]}),n})();class cR{constructor(e,t){t.nativeElement.classList.add(...e._columnCssClassName)}}let uR=(()=>{class n extends cR{constructor(t,r){super(t,r)}}return n.\u0275fac=function(t){return new(t||n)(O(Ma),O(sn))},n.\u0275dir=ue({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[Ue]}),n})(),dR=(()=>{class n extends cR{constructor(t,r){if(super(t,r),1===t._table?._elementRef.nativeElement.nodeType){const i=t._table._elementRef.nativeElement.getAttribute("role");r.nativeElement.setAttribute("role","grid"===i||"treegrid"===i?"gridcell":"cell")}}}return n.\u0275fac=function(t){return new(t||n)(O(Ma),O(sn))},n.\u0275dir=ue({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[Ue]}),n})();class e4{constructor(){this.tasks=[],this.endTasks=[]}}const hR=new de("_COALESCED_STYLE_SCHEDULER");let t4=(()=>{class n{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new j}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new e4,this._getScheduleObservable().pipe(_a(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new e4;for(const r of t.tasks)r();for(const r of t.endTasks)r()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?x(Promise.resolve(void 0)):this._ngZone.onStable.pipe(fa(1))}}return n.\u0275fac=function(t){return new(t||n)(Y(yt))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})(),fR=(()=>{class n{constructor(t,r){this.template=t,this._differs=r}ngOnChanges(t){if(!this._columnsDiffer){const r=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(r).create(),this._columnsDiffer.diff(r)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof t_?t.headerCell.template:this instanceof n_?t.footerCell.template:t.cell.template}}return n.\u0275fac=function(t){return new(t||n)(O(Lr),O(oa))},n.\u0275dir=ue({type:n,features:[er]}),n})();class Rre extends fR{}const Mre=lR(Rre);let t_=(()=>{class n extends Mre{constructor(t,r,i){super(t,r),this._table=i}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(O(Lr),O(oa),O(nf,8))},n.\u0275dir=ue({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[Ue,er]}),n})();class xre extends fR{}const Pre=lR(xre);let n_=(()=>{class n extends Pre{constructor(t,r,i){super(t,r),this._table=i}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(O(Lr),O(oa),O(nf,8))},n.\u0275dir=ue({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[Ue,er]}),n})(),Kw=(()=>{class n extends fR{constructor(t,r,i){super(t,r),this._table=i}}return n.\u0275fac=function(t){return new(t||n)(O(Lr),O(oa),O(nf,8))},n.\u0275dir=ue({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[Ue]}),n})(),xa=(()=>{class n{constructor(t){this._viewContainer=t,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(t){return new(t||n)(O(ri))},n.\u0275dir=ue({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),pR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Qt({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&ho(0,0)},dependencies:[xa],encapsulation:2}),n})(),gR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Qt({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&ho(0,0)},dependencies:[xa],encapsulation:2}),n})(),Zw=(()=>{class n{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(t){return new(t||n)(O(Lr))},n.\u0275dir=ue({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const n4=["top","bottom","left","right"];class Nre{constructor(e,t,r,i,s=!0,o=!0,a){this._isNativeHtmlTable=e,this._stickCellCss=t,this.direction=r,this._coalescedStyleScheduler=i,this._isBrowser=s,this._needsPositionStickyOnElement=o,this._positionListener=a,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(e,t){const r=[];for(const i of e)if(i.nodeType===i.ELEMENT_NODE){r.push(i);for(let s=0;s<i.children.length;s++)r.push(i.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const i of r)this._removeStickyStyle(i,t)})}updateStickyColumns(e,t,r,i=!0){if(!e.length||!this._isBrowser||!t.some(g=>g)&&!r.some(g=>g))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=e[0],o=s.children.length,a=this._getCellWidths(s,i),l=this._getStickyStartColumnPositions(a,t),d=this._getStickyEndColumnPositions(a,r),h=t.lastIndexOf(!0),m=r.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const g="rtl"===this.direction,y=g?"right":"left",E=g?"left":"right";for(const b of e)for(let C=0;C<o;C++){const k=b.children[C];t[C]&&this._addStickyStyle(k,y,l[C],C===h),r[C]&&this._addStickyStyle(k,E,d[C],C===m)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===h?[]:a.slice(0,h+1).map((b,C)=>t[C]?b:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===m?[]:a.slice(m).map((b,C)=>r[C+m]?b:null).reverse()}))})}stickRows(e,t,r){if(!this._isBrowser)return;const i="bottom"===r?e.slice().reverse():e,s="bottom"===r?t.slice().reverse():t,o=[],a=[],l=[];for(let h=0,m=0;h<i.length;h++){if(!s[h])continue;o[h]=m;const g=i[h];l[h]=this._isNativeHtmlTable?Array.from(g.children):[g];const y=g.getBoundingClientRect().height;m+=y,a[h]=y}const d=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let h=0;h<i.length;h++){if(!s[h])continue;const m=o[h],g=h===d;for(const y of l[h])this._addStickyStyle(y,r,m,g)}"top"===r?this._positionListener?.stickyHeaderRowsUpdated({sizes:a,offsets:o,elements:l}):this._positionListener?.stickyFooterRowsUpdated({sizes:a,offsets:o,elements:l})})}updateStickyFooterContainer(e,t){if(!this._isNativeHtmlTable)return;const r=e.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{t.some(i=>!i)?this._removeStickyStyle(r,["bottom"]):this._addStickyStyle(r,"bottom",0,!1)})}_removeStickyStyle(e,t){for(const i of t)e.style[i]="",e.classList.remove(this._borderCellCss[i]);n4.some(i=>-1===t.indexOf(i)&&e.style[i])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,t,r,i){e.classList.add(this._stickCellCss),i&&e.classList.add(this._borderCellCss[t]),e.style[t]=`${r}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){const t={top:100,bottom:10,left:1,right:1};let r=0;for(const i of n4)e.style[i]&&(r+=t[i]);return r?`${r}`:""}_getCellWidths(e,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const r=[],i=e.children;for(let s=0;s<i.length;s++)r.push(i[s].getBoundingClientRect().width);return this._cachedCellWidths=r,r}_getStickyStartColumnPositions(e,t){const r=[];let i=0;for(let s=0;s<e.length;s++)t[s]&&(r[s]=i,i+=e[s]);return r}_getStickyEndColumnPositions(e,t){const r=[];let i=0;for(let s=e.length;s>0;s--)t[s]&&(r[s]=i,i+=e[s]);return r}}const _R=new de("CDK_SPL");let Qw=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(O(ri),O(sn))},n.\u0275dir=ue({type:n,selectors:[["","rowOutlet",""]]}),n})(),Yw=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(O(ri),O(sn))},n.\u0275dir=ue({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),Xw=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(O(ri),O(sn))},n.\u0275dir=ue({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),Jw=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(O(ri),O(sn))},n.\u0275dir=ue({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),eI=(()=>{class n{get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=bl(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=bl(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(t,r,i,s,o,a,l,d,h,m,g,y){this._differs=t,this._changeDetectorRef=r,this._elementRef=i,this._dir=o,this._platform=l,this._viewRepeater=d,this._coalescedStyleScheduler=h,this._viewportRuler=m,this._stickyPositioningListener=g,this._ngZone=y,this._onDestroy=new j,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new pn,this.viewChange=new ii({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=a,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,r)=>this.trackBy?this.trackBy(r.dataIndex,r.data):r),this._viewportRuler.change().pipe(_a(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const r=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||r,this._forceRecalculateCellWidths=r,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),iR(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const r=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,r,(i,s,o)=>this._getEmbeddedViewArgs(i.item,o),i=>i.item.data,i=>{1===i.operation&&i.context&&this._renderCellTemplateForItem(i.record.item.rowDef,i.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(i=>{r.get(i.currentIndex).context.$implicit=i.item.data}),this._updateNoDataRow(),this._ngZone&&yt.isInAngularZone()?this._ngZone.onStable.pipe(fa(1),_a(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),i=this._elementRef.nativeElement.querySelector("thead");i&&(i.style.display=t.length?"":"none");const s=this._headerRowDefs.map(o=>o.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,s,"top"),this._headerRowDefs.forEach(o=>o.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),i=this._elementRef.nativeElement.querySelector("tfoot");i&&(i.style.display=t.length?"":"none");const s=this._footerRowDefs.map(o=>o.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(o=>o.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),r=this._getRenderedRows(this._rowOutlet),i=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...r,...i],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((s,o)=>{this._addStickyColumnStyles([s],this._headerRowDefs[o])}),this._rowDefs.forEach(s=>{const o=[];for(let a=0;a<r.length;a++)this._renderRows[a].rowDef===s&&o.push(r[a]);this._addStickyColumnStyles(o,s)}),i.forEach((s,o)=>{this._addStickyColumnStyles([s],this._footerRowDefs[o])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const t=[],r=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let i=0;i<this._data.length;i++){let s=this._data[i];const o=this._getRenderRowsForData(s,i,r.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let a=0;a<o.length;a++){let l=o[a];const d=this._cachedRenderRowsMap.get(l.data);d.has(l.rowDef)?d.get(l.rowDef).push(l):d.set(l.rowDef,[l]),t.push(l)}}return t}_getRenderRowsForData(t,r,i){return this._getRowDefs(t,r).map(o=>{const a=i&&i.has(o)?i.get(o):[];if(a.length){const l=a.shift();return l.dataIndex=r,l}return{data:t,rowDef:o,dataIndex:r}})}_cacheColumnDefs(){this._columnDefsByName.clear(),tI(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(r=>{this._columnDefsByName.has(r.name),this._columnDefsByName.set(r.name,r)})}_cacheRowDefs(){this._headerRowDefs=tI(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=tI(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=tI(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(r=>!r.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(o,a)=>o||!!a.getColumnsDiff(),r=this._rowDefs.reduce(t,!1);r&&this._forceRenderDataRows();const i=this._headerRowDefs.reduce(t,!1);i&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(t,!1);return s&&this._forceRenderFooterRows(),r||i||s}_switchDataSource(t){this._data=[],iR(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;iR(this.dataSource)?t=this.dataSource.connect(this):function wre(n){return!!n&&(n instanceof tt||w(n.lift)&&w(n.subscribe))}(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=Ne(this.dataSource)),this._renderChangeSubscription=t.pipe(_a(this._onDestroy)).subscribe(r=>{this._data=r||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,r)=>this._renderRow(this._headerRowOutlet,t,r)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,r)=>this._renderRow(this._footerRowOutlet,t,r)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,r){const i=Array.from(r.columns||[]).map(a=>this._columnDefsByName.get(a)),s=i.map(a=>a.sticky),o=i.map(a=>a.stickyEnd);this._stickyStyler.updateStickyColumns(t,s,o,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const r=[];for(let i=0;i<t.viewContainer.length;i++){const s=t.viewContainer.get(i);r.push(s.rootNodes[0])}return r}_getRowDefs(t,r){if(1==this._rowDefs.length)return[this._rowDefs[0]];let i=[];if(this.multiTemplateDataRows)i=this._rowDefs.filter(s=>!s.when||s.when(r,t));else{let s=this._rowDefs.find(o=>o.when&&o.when(r,t))||this._defaultRowDef;s&&i.push(s)}return i}_getEmbeddedViewArgs(t,r){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:r}}_renderRow(t,r,i,s={}){const o=t.viewContainer.createEmbeddedView(r.template,s,i);return this._renderCellTemplateForItem(r,s),o}_renderCellTemplateForItem(t,r){for(let i of this._getCellTemplates(t))xa.mostRecentCellOutlet&&xa.mostRecentCellOutlet._viewContainer.createEmbeddedView(i,r);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let r=0,i=t.length;r<i;r++){const o=t.get(r).context;o.count=i,o.first=0===r,o.last=r===i-1,o.even=r%2==0,o.odd=!o.even,this.multiTemplateDataRows?(o.dataIndex=this._renderRows[r].dataIndex,o.renderIndex=r):o.index=this._renderRows[r].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,r=>{const i=this._columnDefsByName.get(r);return t.extractCellTemplate(i)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),r=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const i of r){const s=this._document.createElement(i.tag);s.setAttribute("role","rowgroup");for(const o of i.outlets)s.appendChild(o.elementRef.nativeElement);t.appendChild(s)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(r,i)=>r||i.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Nre(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Ne()).pipe(_a(this._onDestroy)).subscribe(r=>{this._stickyStyler.direction=r,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(r=>!r._table||r._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(!t)return;const r=0===this._rowOutlet.viewContainer.length;if(r===this._isShowingNoDataRow)return;const i=this._noDataRowOutlet.viewContainer;if(r){const s=i.createEmbeddedView(t.templateRef),o=s.rootNodes[0];1===s.rootNodes.length&&o?.nodeType===this._document.ELEMENT_NODE&&(o.setAttribute("role","row"),o.classList.add(t._contentClassName))}else i.clear();this._isShowingNoDataRow=r}}return n.\u0275fac=function(t){return new(t||n)(O(oa),O(Nc),O(sn),function Wo(n){return function Kf(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(Ku(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(Pn(),n)}("role"),O(sE,8),O(mn),O(ga),O(Jg),O(hR),O(Q3),O(_R,12),O(yt,8))},n.\u0275cmp=Qt({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,r,i){if(1&t&&(mo(i,Zw,5),mo(i,Ma,5),mo(i,Kw,5),mo(i,t_,5),mo(i,n_,5)),2&t){let s;Tn(s=Sn())&&(r._noDataRow=s.first),Tn(s=Sn())&&(r._contentColumnDefs=s),Tn(s=Sn())&&(r._contentRowDefs=s),Tn(s=Sn())&&(r._contentHeaderRowDefs=s),Tn(s=Sn())&&(r._contentFooterRowDefs=s)}},viewQuery:function(t,r){if(1&t&&(Ni(Qw,7),Ni(Yw,7),Ni(Xw,7),Ni(Jw,7)),2&t){let i;Tn(i=Sn())&&(r._rowOutlet=i.first),Tn(i=Sn())&&(r._headerRowOutlet=i.first),Tn(i=Sn())&&(r._footerRowOutlet=i.first),Tn(i=Sn())&&(r._noDataRowOutlet=i.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,r){2&t&&ks("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[ut([{provide:nf,useExisting:n},{provide:Jg,useClass:q3},{provide:hR,useClass:t4},{provide:_R,useValue:null}])],ngContentSelectors:bre,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,r){1&t&&(fl(Ire),Pi(0),Pi(1,1),ho(2,0)(3,1)(4,2)(5,3))},dependencies:[Qw,Yw,Xw,Jw],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function tI(n,e){return n.concat(Array.from(e))}let Ore=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Vt({type:n}),n.\u0275inj=Zt({imports:[Ere]}),n})();const Fre=[[["caption"]],[["colgroup"],["col"]]],Vre=["caption","colgroup, col"];let nI=(()=>{class n extends eI{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(n)))(r||n)}}(),n.\u0275cmp=Qt({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(t,r){2&t&&ks("mdc-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],features:[ut([{provide:eI,useExisting:n},{provide:nf,useExisting:n},{provide:hR,useClass:t4},{provide:Jg,useClass:q3},{provide:_R,useValue:null}]),Ue],ngContentSelectors:Vre,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,r){1&t&&(fl(Fre),Pi(0),Pi(1,1),ho(2,0)(3,1)(4,2)(5,3))},dependencies:[Qw,Yw,Xw,Jw],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child .mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2}),n})(),r_=(()=>{class n extends rf{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(n)))(r||n)}}(),n.\u0275dir=ue({type:n,selectors:[["","matCellDef",""]],features:[ut([{provide:rf,useExisting:n}]),Ue]}),n})(),i_=(()=>{class n extends sf{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(n)))(r||n)}}(),n.\u0275dir=ue({type:n,selectors:[["","matHeaderCellDef",""]],features:[ut([{provide:sf,useExisting:n}]),Ue]}),n})(),s_=(()=>{class n extends Ma{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(n)))(r||n)}}(),n.\u0275dir=ue({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[ut([{provide:Ma,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),Ue]}),n})(),o_=(()=>{class n extends uR{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(n)))(r||n)}}(),n.\u0275dir=ue({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[Ue]}),n})(),a_=(()=>{class n extends dR{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(n)))(r||n)}}(),n.\u0275dir=ue({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[Ue]}),n})(),rI=(()=>{class n extends t_{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(n)))(r||n)}}(),n.\u0275dir=ue({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[ut([{provide:t_,useExisting:n}]),Ue]}),n})(),iI=(()=>{class n extends Kw{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(n)))(r||n)}}(),n.\u0275dir=ue({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[ut([{provide:Kw,useExisting:n}]),Ue]}),n})(),sI=(()=>{class n extends pR{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(n)))(r||n)}}(),n.\u0275cmp=Qt({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[ut([{provide:pR,useExisting:n}]),Ue],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&ho(0,0)},dependencies:[xa],encapsulation:2}),n})(),oI=(()=>{class n extends gR{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(n)))(r||n)}}(),n.\u0275cmp=Qt({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[ut([{provide:gR,useExisting:n}]),Ue],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&ho(0,0)},dependencies:[xa],encapsulation:2}),n})(),Wre=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Vt({type:n}),n.\u0275inj=Zt({imports:[xm,Ore,xm]}),n})();class Zre extends qne{get data(){return this._data.value}set data(e){e=Array.isArray(e)?e:[],this._data.next(e),this._renderChangesSubscription||this._filterData(e)}get filter(){return this._filter.value}set filter(e){this._filter.next(e),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(e){this._sort=e,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(e){this._paginator=e,this._updateChangeSubscription()}constructor(e=[]){super(),this._renderData=new ii([]),this._filter=new ii(""),this._internalPageChanges=new j,this._renderChangesSubscription=null,this.sortingDataAccessor=(t,r)=>{const i=t[r];if(function YO(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(i)){const s=Number(i);return s<9007199254740991?s:i}return i},this.sortData=(t,r)=>{const i=r.active,s=r.direction;return i&&""!=s?t.sort((o,a)=>{let l=this.sortingDataAccessor(o,i),d=this.sortingDataAccessor(a,i);const h=typeof l,m=typeof d;h!==m&&("number"===h&&(l+=""),"number"===m&&(d+=""));let g=0;return null!=l&&null!=d?l>d?g=1:l<d&&(g=-1):null!=l?g=1:null!=d&&(g=-1),g*("asc"==s?1:-1)}):t},this.filterPredicate=(t,r)=>{const i=Object.keys(t).reduce((o,a)=>o+t[a]+"\u25ec","").toLowerCase(),s=r.trim().toLowerCase();return-1!=i.indexOf(s)},this._data=new ii(e),this._updateChangeSubscription()}_updateChangeSubscription(){const e=this._sort?W(this._sort.sortChange,this._sort.initialized):Ne(null),t=this._paginator?W(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Ne(null),i=zd([this._data,this._filter]).pipe(ye(([a])=>this._filterData(a))),s=zd([i,e]).pipe(ye(([a])=>this._orderData(a))),o=zd([s,t]).pipe(ye(([a])=>this._pageData(a)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=o.subscribe(a=>this._renderData.next(a))}_filterData(e){return this.filteredData=null==this.filter||""===this.filter?e:e.filter(t=>this.filterPredicate(t,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(e){return this.sort?this.sortData(e.slice(),this.sort):e}_pageData(e){if(!this.paginator)return e;const t=this.paginator.pageIndex*this.paginator.pageSize;return e.slice(t,t+this.paginator.pageSize)}_updatePaginator(e){Promise.resolve().then(()=>{const t=this.paginator;if(t&&(t.length=e,t.pageIndex>0)){const r=Math.ceil(t.length/t.pageSize)-1||0,i=Math.min(t.pageIndex,r);i!==t.pageIndex&&(t.pageIndex=i,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class i4 extends Zre{}function Qre(n,e){if(1&n&&(D(0,"option",50),N(1),T()),2&n){const t=e.$implicit;Rc("value",t.docId),oe(1),Nn(" ",t.data.employeeName," ")}}function Yre(n,e){1&n&&(D(0,"th",51),N(1,"Date"),T())}function Xre(n,e){if(1&n&&(D(0,"td",52),N(1),T()),2&n){const t=e.$implicit;oe(1),ni(t.date)}}function Jre(n,e){1&n&&(D(0,"th",51),N(1,"Product"),T())}function eie(n,e){if(1&n&&(D(0,"td",52),N(1),T()),2&n){const t=e.$implicit;oe(1),ni(t.productName)}}function tie(n,e){1&n&&(D(0,"th",51),N(1,"Quantity"),T())}function nie(n,e){if(1&n&&(D(0,"td",52),N(1),T()),2&n){const t=e.$implicit;oe(1),ni(t.quantity)}}function rie(n,e){1&n&&(D(0,"th",51),N(1,"Rate"),T())}function iie(n,e){if(1&n&&(D(0,"td",52),N(1),T()),2&n){const t=e.$implicit;oe(1),ni(t.rate)}}function sie(n,e){1&n&&(D(0,"th",51),N(1,"Row Total"),T())}function oie(n,e){if(1&n&&(D(0,"td",52),N(1),mC(2,"number"),T()),2&n){const t=e.$implicit;oe(1),ni(gC(2,1,t.rowTotal))}}function aie(n,e){1&n&&$e(0,"tr",53)}function lie(n,e){1&n&&$e(0,"tr",54)}let cie=(()=>{class n{constructor(t,r){this.contService=t,this.fb=r,this.displayedColumns=["date","productName","quantity","rate","rowTotal"],this.success=!1,this.entries=[],this.employees=[],this.sorted=[],this.finalPrices=[],this.totalCalc=0,this.prices=[],this.finalData=[],this.dataAvailable=!1}ngOnInit(){this.getEmployees(),this.initializeFormGroup()}initializeFormGroup(){const t=new Date;this.thisMonth=("0"+(t.getMonth()+1)).toString().slice(-2),this.thisYear=t.getFullYear().toString(),this.fg=this.fb.group({selectedMonth:[this.thisMonth],selectedYear:[this.thisYear],employeeId:[""],consolidated:[""]})}getEmployees(){this.employees=[],this.contService.getEmployees().subscribe(t=>{this.employees=t.map(r=>({employeeName:r.payload.doc.data().employeeName,data:r.payload.doc.data(),docId:r.payload.doc.id,definition:r.payload.doc.data().definition}))})}getPrices(t){this.prices=[],this.finalPrices=[],this.contService.getPrices(t).subscribe(r=>{r.forEach(i=>{this.finalPrices.push({employeeId:i.payload.doc.data().employeeId,productId:i.payload.doc.data().productId,price:i.payload.doc.data().price,price2:i.payload.doc.data().price2,price3:i.payload.doc.data().price3,comments:i.payload.doc.data().comments})}),this.createFinalData()})}getEntries(){let t;this.entries=[],this.finalEntries=[],this.finalData=[],this.totalCalc=0;const r=this.fg.get("selectedMonth")?.value,i=this.fg.get("selectedYear")?.value,s=this.fg.get("employeeId")?.value;if(!r||!i||!s)return void console.error("selectedMonth, selectedYear, or employeeId is null");const o=`${r}/${i}`;this.contService.getEmployeePriceCat(s).then(a=>{if(a&&a.data&&"function"==typeof a.data){const l=a.data().priceCategory;this.priceCategory.push(l),this.contService.getEntriesCalc(s).subscribe(d=>{const h=[];d.forEach(m=>{h.push(m.data())}),h.forEach(m=>{t=m.dateAdded.substring(3,10),t===o&&this.finalEntries.push(m)}),this.createArray(this.finalEntries,l)})}else console.error("arg1 or arg1.data() is null")})}createConsolidatedArray(t,r){}createArray(t,r){}createFinalData(){console.log(this.dataSource)}static#e=this.\u0275fac=function(r){return new(r||n)(O(yu),O(tf))};static#t=this.\u0275cmp=Qt({type:n,selectors:[["app-calculate"]],viewQuery:function(r,i){if(1&r&&Ni(Cl,5),2&r){let s;Tn(s=Sn())&&(i.matSort=s.first)}},decls:98,vars:9,consts:[[1,"container"],[1,"heading"],["name","productForm",1,"form-inline","mt-2","mt-md-0",3,"formGroup","ngSubmit"],["formControlName","selectedMonth",2,"padding","3px"],["value","01"],["value","02"],["value","03"],["value","04"],["value","05"],["value","06"],["value","07"],["value","08"],["value","09"],["value","10"],["value","11"],["value","12"],["formControlName","selectedYear",2,"padding","3px"],["value","2022"],["value","2023"],["value","2024"],["value","2025"],["value","2026"],["value","2027"],["value","2028"],["value","2029"],["value","2030"],["value","2031"],["value","2032"],["value","2033"],["value","2034"],["value","2035"],["value","2036"],["value","2037"],["value","2038"],["formControlName","employeeId",1,"form-select",2,"padding","3px","margin-top","8px"],[3,"selected"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","type","submit","color","warn",2,"margin-left","8px"],[1,"container",2,"align-content","center"],["mat-table","","matSort","",1,"mat-elevation-z8",2,"width","100%",3,"dataSource"],["matColumnDef","date"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","productName"],["matColumnDef","quantity"],["matColumnDef","rate"],["matColumnDef","rowTotal"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[2,"background-color","rgb(250, 226, 119)"],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(r,i){1&r&&(D(0,"div",0)(1,"div",1),N(2,"Choose date and employee"),T(),D(3,"form",2),pt("ngSubmit",function(){return i.getEntries()}),D(4,"mat-card")(5,"select",3)(6,"option",4),N(7,"January"),T(),D(8,"option",5),N(9,"February"),T(),D(10,"option",6),N(11,"March"),T(),D(12,"option",7),N(13,"April"),T(),D(14,"option",8),N(15,"May"),T(),D(16,"option",9),N(17,"June"),T(),D(18,"option",10),N(19,"July"),T(),D(20,"option",11),N(21,"August"),T(),D(22,"option",12),N(23,"September"),T(),D(24,"option",13),N(25,"October"),T(),D(26,"option",14),N(27,"November"),T(),D(28,"option",15),N(29,"December"),T()(),N(30," \xa0 \xa0 "),D(31,"select",16)(32,"option",17),N(33,"2022"),T(),D(34,"option",18),N(35,"2023"),T(),D(36,"option",19),N(37,"2024"),T(),D(38,"option",20),N(39,"2025"),T(),D(40,"option",21),N(41,"2026"),T(),D(42,"option",22),N(43,"2027"),T(),D(44,"option",23),N(45,"2028"),T(),D(46,"option",24),N(47,"2029"),T(),D(48,"option",25),N(49,"2030"),T(),D(50,"option",26),N(51,"2031"),T(),D(52,"option",27),N(53,"2032"),T(),D(54,"option",28),N(55,"2033"),T(),D(56,"option",29),N(57,"2034"),T(),D(58,"option",30),N(59,"2035"),T(),D(60,"option",31),N(61,"2036"),T(),D(62,"option",32),N(63,"2037"),T(),D(64,"option",33),N(65,"2038"),T()(),D(66,"select",34)(67,"option",35),N(68,"Select employee"),T(),Pe(69,Qre,2,2,"option",36),T(),D(70,"mat-card-actions")(71,"button",37),N(72,"Get records"),T()()()(),$e(73,"br"),D(74,"div",38)(75,"table",39),nr(76,40),Pe(77,Yre,2,0,"th",41),Pe(78,Xre,2,1,"td",42),rr(),nr(79,43),Pe(80,Jre,2,0,"th",41),Pe(81,eie,2,1,"td",42),rr(),nr(82,44),Pe(83,tie,2,0,"th",41),Pe(84,nie,2,1,"td",42),rr(),nr(85,45),Pe(86,rie,2,0,"th",41),Pe(87,iie,2,1,"td",42),rr(),nr(88,46),Pe(89,sie,2,0,"th",41),Pe(90,oie,3,3,"td",42),rr(),Pe(91,aie,1,0,"tr",47),Pe(92,lie,1,0,"tr",48),T(),D(93,"mat-card",49)(94,"mat-card-actions")(95,"b"),N(96),mC(97,"number"),T()()()()()),2&r&&(oe(3),me("formGroup",i.fg),oe(64),me("selected",!0),oe(2),me("ngForOf",i.employees),oe(6),me("dataSource",i.dataSource),oe(16),me("matHeaderRowDef",i.displayedColumns),oe(1),me("matRowDefColumns",i.displayedColumns),oe(4),Nn(" Total: ",gC(97,7,i.totalCalc),""))},dependencies:[Fc,bu,Cu,Du,Ra,Eu,wu,Aa,Jl,H3,z3,nI,i_,rI,s_,r_,iI,o_,a_,sI,oI,Cl,MD,wN]})}return n})();function uie(n,e){1&n&&(D(0,"div",21),N(1,"Employee successfully added!"),T())}function die(n,e){if(1&n){const t=Ns();D(0,"div",22)(1,"form",2),pt("ngSubmit",function(){return wn(t),xn(Lt().editEmployee())}),D(2,"table")(3,"tr")(4,"th"),N(5,"Employee Name"),T(),D(6,"th"),N(7,"Price Category"),T(),D(8,"th"),N(9,"Definition"),T()(),D(10,"tr"),$e(11,"input",23),D(12,"td"),$e(13,"input",24),T(),D(14,"td")(15,"select",25)(16,"option",6),N(17,"1"),T(),D(18,"option",7),N(19,"2"),T(),D(20,"option",8),N(21,"3"),T(),D(22,"option",9),N(23,"4"),T()()(),D(24,"td"),$e(25,"input",26),T()(),D(26,"tr")(27,"td")(28,"tr")(29,"td"),$e(30,"input",27),T(),D(31,"td")(32,"input",28),pt("click",function(){return wn(t),xn(Lt().editEmployeeForm=!1)}),T()()()()()()()()}if(2&n){const t=Lt();oe(1),me("formGroup",t.fEdit)}}function hie(n,e){if(1&n){const t=Ns();D(0,"tr",29)(1,"td",30)(2,"span",31),N(3),T()(),D(4,"td",32),N(5),T(),D(6,"td")(7,"input",33),pt("click",function(){const s=wn(t).$implicit;return xn(Lt().preEditEmployee(s.docId,s.data.employeeName,s.data.priceCategory,s.data.definition))}),T(),D(8,"input",34),pt("click",function(){const s=wn(t).$implicit;return xn(Lt().deleteEmployee(s.docId))}),T()()()}if(2&n){const t=e.$implicit;oe(3),Nn(" ",t.data.employeeName,""),oe(2),Nn(" ",t.data.priceCategory," ")}}let fie=(()=>{class n{constructor(t,r){this.contService=t,this.fb=r,this.success=!1,this.employees=[],this.sorted=[],this.editSuccess=!1,this.editEmployeeForm=!1,this.deleteSuccess=!1}ngOnInit(){this.getEmployees(),this.fg=this.fb.group({employeeName:["",qg.required],priceCategory:["",qg.required],definition:[""]})}addNewEmployee(){const t=this.fg.get("employeeName"),r=this.fg.get("definition"),i=this.fg.get("priceCategory");t&&r&&i&&this.contService.addEmployee(t.value,i.value,r.value).then(l=>{this.success=!0})}preEditEmployee(t,r,i,s){this.fEdit=this.fb.group({employeeId:t,employeeName:r,definition:s,priceCategory:i}),this.editEmployeeForm=!0}editEmployee(){const t=this.fEdit.get("employeeId"),r=this.fEdit.get("employeeName"),i=this.fEdit.get("priceCategory"),s=this.fEdit.get("definition");t&&r&&i&&s&&this.contService.editEmployee(t.value,r.value,i.value,s.value).then(h=>{this.editSuccess=!0,this.editEmployeeForm=!1})}deleteEmployee(t){confirm("Sure to delete?")&&this.contService.deleteEmployee(t).then(i=>{this.deleteSuccess=!0})}getEmployees(){this.employees=[],this.contService.getEmployees().subscribe(t=>{t.forEach(r=>{this.employees.push({employeeName:r.payload.doc.data().employeeName,data:r.payload.doc.data(),docId:r.payload.doc.id,definition:r.payload.doc.data().definition})})})}static#e=this.\u0275fac=function(r){return new(r||n)(O(yu),O(tf))};static#t=this.\u0275cmp=Qt({type:n,selectors:[["app-employee-master"]],viewQuery:function(r,i){if(1&r&&Ni(Cl,5),2&r){let s;Tn(s=Sn())&&(i.sort=s.first)}},decls:36,vars:5,consts:[[1,"container"],[1,"heading"],["name","productForm",1,"form-inline","mt-2","mt-md-0",3,"formGroup","ngSubmit"],["type","text","formControlName","employeeName","placeholder","Employee Name",1,"form-control",2,"width","300px","padding","3px","margin","3px"],["formControlName","priceCategory",1,"form-control",2,"width","300px","padding","3px","margin","3px"],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],["type","text","formControlName","definition","placeholder","Definition",1,"form-control",2,"width","300px","padding","3px","margin","3px"],[2,"text-align","right","margin-top","5px","width","312px"],["type","submit","name","btn","value","Add",3,"disabled"],["class","notifier",4,"ngIf"],["class","container","style","background-color: whitesmoke;",4,"ngIf"],[1,"container",2,"background-color","rgb(235, 231, 231)","padding","1px","border-radius","8px"],[1,"table-heading",2,"width","100%","padding","3px","background-color","rgb(163, 159, 159)"],[2,"border","0px solid gray","background-color","lightgray","color","rgb(77, 75, 75)","padding","3px"],["width","250px"],[1,"ml-3"],["style","color:rgb(39, 39, 39); border-bottom: 1px solid rgb(136, 134, 134); padding: 3px; background-color: white;",4,"ngFor","ngForOf"],[1,"notifier"],[1,"container",2,"background-color","whitesmoke"],["type","hidden","formControlName","employeeId",1,"form-control",2,"width","100px","padding","3px","margin","3px"],["type","text","formControlName","employeeName",1,"form-control",2,"width","400px","padding","3px","margin","3px"],["formControlName","priceCategory",1,"form-control"],["type","text","formControlName","definition",1,"form-control",2,"width","100px","padding","3px","margin","3px"],["type","submit","name","btn","value","Submit",1,"nice-button",2,"margin-left","5px"],["type","button","name","btn","value","Cancel",1,"nice-button",2,"margin-left","5px","background-color","red","border","1px solid rgb(77, 5, 5)","padding","3px","color","snow",3,"click"],[2,"color","rgb(39, 39, 39)","border-bottom","1px solid rgb(136, 134, 134)","padding","3px","background-color","white"],["width","250px",2,"margin-left","3px"],[2,"margin-left","3px"],["width","150px"],["type","button","value","Edit",1,"nice-button",3,"click"],["type","button","value","Delete",1,"nice-button",3,"click"]],template:function(r,i){1&r&&(D(0,"div",0)(1,"div",1),N(2,"Add new Employee"),T(),D(3,"form",2),pt("ngSubmit",function(){return i.addNewEmployee()}),$e(4,"input",3),D(5,"select",4)(6,"option",5),N(7,"Select price category"),T(),D(8,"option",6),N(9,"1"),T(),D(10,"option",7),N(11,"2"),T(),D(12,"option",8),N(13,"3"),T(),D(14,"option",9),N(15,"4"),T()(),$e(16,"input",10),D(17,"div",11),$e(18,"input",12),T()(),Pe(19,uie,2,0,"div",13),T(),$e(20,"br"),Pe(21,die,33,1,"div",14),$e(22,"br"),D(23,"div",15)(24,"div",1),N(25,"Existing Employees "),T(),D(26,"table",16)(27,"tr",17)(28,"th",18),N(29," Name "),T(),D(30,"th"),N(31," Price Category "),T(),D(32,"th",19),N(33," Actions "),T()(),Pe(34,hie,9,2,"tr",20),T()(),$e(35,"br")),2&r&&(oe(3),me("formGroup",i.fg),oe(15),me("disabled",!i.fg.valid),oe(1),me("ngIf",i.success),oe(2),me("ngIf",i.editEmployeeForm),oe(13),me("ngForOf",i.employees))},dependencies:[Fc,Vc,bu,Cu,Du,Zl,Ra,Eu,wu,Aa,Jl]})}return n})();function pie(n,e){if(1&n&&(D(0,"option",49),N(1),T()),2&n){const t=e.$implicit;me("value",t.docId),oe(1),Nn(" ",t.data.employeeName," ")}}function mie(n,e){if(1&n&&(D(0,"option",49),N(1),T()),2&n){const t=e.$implicit;me("value",t.docId),oe(1),Nn(" ",t.data.productName," ")}}function gie(n,e){1&n&&(D(0,"div",50),N(1,"Loading..."),T())}function _ie(n,e){if(1&n){const t=Ns();D(0,"div",51),N(1," Entry successfully added! "),D(2,"button",52),pt("click",function(){return wn(t),xn(Lt().addNew())}),N(3,"Add new"),T()()}}function yie(n,e){1&n&&(D(0,"th",53),N(1,"Date"),T())}function vie(n,e){if(1&n&&(D(0,"td",54),N(1),T()),2&n){const t=e.$implicit;oe(1),ni(t.dateAdded)}}function Eie(n,e){1&n&&(D(0,"th",53),N(1,"Employee Name"),T())}function wie(n,e){if(1&n&&(D(0,"td",54),N(1),T()),2&n){const t=e.$implicit;oe(1),ni(t.employeeName)}}function Iie(n,e){1&n&&(D(0,"th",53),N(1,"Product"),T())}function bie(n,e){if(1&n&&(D(0,"td",54),N(1),T()),2&n){const t=e.$implicit;oe(1),ni(t.productName)}}function Cie(n,e){1&n&&(D(0,"th",53),N(1,"Quantity"),T())}function Die(n,e){if(1&n&&(D(0,"td",54),N(1),T()),2&n){const t=e.$implicit;oe(1),ni(t.quantity)}}function Tie(n,e){1&n&&$e(0,"tr",55)}function Sie(n,e){1&n&&$e(0,"tr",56)}let Aie=(()=>{class n{constructor(t,r){this.contService=t,this.fb=r,this.success=!1,this.entries=[],this.finalEnteries=[],this.products=[],this.employees=[],this.finalDatas=[],this.displayedColumns=["dateAdded","employeeName","productName","quantity"],this.preDataSource=[],this.loading=!1}ngOnInit(){this.dataSource&&(this.dataSource.sort=this.matSort),this.employees=[],this.getEmployees(),this.getProducts(),this.initializeForm(),this.selectedMonth=this.formatDateComponent(new Date,"MM"),this.selectedYear=this.formatDateComponent(new Date,"yy"),this.getEntries()}initializeForm(){const r=new Date((new Date).getTime()-864e5),i=this.formatDateComponent(r,"dd/MM/yyyy");this.fg=this.fb.group({quantity:["",[qg.required,qg.pattern("[0-9]+")]],definition:[""],productId:["0"],employeeId:["0"],dateAdded:i})}getEntries(t,r){this.contService.getEntriesGet().subscribe(i=>{this.finalEnteries=i.docs.map(s=>s.data()),this.createFinalData()})}createFinalData(t,r){this.finalDatas=this.finalEnteries.filter(i=>i.dateAdded).filter(i=>{const s=i.dateAdded.substring(3,5),o=i.dateAdded.substring(8,10);return this.dateMonthFromDB=s+"/"+o,this.dateMonthRequired=this.selectedMonth+"/"+this.selectedYear,this.dateMonthFromDB===this.dateMonthRequired}).map(i=>(this.quantity=i.quantity,this.dateAddedFromDB=i.dateAdded,this.productId=this.getProductById(i.productId),this.employeeId=i.id,{productName:this.productName,employeeName:this.employeeName,quantity:this.quantity,dateAdded:this.dateAddedFromDB,productId:this.productId,employeeId:this.employeeId})),this.dataSource=new i4(this.finalDatas),this.dataSource.sort=this.matSort}getEmployeeById(t){}formatDateComponent(t,r){return ZC(t,r,"en-US")}changeMonth(t){this.selectedMonth=t,this.getEntries(this.selectedMonth,this.selectedYear)}changeYear(t){this.selectedYear=t,this.getEntries(this.selectedMonth,this.selectedYear)}getProducts(){this.contService.getProducts().subscribe(t=>{this.products=t.map(r=>({data:r.payload.doc.data(),docId:r.payload.doc.id}))})}getEmployees(){this.contService.getEmployees().subscribe(t=>{this.employees=t.map(r=>({data:r.payload.doc.data(),docId:r.payload.doc.id}))})}addNewEntry(){this.loading=!0;const t=this.fg.get("quantity")?.value,r=this.fg.get("definition")?.value,i=this.fg.get("productId")?.value,s=this.fg.get("employeeId")?.value,o=this.fg.get("dateAdded")?.value;this.contService.addNewEntry(t,i,s,o,r).then(()=>{this.success=!0,this.fg.disable(),this.entries=[],this.loading=!1})}addNew(){this.success=!1,this.fg.enable()}getEmployee(t){const r=this.employees.find(i=>i.docId===t);this.employeeName=r?r.data.employeeName:""}getProductById(t){const r=this.products.find(i=>i.docId===t);return r?r.data.productName:""}ngAfterViewInit(){this.dataSource&&(this.dataSource.sort=this.matSort)}static#e=this.\u0275fac=function(r){return new(r||n)(O(yu),O(tf))};static#t=this.\u0275cmp=Qt({type:n,selectors:[["app-entries"]],viewQuery:function(r,i){if(1&r&&Ni(Cl,5),2&r){let s;Tn(s=Sn())&&(i.matSort=s.first)}},decls:86,vars:32,consts:[[1,"container"],[1,"heading"],["name","productForm",1,"form-inline","mt-2","mt-md-0",3,"formGroup","ngSubmit"],["type","text","formControlName","dateAdded",1,"form-control",2,"width","100px","padding","3px","margin","3px"],["formControlName","employeeId",1,"form-select"],["value","0"],[3,"value",4,"ngFor","ngForOf"],["formControlName","productId",1,"form-select"],["type","text","formControlName","quantity","placeholder","Quantity",1,"form-control",2,"width","100px","padding","3px","margin","3px"],["type","text","formControlName","definition","placeholder","Definition",1,"form-control",2,"width","300px","padding","3px","margin","3px"],[2,"text-align","right","margin-top","5px","width","312px"],["type","submit","name","btn","value","Add",3,"disabled"],["class","loader",4,"ngIf"],["class","notifier",4,"ngIf"],[1,"heading","ml-5;","width:100%"],["id","month",2,"padding","3px","margin-left","10px",3,"change"],["value","20",3,"selected"],["value","21",3,"selected"],["value","22",3,"selected"],["value","23",3,"selected"],["value","24",3,"selected"],["value","25",3,"selected"],["value","26",3,"selected"],["value","27",3,"selected"],["value","28",3,"selected"],["value","29",3,"selected"],["value","30",3,"selected"],["value","31",3,"selected"],["id","year",2,"padding","3px","margin-left","10px",3,"change"],["value","02",3,"selected"],["value","03",3,"selected"],["value","04",3,"selected"],["value","05",3,"selected"],["value","06",3,"selected"],["value","07",3,"selected"],["value","08",3,"selected"],["value","09",3,"selected"],["value","10",3,"selected"],["value","11",3,"selected"],["value","12",3,"selected"],["mat-table","","matSort","",1,"mat-elevation-z8",2,"width","100%",3,"dataSource"],["matColumnDef","dateAdded"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","employeeName"],["matColumnDef","productName"],["matColumnDef","quantity"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"value"],[1,"loader"],[1,"notifier"],[1,"nice-button","btn","btn-success",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(r,i){1&r&&(D(0,"div",0)(1,"div",1),N(2,"Add new Entry"),T(),D(3,"form",2),pt("ngSubmit",function(){return i.addNewEntry()}),$e(4,"input",3),D(5,"select",4)(6,"option",5),N(7,"Select Employee"),T(),Pe(8,pie,2,2,"option",6),T(),D(9,"select",7)(10,"option",5),N(11,"Select Product"),T(),Pe(12,mie,2,2,"option",6),T(),$e(13,"input",8)(14,"input",9),D(15,"div",10),$e(16,"input",11),T()(),Pe(17,gie,2,0,"div",12),Pe(18,_ie,4,0,"div",13),T(),$e(19,"br"),D(20,"div",0)(21,"div",14),N(22," Existing Entries "),D(23,"select",15),pt("change",function(o){return i.changeMonth(o)}),D(24,"option",16),N(25,"2020"),T(),D(26,"option",17),N(27,"2021"),T(),D(28,"option",18),N(29,"2022"),T(),D(30,"option",19),N(31,"2023"),T(),D(32,"option",20),N(33,"2024"),T(),D(34,"option",21),N(35,"2025"),T(),D(36,"option",22),N(37,"2026"),T(),D(38,"option",23),N(39,"2027"),T(),D(40,"option",24),N(41,"2028"),T(),D(42,"option",25),N(43,"2029"),T(),D(44,"option",26),N(45,"2030"),T(),D(46,"option",27),N(47,"2031"),T()(),D(48,"select",28),pt("change",function(o){return i.changeYear(o)}),D(49,"option",29),N(50,"February"),T(),D(51,"option",30),N(52,"March"),T(),D(53,"option",31),N(54,"April"),T(),D(55,"option",32),N(56,"May"),T(),D(57,"option",33),N(58,"June"),T(),D(59,"option",34),N(60,"July"),T(),D(61,"option",35),N(62,"August"),T(),D(63,"option",36),N(64,"September"),T(),D(65,"option",37),N(66,"October"),T(),D(67,"option",38),N(68,"November"),T(),D(69,"option",39),N(70,"December"),T()()(),D(71,"table",40),nr(72,41),Pe(73,yie,2,0,"th",42),Pe(74,vie,2,1,"td",43),rr(),nr(75,44),Pe(76,Eie,2,0,"th",42),Pe(77,wie,2,1,"td",43),rr(),nr(78,45),Pe(79,Iie,2,0,"th",42),Pe(80,bie,2,1,"td",43),rr(),nr(81,46),Pe(82,Cie,2,0,"th",42),Pe(83,Die,2,1,"td",43),rr(),Pe(84,Tie,1,0,"tr",47),Pe(85,Sie,1,0,"tr",48),T()()),2&r&&(oe(3),me("formGroup",i.fg),oe(5),me("ngForOf",i.employees),oe(4),me("ngForOf",i.products),oe(4),me("disabled",!i.fg.valid),oe(1),me("ngIf",i.loading),oe(1),me("ngIf",i.success),oe(6),me("selected","20"==i.selectedYear),oe(2),me("selected","21"==i.selectedYear),oe(2),me("selected","22"==i.selectedYear),oe(2),me("selected","23"==i.selectedYear),oe(2),me("selected","24"==i.selectedYear),oe(2),me("selected","25"==i.selectedYear),oe(2),me("selected","26"==i.selectedYear),oe(2),me("selected","27"==i.selectedYear),oe(2),me("selected","28"==i.selectedYear),oe(2),me("selected","29"==i.selectedYear),oe(2),me("selected","30"==i.selectedYear),oe(2),me("selected","31"==i.selectedYear),oe(3),me("selected","02"==i.selectedMonth),oe(2),me("selected","03"==i.selectedMonth),oe(2),me("selected","04"==i.selectedMonth),oe(2),me("selected","05"==i.selectedMonth),oe(2),me("selected","06"==i.selectedMonth),oe(2),me("selected","07"==i.selectedMonth),oe(2),me("selected","08"==i.selectedMonth),oe(2),me("selected","09"==i.selectedMonth),oe(2),me("selected","10"==i.selectedMonth),oe(2),me("selected","11"==i.selectedMonth),oe(2),me("selected","12"==i.selectedMonth),oe(2),me("dataSource",i.dataSource),oe(13),me("matHeaderRowDef",i.displayedColumns),oe(1),me("matRowDefColumns",i.displayedColumns))},dependencies:[Fc,Vc,bu,Cu,Du,Zl,Ra,Eu,wu,Aa,Jl,nI,i_,rI,s_,r_,iI,o_,a_,sI,oI,Cl,MD]})}return n})();function Rie(n,e){if(1&n&&(D(0,"option",13),N(1),T()),2&n){const t=e.$implicit;Rc("value",t.docId),oe(1),Nn(" ",t.productName," ")}}function Mie(n,e){1&n&&(D(0,"div",14),N(1,"Employee successfully added!"),T())}function xie(n,e){if(1&n){const t=Ns();D(0,"div",15)(1,"form",2),pt("ngSubmit",function(){return wn(t),xn(Lt().editPrice())}),D(2,"table")(3,"tr")(4,"th"),N(5,"Product"),T(),D(6,"th"),N(7,"Price categoty 1"),T(),D(8,"th"),N(9,"Price category 2"),T()(),D(10,"tr"),$e(11,"input",16)(12,"input",17),D(13,"td"),$e(14,"input",18),T(),D(15,"td"),$e(16,"input",19),T(),D(17,"td"),$e(18,"input",20),T()(),D(19,"tr")(20,"td")(21,"tr")(22,"td"),$e(23,"input",21),T(),D(24,"td")(25,"input",22),pt("click",function(){return wn(t),xn(Lt().editPriceForm=!1)}),T()()()()()()()()}if(2&n){const t=Lt();oe(1),me("formGroup",t.fEdit)}}function Pie(n,e){if(1&n){const t=Ns();D(0,"tr",26)(1,"td")(2,"span",27),N(3),T()(),D(4,"td"),N(5),T(),D(6,"td"),N(7),T(),D(8,"td")(9,"input",28),pt("click",function(){const s=wn(t).$implicit;return xn(Lt(2).preEditPrice(s.docId,s.productName,s.price,s.price2))}),T(),D(10,"input",29),pt("click",function(){const s=wn(t).$implicit;return xn(Lt(2).deletePrice(s.docId))}),T()()()}if(2&n){const t=e.$implicit;oe(3),Nn(" ",t.productName,""),oe(2),Nn(" ",t.price," "),oe(2),Nn(" ",t.price2," ")}}function Nie(n,e){if(1&n&&(D(0,"table",23)(1,"tr",24)(2,"th"),N(3,"Product"),T(),D(4,"th"),N(5,"Rate Category 1"),T(),D(6,"th"),N(7,"Rate Category 2"),T(),D(8,"th"),N(9,"Actions"),T()(),Pe(10,Pie,11,3,"tr",25),T()),2&n){const t=Lt();oe(10),me("ngForOf",t.finalData)}}function kie(n,e){1&n&&(D(0,"div",14),N(1,"Deleted!"),T())}let Oie=(()=>{class n{constructor(t,r){this.contService=t,this.fb=r,this.success=!1,this.successData=!1,this.editSuccess=!1,this.deleteSuccess=!1,this.editPriceForm=!1,this.products=[],this.prices=[],this.finalPrices=[],this.finalData=[]}ngOnInit(){this.getProducts(),this.getPrices(),this.fg=this.fb.group({productId:[""],price:[""],price2:[""],price3:[""],comments:[""]})}preEditPrice(t,r,i,s){this.fEdit=this.fb.group({productId:this.productId,productName:r,price:i,price2:s,priceId:t}),this.editPriceForm=!0}editPrice(){const t=this.fEdit.get("priceId").value,r=this.fEdit.get("price").value,i=this.fEdit.get("price2").value;this.contService.editPrice(t,r,i).then(s=>{this.editSuccess=!0})}deletePrice(t){confirm("Sure to delete?")&&this.contService.deletePrice(t).then(i=>{this.deleteSuccess=!0})}getPrices(t){var r=this;return(0,J.Z)(function*(){r.prices=[],r.finalPrices=[],r.contService.getPrices(t).subscribe(i=>{i.forEach(s=>{r.finalPrices.push({data:s.payload.doc.data(),docId:s.payload.doc.id})}),r.createFinalData()})})()}createFinalData(){var t=this;return(0,J.Z)(function*(){t.finalData=[],t.finalPrices.forEach(r=>{t.products.forEach(s=>{s.docId==r.data.productId&&(t.productName=s.productName,t.productId=s.docId)}),t.finalData.push({productName:t.productName,productId:t.productId,price:r.data.price,price2:r.data.price2,price3:r.data.price3,comments:r.data.comments,docId:r.docId}),t.successData=!0})})()}addNewPrice(){const t=this.fg.get("productId").value,r=this.fg.get("price").value,i=this.fg.get("price2").value,s=this.fg.get("comments").value,o=this.fg.get("price3").value;this.contService.addNewPrice(t,r,i,o,s).then(a=>{this.success=!0})}getProducts(){this.products=[],this.contService.getProducts().subscribe(t=>{t.forEach(r=>this.products.push({productName:r.payload.doc.data().productName,definition:r.payload.doc.data().definition,docId:r.payload.doc.id,data:r}))})}static#e=this.\u0275fac=function(r){return new(r||n)(O(yu),O(tf))};static#t=this.\u0275cmp=Qt({type:n,selectors:[["app-price"]],decls:18,vars:6,consts:[[1,"container"],[1,"heading"],["name","productForm",1,"form-inline","mt-2","mt-md-0",3,"formGroup","ngSubmit"],["formControlName","productId",1,"form-control",2,"width","300px"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","price","placeholder","Price category 1",1,"form-control",2,"width","150px","padding","3px","margin","3px"],["type","text","formControlName","price2","placeholder","Price category 2",1,"form-control",2,"width","150px","padding","3px","margin","3px"],["type","text","formControlName","price3","placeholder","Price category 3",1,"form-control",2,"width","150px","padding","3px","margin","3px"],["type","text","formControlName","comments","placeholder","Additional info",1,"form-control",2,"width","550px","padding","3px","margin","3px"],["type","submit","name","btn","value","Add",2,"margin-left","15px"],["class","notifier",4,"ngIf"],["class","container","style","background-color: whitesmoke;",4,"ngIf"],["style","width: 100%; padding: 5px; border: 1px solid grey; background-color: rgb(227, 242, 252);",4,"ngIf"],[3,"value"],[1,"notifier"],[1,"container",2,"background-color","whitesmoke"],["type","hidden","formControlName","priceId",1,"form-control",2,"width","100px","padding","3px","margin","3px"],["type","hidden","formControlName","productId",1,"form-control",2,"width","100px","padding","3px","margin","3px"],["type","text","formControlName","productName",1,"form-control",2,"width","400px","padding","3px","margin","3px"],["type","text","formControlName","price",1,"form-control",2,"width","100px","padding","3px","margin","3px"],["type","text","formControlName","price2",1,"form-control",2,"width","100px","padding","3px","margin","3px"],["type","submit","name","btn","value","Submit",1,"nice-button",2,"margin-left","5px"],["type","button","name","btn","value","Cancel",1,"nice-button",2,"margin-left","5px","background-color","red","border","1px solid rgb(77, 5, 5)","padding","3px","color","snow",3,"click"],[2,"width","100%","padding","5px","border","1px solid grey","background-color","rgb(227, 242, 252)"],[2,"border","0px solid grey","margin-left","5px","width","100%","color","rgb(75, 73, 73)","background-color","white"],["style","\n        border: 1px solid grey;\n        margin-left: 5px;\n        width: 70%;\n        color: rgb(27, 27, 27);\n      ",4,"ngFor","ngForOf"],[2,"border","1px solid grey","margin-left","5px","width","70%","color","rgb(27, 27, 27)"],[1,"ml-4"],["type","button","value","Edit",1,"nice-button",3,"click"],["type","button","value","Delete",1,"nice-button",3,"click"]],template:function(r,i){1&r&&(D(0,"div",0)(1,"div",1),N(2,"Add new Entry"),T(),D(3,"form",2),pt("ngSubmit",function(){return i.addNewPrice()}),D(4,"select",3),Pe(5,Rie,2,2,"option",4),T(),$e(6,"input",5)(7,"input",6)(8,"input",7)(9,"input",8)(10,"input",9),T(),Pe(11,Mie,2,0,"div",10),T(),$e(12,"br"),Pe(13,xie,26,1,"div",11),$e(14,"br"),D(15,"div",0),Pe(16,Nie,11,1,"table",12),Pe(17,kie,2,0,"div",10),T()),2&r&&(oe(3),me("formGroup",i.fg),oe(2),me("ngForOf",i.products),oe(6),me("ngIf",i.success),oe(2),me("ngIf",i.editPriceForm),oe(3),me("ngIf",i.successData),oe(1),me("ngIf",i.deleteSuccess))},dependencies:[Fc,Vc,bu,Cu,Du,Zl,Ra,Eu,wu,Aa,Jl]})}return n})();const Fie=["editProd"];function Vie(n,e){1&n&&(D(0,"div",18),N(1,"Product successfully added!"),T())}function Lie(n,e){if(1&n){const t=Ns();D(0,"div",19,20)(2,"form",2),pt("ngSubmit",function(){return wn(t),xn(Lt().editProduct())}),D(3,"table")(4,"tr")(5,"th"),N(6,"Product Name"),T(),D(7,"th"),N(8,"Definition"),T()(),D(9,"tr"),$e(10,"input",21),D(11,"td"),$e(12,"input",22),T(),D(13,"td"),$e(14,"input",23),T()(),D(15,"tr")(16,"td")(17,"tr")(18,"td"),$e(19,"input",24),T(),D(20,"td")(21,"input",25),pt("click",function(){return wn(t),xn(Lt().editProductForm=!1)}),T()()()()()()()()}if(2&n){const t=Lt();oe(2),me("formGroup",t.fEdit)}}function Bie(n,e){if(1&n){const t=Ns();D(0,"tr",26)(1,"td")(2,"span",15),N(3),T()(),D(4,"td"),N(5),T(),D(6,"td")(7,"button",27),pt("click",function(){const s=wn(t).$implicit;return xn(Lt().preEditProduct(s.docId,s.data.productName,s.data.definition))}),N(8,"Edit "),T(),D(9,"button",28),pt("click",function(){const s=wn(t).$implicit;return xn(Lt().deleteProduct(s.docId))}),N(10," Delete "),T()()()}if(2&n){const t=e.$implicit;oe(3),Nn(" ",t.productName,""),oe(2),Nn(" ",t.definition," ")}}let Uie=(()=>{class n{constructor(t,r){this.contService=t,this.fb=r,this.success=!1,this.editSuccess=!1,this.deleteSuccess=!1,this.products=[],this.finalData=[],this.editProductForm=!1}ngOnInit(){this.initializeForms(),this.getProducts()}initializeForms(){this.fg=this.fb.group({productName:["",qg.required],definition:[""],size:[""]}),this.fEdit=this.fb.group({productId:[""],productName:[""],definition:[""]})}addNewProduct(){const t=this.fg.get("productName")?.value,r=this.fg.get("definition")?.value,i=this.fg.get("size")?.value;this.contService.addNewProduct(t,i,r).then(()=>{this.handleSuccess("Product added successfully.")})}preEditProduct(t,r,i){this.fEdit.setValue({productId:t,productName:r,definition:i}),this.editProductForm=!0}editProduct(){const t=this.fEdit.get("productId")?.value,r=this.fEdit.get("productName")?.value,i=this.fEdit.get("definition")?.value;this.contService.editProduct(t,r,i).then(()=>{this.handleSuccess("Product edited successfully."),this.editProductForm=!1})}deleteProduct(t){confirm("Sure to delete?")&&this.contService.deleteProduct(t).then(()=>{this.handleSuccess("Product deleted successfully.")})}getProducts(){this.products=[],this.contService.getProducts().subscribe(t=>{t.forEach(r=>{this.products.push({productName:r.payload.doc.data().productName,docId:r.payload.doc.id,definition:r.payload.doc.data().definition,data:r.payload.doc.data()})})})}handleSuccess(t){this.success=!0,console.log(t)}static#e=this.\u0275fac=function(r){return new(r||n)(O(yu),O(tf))};static#t=this.\u0275cmp=Qt({type:n,selectors:[["app-product-master"]],viewQuery:function(r,i){if(1&r&&Ni(Fie,5),2&r){let s;Tn(s=Sn())&&(i.editProds=s.first)}},decls:32,vars:6,consts:[[1,"container"],[1,"heading"],["name","productForm",1,"form-inline","mt-2","mt-md-0",3,"formGroup","ngSubmit"],["type","text","formControlName","productName","placeholder","Product Name",1,"form-control",2,"width","300px","padding","3px","margin","3px"],["formControlName","size"],["value","1",3,"selected"],["value","2"],["type","text","formControlName","definition","placeholder","Definition",1,"form-control",2,"width","300px","padding","3px","margin","3px"],[2,"text-align","right","margin-top","5px","width","312px"],["type","submit","name","btn","value","Add",3,"disabled"],["class","notifier",4,"ngIf"],["class","container","style","background-color: whitesmoke;",4,"ngIf"],[1,"container",2,"background-color","rgb(235, 231, 231)","padding","1px","border-radius","8px"],[1,"table-heading",2,"width","100%","padding","3px","background-color","rgb(163, 159, 159)"],[2,"border","0px solid gray","background-color","lightgray","color","rgb(77, 75, 75)","padding","3px"],[2,"margin-left","3px"],[1,"ml-3"],["style","color:rgb(39, 39, 39); border-bottom: 1px solid rgb(136, 134, 134); padding: 3px; background-color: white;",4,"ngFor","ngForOf"],[1,"notifier"],[1,"container",2,"background-color","whitesmoke"],["editProd",""],["type","hidden","formControlName","productId",1,"form-control",2,"width","100px","padding","3px","margin","3px"],["type","text","formControlName","productName",1,"form-control",2,"width","400px","padding","3px","margin","3px"],["type","text","formControlName","definition",1,"form-control",2,"width","100px","padding","3px","margin","3px"],["type","submit","name","btn","value","Submit",1,"nice-button",2,"margin-left","5px"],["type","button","name","btn","value","Cancel",1,"nice-button",2,"margin-left","5px","background-color","red","border","1px solid rgb(77, 5, 5)","padding","3px","color","snow",3,"click"],[2,"color","rgb(39, 39, 39)","border-bottom","1px solid rgb(136, 134, 134)","padding","3px","background-color","white"],["mat-raised-button","","color","accent","value","Edit",2,"margin-right","8px",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(r,i){1&r&&(D(0,"div",0)(1,"div",1),N(2,"Add new Product"),T(),D(3,"form",2),pt("ngSubmit",function(){return i.addNewProduct()}),$e(4,"input",3),N(5," Size: "),D(6,"select",4)(7,"option",5),N(8,"1"),T(),D(9,"option",6),N(10,"2"),T()(),$e(11,"input",7),D(12,"div",8),$e(13,"input",9),T()(),Pe(14,Vie,2,0,"div",10),T(),$e(15,"br"),Pe(16,Lie,22,1,"div",11),$e(17,"br"),D(18,"div",12)(19,"div",1),N(20,"Existing Products "),T(),D(21,"table",13)(22,"tr",14)(23,"th")(24,"span",15),N(25," Product Name"),T()(),D(26,"th"),N(27," Definition "),T(),D(28,"th",16),N(29," Actions "),T()(),Pe(30,Bie,11,2,"tr",17),T()(),$e(31,"br")),2&r&&(oe(3),me("formGroup",i.fg),oe(4),me("selected",!0),oe(6),me("disabled",!i.fg.valid),oe(1),me("ngIf",i.success),oe(2),me("ngIf",i.editProductForm),oe(14),me("ngForOf",i.products))},dependencies:[Fc,Vc,bu,Cu,Du,Zl,Ra,Eu,wu,Aa,Jl]})}return n})();function $ie(n,e){if(1&n&&(D(0,"option",35),N(1),T()),2&n){const t=e.$implicit;Rc("value",t.docId),oe(1),Nn(" ",t.data.employeeName," ")}}function jie(n,e){if(1&n&&(D(0,"option",35),N(1),T()),2&n){const t=e.$implicit;Rc("value",t.docId),oe(1),Nn(" ",t.data.productName," ")}}function Hie(n,e){if(1&n&&(D(0,"option",35),N(1),T()),2&n){const t=e.$implicit;Rc("value",t.docId),oe(1),Nn(" ",t.data.employeeName," ")}}function zie(n,e){if(1&n){const t=Ns();D(0,"div",36)(1,"form",2),pt("ngSubmit",function(){return wn(t),xn(Lt().editEntry())}),D(2,"table")(3,"tr")(4,"th"),N(5,"Date"),T(),D(6,"th"),N(7,"Product"),T(),D(8,"th"),N(9,"Employee"),T(),D(10,"th"),N(11,"Quantity"),T()(),D(12,"tr")(13,"td"),$e(14,"input",37),T(),D(15,"td")(16,"select",38),Pe(17,jie,2,2,"option",5),T()(),D(18,"td")(19,"select",39),Pe(20,Hie,2,2,"option",5),T()(),D(21,"td"),$e(22,"input",40),T(),D(23,"td"),$e(24,"input",41),T()(),D(25,"tr")(26,"td")(27,"tr")(28,"td"),$e(29,"input",42),T(),D(30,"td")(31,"input",43),pt("click",function(){return wn(t),xn(Lt().editEntryForm=!1)}),T()()()()()()()()}if(2&n){const t=Lt();oe(1),me("formGroup",t.fEdit),oe(16),me("ngForOf",t.products),oe(3),me("ngForOf",t.employees)}}function qie(n,e){1&n&&(D(0,"th",56),N(1,"Date"),T())}function Gie(n,e){if(1&n&&(D(0,"td",57),N(1),T()),2&n){const t=e.$implicit;oe(1),ni(t.dateAdded)}}function Wie(n,e){1&n&&(D(0,"th",56),N(1,"Employee Name"),T())}function Kie(n,e){if(1&n&&(D(0,"td",57),N(1),T()),2&n){const t=e.$implicit;oe(1),ni(t.employeeName)}}function Zie(n,e){1&n&&(D(0,"th",56),N(1,"Product"),T())}function Qie(n,e){if(1&n&&(D(0,"td",57),N(1),T()),2&n){const t=e.$implicit;oe(1),ni(t.productName)}}function Yie(n,e){1&n&&(D(0,"th",56),N(1,"Quantity"),T())}function Xie(n,e){if(1&n&&(D(0,"td",57),N(1),T()),2&n){const t=e.$implicit;oe(1),ni(t.quantity)}}function Jie(n,e){1&n&&(D(0,"th",56),N(1,"Addl. info"),T())}function ese(n,e){if(1&n&&(D(0,"td",57),N(1),T()),2&n){const t=e.$implicit;oe(1),ni(t.definition)}}function tse(n,e){1&n&&(D(0,"th",56),N(1," Actions "),T())}function nse(n,e){if(1&n){const t=Ns();D(0,"td",57)(1,"button",58),pt("click",function(){const s=wn(t).$implicit;return xn(Lt(2).preEditEntry(s.docId,s.productName,s.productId,s.employeeName,s.employeeId,s.definition,s.quantity,s.dateAdded))}),N(2,"Edit"),T(),N(3," \xa0\xa0 "),D(4,"button",59),pt("click",function(){const s=wn(t).$implicit;return xn(Lt(2).deleteEntry(s.docId))}),N(5,"Delete"),T()()}}function rse(n,e){1&n&&$e(0,"tr",60)}function ise(n,e){1&n&&$e(0,"tr",61)}function sse(n,e){1&n&&(D(0,"div",62),N(1,"Entry deleted! "),T())}function ose(n,e){if(1&n&&(D(0,"div")(1,"table",44),nr(2,45),Pe(3,qie,2,0,"th",46),Pe(4,Gie,2,1,"td",47),rr(),nr(5,48),Pe(6,Wie,2,0,"th",46),Pe(7,Kie,2,1,"td",47),rr(),nr(8,49),Pe(9,Zie,2,0,"th",46),Pe(10,Qie,2,1,"td",47),rr(),nr(11,50),Pe(12,Yie,2,0,"th",46),Pe(13,Xie,2,1,"td",47),rr(),nr(14,51),Pe(15,Jie,2,0,"th",46),Pe(16,ese,2,1,"td",47),rr(),nr(17,52),Pe(18,tse,2,0,"th",46),Pe(19,nse,6,0,"td",47),rr(),Pe(20,rse,1,0,"tr",53),Pe(21,ise,1,0,"tr",54),T(),Pe(22,sse,2,0,"div",55),T()),2&n){const t=Lt();oe(1),me("dataSource",t.dataSource),oe(19),me("matHeaderRowDef",t.displayedColumns),oe(1),me("matRowDefColumns",t.displayedColumns),oe(1),me("ngIf",t.deleted)}}const ase=[{path:"employee-master",component:fie},{path:"product-master",component:Uie},{path:"entries",component:Aie},{path:"search",component:(()=>{class n{constructor(t,r){this.contService=t,this.fb=r,this.success=!1,this.entries=[],this.finalEnteries=[],this.products=[],this.employees=[],this.finalData=[],this.deleted=!1,this.editEntryForm=!1,this.editSuccess=!1,this.displayedColumns=["dateAdded","employeeName","productName","quantity","definition","actions"]}ngOnInit(){this.dataSource&&(console.log("touched"),this.dataSource.sort=this.matSort),this.getEmployees(),this.getProducts();var t=new Date;const i=Date.now();this.thisMonth=(t.getMonth()+1).toString().padStart(2,"0"),this.thisYear=t.getFullYear().toString().substring(2,4),console.log(this.thisMonth+"/"+this.thisYear);const o=ZC(i,"dd/MM/yyyy","en-US");this.fg=this.fb.group({employeeId:["0"],monthRequired:this.thisMonth,yearRequired:this.thisYear,dateAdded:o})}deleteEntry(t){confirm("Sure to delete?")&&(this.contService.deleteEntry(t).then(i=>{this.deleted=!0}),console.log(t))}preEditEntry(t,r,i,s,o,a,l,d){this.fEdit=this.fb.group({productId:i,productName:r,entryId:t,employeeName:s,employeeId:o,definition:a,quantity:l,dateAdded:d}),this.editEntryForm=!0}editEntry(){const t=this.fEdit.get("productId")?.value,r=this.fEdit.get("entryId")?.value,i=this.fEdit.get("employeeId")?.value,s=this.fEdit.get("definition")?.value,o=this.fEdit.get("quantity")?.value,a=this.fEdit.get("dateAdded")?.value;this.contService.editEntry(r,t,i,s,o,a).then(l=>{this.editSuccess=!0})}getProducts(){this.products=[],this.contService.getProducts().subscribe(t=>{t.forEach(r=>{this.products.push({data:r.payload.doc.data(),docId:r.payload.doc.id})})})}getEntries(){const t=this.fg.get("monthRequired")?.value,r=this.fg.get("yearRequired")?.value,i=this.fg.get("employeeId")?.value;this.entries=[],this.finalEnteries=[],this.contService.getEntries().subscribe(s=>{s.forEach(o=>{this.finalEnteries.push({data:o.payload.doc.data(),docId:o.payload.doc.id})}),this.createFinalData(t,r,i)})}createFinalData(t,r,i){this.finalData=[],this.finalEnteries.forEach(s=>{const o=s.data.dateAdded.substring(3,5),a=s.data.dateAdded.substring(8,10);this.dateMonthFromDB=o+"/"+a,this.dateMonthRequired=t+"/"+r,this.quantity=s.data.quantity,this.dateAddedFromDB=s.data.dateAdded,this.dateMonthFromDB==this.dateMonthRequired&&s.data.employeeId==i&&(this.products.forEach(l=>{l.docId==s.data.productId&&(this.productName=l.data.productName,this.productId=l.docId)}),this.employees.forEach(l=>{l.docId==s.data.employeeId&&(this.employeeName=l.data.employeeName,this.employeeId=l.docId)}),this.finalData.push({productName:this.productName,employeeName:this.employeeName,quantity:this.quantity,dateAdded:this.dateAddedFromDB,productId:this.productId,employeeId:this.employeeId,docId:s.docId,definition:s.data.definition}))}),this.dataSource=new i4(this.finalData),this.dataSource.sort=this.matSort,this.success=!0}getEmployees(){this.employees=[],this.contService.getEmployees().subscribe(t=>{t.forEach(r=>{this.employees.push({data:r.payload.doc.data(),docId:r.payload.doc.id})})})}static#e=this.\u0275fac=function(r){return new(r||n)(O(yu),O(tf))};static#t=this.\u0275cmp=Qt({type:n,selectors:[["app-search"]],viewQuery:function(r,i){if(1&r&&Ni(Cl,5),2&r){let s;Tn(s=Sn())&&(i.matSort=s.first)}},decls:70,vars:4,consts:[[1,"container"],[1,"heading"],["name","productForm",1,"form-inline","mt-2","mt-md-0",3,"formGroup","ngSubmit"],["formControlName","employeeId",1,"form-control",2,"padding","3px","margin-left","10px"],["value","0"],[3,"value",4,"ngFor","ngForOf"],["formControlName","monthRequired",1,"form-control",2,"padding","3px","margin-left","10px"],["value","01"],["value","02"],["value","03"],["value","04"],["value","05"],["value","06"],["value","07"],["value","08"],["value","09"],["value","10"],["value","11"],["value","12"],["formControlName","yearRequired",1,"form-control",2,"padding","3px","margin-left","10px"],["value","20"],["value","21"],["value","22"],["value","23"],["value","24"],["value","25"],["value","26"],["value","27"],["value","28"],["value","29"],["value","30"],["value","31"],["type","submit","name","btn","value","Search",1,"form-control",2,"padding","3px","margin-left","10px","color","whitesmoke","background-color","rgb(10, 18, 88)"],["class","container","style","background-color: whitesmoke;",4,"ngIf"],[4,"ngIf"],[3,"value"],[1,"container",2,"background-color","whitesmoke"],["type","text","formControlName","dateAdded",1,"form-control",2,"width","100px","padding","3px","margin","3px"],["formControlName","productId",1,"form-control",2,"width","300px"],["formControlName","employeeId",1,"form-control"],["type","text","formControlName","quantity",1,"form-control",2,"width","100px","padding","3px","margin","3px"],["type","text","formControlName","definition",1,"form-control",2,"width","250px","padding","3px","margin","3px"],["type","submit","name","btn","value","Submit",1,"nice-button",2,"margin-left","5px"],["type","button","name","btn","value","Cancel",1,"nice-button",2,"margin-left","5px","background-color","red","border","1px solid rgb(77, 5, 5)","padding","3px","color","snow",3,"click"],["mat-table","","matSort","",1,"mat-elevation-z8",2,"width","100%",3,"dataSource"],["matColumnDef","dateAdded"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","employeeName"],["matColumnDef","productName"],["matColumnDef","quantity"],["matColumnDef","definition"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","notifier",4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-raised-button","","color","accent","size","small",3,"click"],["mat-raised-button","","color","warn","size","small",3,"click"],["mat-header-row",""],["mat-row",""],[1,"notifier"]],template:function(r,i){1&r&&(D(0,"div",0)(1,"div",1),N(2,"Search Entries"),T(),D(3,"form",2),pt("ngSubmit",function(){return i.getEntries()}),D(4,"table")(5,"tr")(6,"td")(7,"select",3)(8,"option",4),N(9,"Select employee"),T(),Pe(10,$ie,2,2,"option",5),T()(),D(11,"td")(12,"select",6)(13,"option",7),N(14,"January"),T(),D(15,"option",8),N(16,"February"),T(),D(17,"option",9),N(18,"March"),T(),D(19,"option",10),N(20,"April"),T(),D(21,"option",11),N(22,"May"),T(),D(23,"option",12),N(24,"June"),T(),D(25,"option",13),N(26,"July"),T(),D(27,"option",14),N(28,"August"),T(),D(29,"option",15),N(30,"September"),T(),D(31,"option",16),N(32,"October"),T(),D(33,"option",17),N(34,"November"),T(),D(35,"option",18),N(36,"December"),T()()(),D(37,"td")(38,"select",19)(39,"option",20),N(40,"2020"),T(),D(41,"option",21),N(42,"2021"),T(),D(43,"option",22),N(44,"2022"),T(),D(45,"option",23),N(46,"2023"),T(),D(47,"option",24),N(48,"2024"),T(),D(49,"option",25),N(50,"2025"),T(),D(51,"option",26),N(52,"2026"),T(),D(53,"option",27),N(54,"2027"),T(),D(55,"option",28),N(56,"2028"),T(),D(57,"option",29),N(58,"2029"),T(),D(59,"option",30),N(60,"2030"),T(),D(61,"option",31),N(62,"2031"),T()()(),D(63,"td"),$e(64,"input",32),T()()()()(),$e(65,"br"),Pe(66,zie,32,3,"div",33),$e(67,"br"),D(68,"div",0),Pe(69,ose,23,4,"div",34),T()),2&r&&(oe(3),me("formGroup",i.fg),oe(7),me("ngForOf",i.employees),oe(56),me("ngIf",i.editEntryForm),oe(3),me("ngIf",i.success))},dependencies:[Fc,Vc,bu,Cu,Du,Zl,Ra,Eu,wu,Aa,Jl,nI,i_,rI,s_,r_,iI,o_,a_,sI,oI,Cl,MD]})}return n})()},{path:"price",component:Oie},{path:"calculate",component:cie}];let lse=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Vt({type:n});static#n=this.\u0275inj=Zt({imports:[GO.forRoot(ase),GO]})}return n})(),cse=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Qt({type:n,selectors:[["app-nav"]],decls:19,vars:0,consts:[[1,"d-flex","flex-column","flex-md-row","align-items-center","pb-3","mb-4","border-bottom"],["href","/",1,"d-flex","align-items-center","text-dark","text-decoration-none"],["xmlns","http://www.w3.org/2000/svg","width","40","height","32","viewBox","0 0 118 94","role","img",1,"me-2"],["fill-rule","evenodd","clip-rule","evenodd","d","M24.509 0c-6.733 0-11.715 5.893-11.492 12.284.214 6.14-.064 14.092-2.066 20.577C8.943 39.365 5.547 43.485 0 44.014v5.972c5.547.529 8.943 4.649 10.951 11.153 2.002 6.485 2.28 14.437 2.066 20.577C12.794 88.106 17.776 94 24.51 94H93.5c6.733 0 11.714-5.893 11.491-12.284-.214-6.14.064-14.092 2.066-20.577 2.009-6.504 5.396-10.624 10.943-11.153v-5.972c-5.547-.529-8.934-4.649-10.943-11.153-2.002-6.484-2.28-14.437-2.066-20.577C105.214 5.894 100.233 0 93.5 0H24.508zM80 57.863C80 66.663 73.436 72 62.543 72H44a2 2 0 01-2-2V24a2 2 0 012-2h18.437c9.083 0 15.044 4.92 15.044 12.474 0 5.302-4.01 10.049-9.119 10.88v.277C75.317 46.394 80 51.21 80 57.863zM60.521 28.34H49.948v14.934h8.905c6.884 0 10.68-2.772 10.68-7.727 0-4.643-3.264-7.207-9.012-7.207zM49.948 49.2v16.458H60.91c7.167 0 10.964-2.876 10.964-8.281 0-5.406-3.903-8.178-11.425-8.178H49.948z","fill","currentColor"],[1,"d-inline-flex","mt-2","mt-mdz-0","ms-md-auto","p-3"],["href","product-master",1,"me-3","py-2","mr-3","text-dark","text-decoration-none"],["href","employee-master",1,"me-3","py-2","p-3","text-dark","text-decoration-none"],["href","entries",1,"me-3","py-2","text-dark","text-decoration-none"],["href","search",1,"me-3","py-2","text-dark","text-decoration-none"],["href","price",1,"me-3","py-2","text-dark","text-decoration-none"],["href","calculate",1,"me-3","py-2","text-dark","text-decoration-none"]],template:function(r,i){1&r&&(D(0,"div",0)(1,"a",1),function PI(){Je.lFrame.currentNamespace=T_}(),D(2,"svg",2)(3,"title"),N(4,"Bootstrap"),T(),$e(5,"path",3),T()(),function P_(){!function NI(){Je.lFrame.currentNamespace=null}()}(),D(6,"nav",4)(7,"a",5),N(8,"Products"),T(),D(9,"a",6),N(10,"Employees"),T(),D(11,"a",7),N(12,"Enteries"),T(),D(13,"a",8),N(14,"Search"),T(),D(15,"a",9),N(16,"Pricing"),T(),D(17,"a",10),N(18,"Calculate"),T()()())}})}return n})(),use=(()=>{class n{constructor(){this.title="contratual"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Qt({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(r,i){1&r&&$e(0,"app-nav")(1,"router-outlet")},dependencies:[uD,cse]})}return n})();const dse_firebase={apiKey:"AIzaSyDod4I8TQ_3FX7ScbIkVxkzuJJtxwOP5Mw",authDomain:"contractual-e220f.firebaseapp.com",projectId:"contractual-e220f",storageBucket:"contractual-e220f.appspot.com",messagingSenderId:"506601902944",appId:"1:506601902944:web:24d06b93b9ef8281178405",measurementId:"G-PBB05C5SEW"};let hse=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Vt({type:n,bootstrap:[use]});static#n=this.\u0275inj=Zt({providers:[BA,yu],imports:[zG,GN,lse,Cne,Dne,zne,Wre,SZ,GZ.initializeApp(dse_firebase),Ate]})}return n})();O8().bootstrapModule(hse).catch(n=>console.error(n))},942:(bs,ar,Qe)=>{Qe.d(ar,{Z:()=>cr});var w=Qe(90),He=Qe(859),G=Qe(881),qe=Qe(877);class Tt{constructor(Ke,st){this._delegate=Ke,this.firebase=st,(0,G._addComponent)(Ke,new He.wA("app-compat",()=>this,"PUBLIC")),this.container=Ke.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ke){this._delegate.automaticDataCollectionEnabled=Ke}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ke=>{this._delegate.checkDestroyed(),Ke()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,G.deleteApp)(this._delegate)))}_getService(Ke,st=G._DEFAULT_ENTRY_NAME){var ur;this._delegate.checkDestroyed();const dr=this._delegate.container.getProvider(Ke);return!dr.isInitialized()&&"EXPLICIT"===(null===(ur=dr.getComponent())||void 0===ur?void 0:ur.instantiationMode)&&dr.initialize(),dr.getImmediate({identifier:st})}_removeServiceInstance(Ke,st=G._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ke).clearInstance(st)}_addComponent(Ke){(0,G._addComponent)(this._delegate,Ke)}_addOrOverwriteComponent(Ke){(0,G._addOrOverwriteComponent)(this._delegate,Ke)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const En=new w.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),te=function ft(){const xt=function lr(xt){const Ke={},st={__esModule:!0,initializeApp:function Xt(ot,Kn={}){const ee=G.initializeApp(ot,Kn);if((0,w.r3)(Ke,ee.name))return Ke[ee.name];const un=new xt(ee,st);return Ke[ee.name]=un,un},app:dr,registerVersion:G.registerVersion,setLogLevel:G.setLogLevel,onLog:G.onLog,apps:null,SDK_VERSION:G.SDK_VERSION,INTERNAL:{registerComponent:function zt(ot){const Kn=ot.name,ee=Kn.replace("-compat","");if(G._registerComponent(ot)&&"PUBLIC"===ot.type){const un=(Jt=dr())=>{if("function"!=typeof Jt[ee])throw En.create("invalid-app-argument",{appName:Kn});return Jt[ee]()};void 0!==ot.serviceProps&&(0,w.ZB)(un,ot.serviceProps),st[ee]=un,xt.prototype[ee]=function(...Jt){return this._getService.bind(this,Kn).apply(this,ot.multipleInstances?Jt:[])}}return"PUBLIC"===ot.type?st[ee]:null},removeApp:function ur(ot){delete Ke[ot]},useAsService:function Gr(ot,Kn){return"serverAuth"===Kn?null:Kn},modularAPIs:G}};function dr(ot){if(!(0,w.r3)(Ke,ot=ot||G._DEFAULT_ENTRY_NAME))throw En.create("no-app",{appName:ot});return Ke[ot]}return st.default=st,Object.defineProperty(st,"apps",{get:function Pt(){return Object.keys(Ke).map(ot=>Ke[ot])}}),dr.App=xt,st}(Tt);return xt.INTERNAL=Object.assign(Object.assign({},xt.INTERNAL),{createFirebaseNamespace:ft,extendNamespace:function Ke(st){(0,w.ZB)(xt,st)},createSubscribe:w.ne,ErrorFactory:w.LL,deepExtend:w.ZB}),xt}(),ce=new qe.Yd("@firebase/app-compat");if((0,w.jU)()&&void 0!==self.firebase){ce.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const xt=self.firebase.SDK_VERSION;xt&&xt.indexOf("LITE")>=0&&ce.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const cr=te;!function At(xt){(0,G.registerVersion)("@firebase/app-compat","0.2.25",xt)}()},881:(bs,ar,Qe)=>{Qe.r(ar),Qe.d(ar,{FirebaseError:()=>qe.ZR,SDK_VERSION:()=>qs,_DEFAULT_ENTRY_NAME:()=>Li,_addComponent:()=>zs,_addOrOverwriteComponent:()=>Er,_apps:()=>Kr,_clearComponents:()=>Qn,_components:()=>Ds,_getProvider:()=>Wt,_registerComponent:()=>ko,_removeServiceInstance:()=>Bi,deleteApp:()=>Nr,getApp:()=>Gs,getApps:()=>Oa,initializeApp:()=>ka,onLog:()=>Fa,registerVersion:()=>Ws,setLogLevel:()=>Ru});var w=Qe(861),He=Qe(859),G=Qe(877),qe=Qe(90);const Tt=(q,I)=>I.some(ae=>q instanceof ae);let cn,En;const te=new WeakMap,ce=new WeakMap,Re=new WeakMap,ht=new WeakMap,At=new WeakMap;let Ke={get(q,I,ae){if(q instanceof IDBTransaction){if("done"===I)return ce.get(q);if("objectStoreNames"===I)return q.objectStoreNames||Re.get(q);if("store"===I)return ae.objectStoreNames[1]?void 0:ae.objectStore(ae.objectStoreNames[0])}return Xt(q[I])},set:(q,I,ae)=>(q[I]=ae,!0),has:(q,I)=>q instanceof IDBTransaction&&("done"===I||"store"===I)||I in q};function dr(q){return"function"==typeof q?function ur(q){return q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ft(){return En||(En=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(q)?function(...I){return q.apply(Pt(this),I),Xt(te.get(this))}:function(...I){return Xt(q.apply(Pt(this),I))}:function(I,...ae){const ie=q.call(Pt(this),I,...ae);return Re.set(ie,I.sort?I.sort():[I]),Xt(ie)}}(q):(q instanceof IDBTransaction&&function xt(q){if(ce.has(q))return;const I=new Promise((ae,ie)=>{const ve=()=>{q.removeEventListener("complete",gt),q.removeEventListener("error",Nt),q.removeEventListener("abort",Nt)},gt=()=>{ae(),ve()},Nt=()=>{ie(q.error||new DOMException("AbortError","AbortError")),ve()};q.addEventListener("complete",gt),q.addEventListener("error",Nt),q.addEventListener("abort",Nt)});ce.set(q,I)}(q),Tt(q,function lr(){return cn||(cn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(q,Ke):q)}function Xt(q){if(q instanceof IDBRequest)return function cr(q){const I=new Promise((ae,ie)=>{const ve=()=>{q.removeEventListener("success",gt),q.removeEventListener("error",Nt)},gt=()=>{ae(Xt(q.result)),ve()},Nt=()=>{ie(q.error),ve()};q.addEventListener("success",gt),q.addEventListener("error",Nt)});return I.then(ae=>{ae instanceof IDBCursor&&te.set(ae,q)}).catch(()=>{}),At.set(I,q),I}(q);if(ht.has(q))return ht.get(q);const I=dr(q);return I!==q&&(ht.set(q,I),At.set(I,q)),I}const Pt=q=>At.get(q),ot=["get","getKey","getAll","getAllKeys","count"],Kn=["put","add","delete","clear"],ee=new Map;function un(q,I){if(!(q instanceof IDBDatabase)||I in q||"string"!=typeof I)return;if(ee.get(I))return ee.get(I);const ae=I.replace(/FromIndex$/,""),ie=I!==ae,ve=Kn.includes(ae);if(!(ae in(ie?IDBIndex:IDBObjectStore).prototype)||!ve&&!ot.includes(ae))return;const gt=function(){var Nt=(0,w.Z)(function*($n,...Kt){const Dn=this.transaction($n,ve?"readwrite":"readonly");let sc=Dn.store;return ie&&(sc=sc.index(Kt.shift())),(yield Promise.all([sc[ae](...Kt),ve&&Dn.done]))[0]});return function(Kt){return Nt.apply(this,arguments)}}();return ee.set(I,gt),gt}!function st(q){Ke=q(Ke)}(q=>({...q,get:(I,ae,ie)=>un(I,ae)||q.get(I,ae,ie),has:(I,ae)=>!!un(I,ae)||q.has(I,ae)}));class Jt{constructor(I){this.container=I}getPlatformInfoString(){return this.container.getProviders().map(ae=>{if(function Un(q){return"VERSION"===q.getComponent()?.type}(ae)){const ie=ae.getImmediate();return`${ie.library}/${ie.version}`}return null}).filter(ae=>ae).join(" ")}}const ts="@firebase/app",tt=new G.Yd("@firebase/app"),Li="[DEFAULT]",rc={[ts]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Kr=new Map,Ds=new Map;function zs(q,I){try{q.container.addComponent(I)}catch(ae){tt.debug(`Component ${I.name} failed to register with FirebaseApp ${q.name}`,ae)}}function Er(q,I){q.container.addOrOverwriteComponent(I)}function ko(q){const I=q.name;if(Ds.has(I))return tt.debug(`There were multiple attempts to register component ${I}.`),!1;Ds.set(I,q);for(const ae of Kr.values())zs(ae,q);return!0}function Wt(q,I){const ae=q.container.getProvider("heartbeat").getImmediate({optional:!0});return ae&&ae.triggerHeartbeat(),q.container.getProvider(I)}function Bi(q,I,ae=Li){Wt(q,I).clearInstance(ae)}function Qn(){Ds.clear()}const Si=new qe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class fi{constructor(I,ae,ie){this._isDeleted=!1,this._options=Object.assign({},I),this._config=Object.assign({},ae),this._name=ae.name,this._automaticDataCollectionEnabled=ae.automaticDataCollectionEnabled,this._container=ie,this.container.addComponent(new He.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(I){this.checkDestroyed(),this._automaticDataCollectionEnabled=I}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(I){this._isDeleted=I}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}}const qs="10.7.1";function ka(q,I={}){let ae=q;"object"!=typeof I&&(I={name:I});const ie=Object.assign({name:Li,automaticDataCollectionEnabled:!1},I),ve=ie.name;if("string"!=typeof ve||!ve)throw Si.create("bad-app-name",{appName:String(ve)});if(ae||(ae=(0,qe.aH)()),!ae)throw Si.create("no-options");const gt=Kr.get(ve);if(gt){if((0,qe.vZ)(ae,gt.options)&&(0,qe.vZ)(ie,gt.config))return gt;throw Si.create("duplicate-app",{appName:ve})}const Nt=new He.H0(ve);for(const Kt of Ds.values())Nt.addComponent(Kt);const $n=new fi(ae,ie,Nt);return Kr.set(ve,$n),$n}function Gs(q=Li){const I=Kr.get(q);if(!I&&q===Li&&(0,qe.aH)())return ka();if(!I)throw Si.create("no-app",{appName:q});return I}function Oa(){return Array.from(Kr.values())}function Nr(q){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,w.Z)(function*(q){const I=q.name;Kr.has(I)&&(Kr.delete(I),yield Promise.all(q.container.getProviders().map(ae=>ae.delete())),q.isDeleted=!0)})).apply(this,arguments)}function Ws(q,I,ae){var ie;let ve=null!==(ie=rc[q])&&void 0!==ie?ie:q;ae&&(ve+=`-${ae}`);const gt=ve.match(/\s|\//),Nt=I.match(/\s|\//);if(gt||Nt){const $n=[`Unable to register library "${ve}" with version "${I}":`];return gt&&$n.push(`library name "${ve}" contains illegal characters (whitespace or "/")`),gt&&Nt&&$n.push("and"),Nt&&$n.push(`version name "${I}" contains illegal characters (whitespace or "/")`),void tt.warn($n.join(" "))}ko(new He.wA(`${ve}-version`,()=>({library:ve,version:I}),"VERSION"))}function Fa(q,I){if(null!==q&&"function"!=typeof q)throw Si.create("invalid-log-argument");(0,G.Am)(q,I)}function Ru(q){(0,G.Ub)(q)}const ic="firebase-heartbeat-database",Va=1,M="firebase-heartbeat-store";let S=null;function x(){return S||(S=function zt(q,I,{blocked:ae,upgrade:ie,blocking:ve,terminated:gt}={}){const Nt=indexedDB.open(q,I),$n=Xt(Nt);return ie&&Nt.addEventListener("upgradeneeded",Kt=>{ie(Xt(Nt.result),Kt.oldVersion,Kt.newVersion,Xt(Nt.transaction),Kt)}),ae&&Nt.addEventListener("blocked",Kt=>ae(Kt.oldVersion,Kt.newVersion,Kt)),$n.then(Kt=>{gt&&Kt.addEventListener("close",()=>gt()),ve&&Kt.addEventListener("versionchange",Dn=>ve(Dn.oldVersion,Dn.newVersion,Dn))}).catch(()=>{}),$n}(ic,Va,{upgrade:(q,I)=>{0===I&&q.createObjectStore(M)}}).catch(q=>{throw Si.create("idb-open",{originalErrorMessage:q.message})})),S}function L(){return(L=(0,w.Z)(function*(q){try{return yield(yield x()).transaction(M).objectStore(M).get(at(q))}catch(I){if(I instanceof qe.ZR)tt.warn(I.message);else{const ae=Si.create("idb-get",{originalErrorMessage:I?.message});tt.warn(ae.message)}}})).apply(this,arguments)}function Ie(q,I){return be.apply(this,arguments)}function be(){return(be=(0,w.Z)(function*(q,I){try{const ie=(yield x()).transaction(M,"readwrite");yield ie.objectStore(M).put(I,at(q)),yield ie.done}catch(ae){if(ae instanceof qe.ZR)tt.warn(ae.message);else{const ie=Si.create("idb-set",{originalErrorMessage:ae?.message});tt.warn(ie.message)}}})).apply(this,arguments)}function at(q){return`${q.name}!${q.options.appId}`}class Yn{constructor(I){this.container=I,this._heartbeatsCache=null;const ae=this.container.getProvider("app").getImmediate();this._storage=new Ui(ae),this._heartbeatsCachePromise=this._storage.read().then(ie=>(this._heartbeatsCache=ie,ie))}triggerHeartbeat(){var I=this;return(0,w.Z)(function*(){var ae,ie;const gt=I.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Nt=Me();if((null!=(null===(ae=I._heartbeatsCache)||void 0===ae?void 0:ae.heartbeats)||(I._heartbeatsCache=yield I._heartbeatsCachePromise,null!=(null===(ie=I._heartbeatsCache)||void 0===ie?void 0:ie.heartbeats)))&&I._heartbeatsCache.lastSentHeartbeatDate!==Nt&&!I._heartbeatsCache.heartbeats.some($n=>$n.date===Nt))return I._heartbeatsCache.heartbeats.push({date:Nt,agent:gt}),I._heartbeatsCache.heartbeats=I._heartbeatsCache.heartbeats.filter($n=>{const Kt=new Date($n.date).valueOf();return Date.now()-Kt<=2592e6}),I._storage.overwrite(I._heartbeatsCache)})()}getHeartbeatsHeader(){var I=this;return(0,w.Z)(function*(){var ae;if(null===I._heartbeatsCache&&(yield I._heartbeatsCachePromise),null==(null===(ae=I._heartbeatsCache)||void 0===ae?void 0:ae.heartbeats)||0===I._heartbeatsCache.heartbeats.length)return"";const ie=Me(),{heartbeatsToSend:ve,unsentEntries:gt}=function xe(q,I=1024){const ae=[];let ie=q.slice();for(const ve of q){const gt=ae.find(Nt=>Nt.agent===ve.agent);if(gt){if(gt.dates.push(ve.date),is(ae)>I){gt.dates.pop();break}}else if(ae.push({agent:ve.agent,dates:[ve.date]}),is(ae)>I){ae.pop();break}ie=ie.slice(1)}return{heartbeatsToSend:ae,unsentEntries:ie}}(I._heartbeatsCache.heartbeats),Nt=(0,qe.L)(JSON.stringify({version:2,heartbeats:ve}));return I._heartbeatsCache.lastSentHeartbeatDate=ie,gt.length>0?(I._heartbeatsCache.heartbeats=gt,yield I._storage.overwrite(I._heartbeatsCache)):(I._heartbeatsCache.heartbeats=[],I._storage.overwrite(I._heartbeatsCache)),Nt})()}}function Me(){return(new Date).toISOString().substring(0,10)}class Ui{constructor(I){this.app=I,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,w.Z)(function*(){return!!(0,qe.hl)()&&(0,qe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var I=this;return(0,w.Z)(function*(){if(yield I._canUseIndexedDBPromise){const ie=yield function W(q){return L.apply(this,arguments)}(I.app);return ie?.heartbeats?ie:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(I){var ae=this;return(0,w.Z)(function*(){var ie;if(yield ae._canUseIndexedDBPromise){const gt=yield ae.read();return Ie(ae.app,{lastSentHeartbeatDate:null!==(ie=I.lastSentHeartbeatDate)&&void 0!==ie?ie:gt.lastSentHeartbeatDate,heartbeats:I.heartbeats})}})()}add(I){var ae=this;return(0,w.Z)(function*(){var ie;if(yield ae._canUseIndexedDBPromise){const gt=yield ae.read();return Ie(ae.app,{lastSentHeartbeatDate:null!==(ie=I.lastSentHeartbeatDate)&&void 0!==ie?ie:gt.lastSentHeartbeatDate,heartbeats:[...gt.heartbeats,...I.heartbeats]})}})()}}function is(q){return(0,qe.L)(JSON.stringify({version:2,heartbeats:q})).length}!function af(q){ko(new He.wA("platform-logger",I=>new Jt(I),"PRIVATE")),ko(new He.wA("heartbeat",I=>new Yn(I),"PRIVATE")),Ws(ts,"0.9.25",q),Ws(ts,"0.9.25","esm2017"),Ws("fire-js","")}("")},859:(bs,ar,Qe)=>{Qe.d(ar,{H0:()=>lr,wA:()=>G});var w=Qe(861),He=Qe(90);class G{constructor(te,ce,Re){this.name=te,this.instanceFactory=ce,this.type=Re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(te){return this.instantiationMode=te,this}setMultipleInstances(te){return this.multipleInstances=te,this}setServiceProps(te){return this.serviceProps=te,this}setInstanceCreatedCallback(te){return this.onInstanceCreated=te,this}}const qe="[DEFAULT]";class Tt{constructor(te,ce){this.name=te,this.container=ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(te){const ce=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(ce)){const Re=new He.BH;if(this.instancesDeferred.set(ce,Re),this.isInitialized(ce)||this.shouldAutoInitialize())try{const ht=this.getOrInitializeService({instanceIdentifier:ce});ht&&Re.resolve(ht)}catch{}}return this.instancesDeferred.get(ce).promise}getImmediate(te){var ce;const Re=this.normalizeInstanceIdentifier(te?.identifier),ht=null!==(ce=te?.optional)&&void 0!==ce&&ce;if(!this.isInitialized(Re)&&!this.shouldAutoInitialize()){if(ht)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Re})}catch(At){if(ht)return null;throw At}}getComponent(){return this.component}setComponent(te){if(te.name!==this.name)throw Error(`Mismatching Component ${te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=te,this.shouldAutoInitialize()){if(function En(ft){return"EAGER"===ft.instantiationMode}(te))try{this.getOrInitializeService({instanceIdentifier:qe})}catch{}for(const[ce,Re]of this.instancesDeferred.entries()){const ht=this.normalizeInstanceIdentifier(ce);try{const At=this.getOrInitializeService({instanceIdentifier:ht});Re.resolve(At)}catch{}}}}clearInstance(te=qe){this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)}delete(){var te=this;return(0,w.Z)(function*(){const ce=Array.from(te.instances.values());yield Promise.all([...ce.filter(Re=>"INTERNAL"in Re).map(Re=>Re.INTERNAL.delete()),...ce.filter(Re=>"_delete"in Re).map(Re=>Re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(te=qe){return this.instances.has(te)}getOptions(te=qe){return this.instancesOptions.get(te)||{}}initialize(te={}){const{options:ce={}}=te,Re=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(Re))throw Error(`${this.name}(${Re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ht=this.getOrInitializeService({instanceIdentifier:Re,options:ce});for(const[At,cr]of this.instancesDeferred.entries())Re===this.normalizeInstanceIdentifier(At)&&cr.resolve(ht);return ht}onInit(te,ce){var Re;const ht=this.normalizeInstanceIdentifier(ce),At=null!==(Re=this.onInitCallbacks.get(ht))&&void 0!==Re?Re:new Set;At.add(te),this.onInitCallbacks.set(ht,At);const cr=this.instances.get(ht);return cr&&te(cr,ht),()=>{At.delete(te)}}invokeOnInitCallbacks(te,ce){const Re=this.onInitCallbacks.get(ce);if(Re)for(const ht of Re)try{ht(te,ce)}catch{}}getOrInitializeService({instanceIdentifier:te,options:ce={}}){let Re=this.instances.get(te);if(!Re&&this.component&&(Re=this.component.instanceFactory(this.container,{instanceIdentifier:(ft=te,ft===qe?void 0:ft),options:ce}),this.instances.set(te,Re),this.instancesOptions.set(te,ce),this.invokeOnInitCallbacks(Re,te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,te,Re)}catch{}var ft;return Re||null}normalizeInstanceIdentifier(te=qe){return this.component?this.component.multipleInstances?te:qe:te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class lr{constructor(te){this.name=te,this.providers=new Map}addComponent(te){const ce=this.getProvider(te.name);if(ce.isComponentSet())throw new Error(`Component ${te.name} has already been registered with ${this.name}`);ce.setComponent(te)}addOrOverwriteComponent(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)}getProvider(te){if(this.providers.has(te))return this.providers.get(te);const ce=new Tt(te,this);return this.providers.set(te,ce),ce}getProviders(){return Array.from(this.providers.values())}}},877:(bs,ar,Qe)=>{Qe.d(ar,{Am:()=>ft,Ub:()=>lr,Yd:()=>En,in:()=>He});const w=[];var He=(()=>{return(te=He||(He={}))[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",He;var te})();const G={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},qe=He.INFO,Tt={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},cn=(te,ce,...Re)=>{if(ce<te.logLevel)return;const ht=(new Date).toISOString(),At=Tt[ce];if(!At)throw new Error(`Attempted to log a message with an invalid logType (value: ${ce})`);console[At](`[${ht}]  ${te.name}:`,...Re)};class En{constructor(ce){this.name=ce,this._logLevel=qe,this._logHandler=cn,this._userLogHandler=null,w.push(this)}get logLevel(){return this._logLevel}set logLevel(ce){if(!(ce in He))throw new TypeError(`Invalid value "${ce}" assigned to \`logLevel\``);this._logLevel=ce}setLogLevel(ce){this._logLevel="string"==typeof ce?G[ce]:ce}get logHandler(){return this._logHandler}set logHandler(ce){if("function"!=typeof ce)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ce}get userLogHandler(){return this._userLogHandler}set userLogHandler(ce){this._userLogHandler=ce}debug(...ce){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...ce),this._logHandler(this,He.DEBUG,...ce)}log(...ce){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...ce),this._logHandler(this,He.VERBOSE,...ce)}info(...ce){this._userLogHandler&&this._userLogHandler(this,He.INFO,...ce),this._logHandler(this,He.INFO,...ce)}warn(...ce){this._userLogHandler&&this._userLogHandler(this,He.WARN,...ce),this._logHandler(this,He.WARN,...ce)}error(...ce){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...ce),this._logHandler(this,He.ERROR,...ce)}}function lr(te){w.forEach(ce=>{ce.setLogLevel(te)})}function ft(te,ce){for(const Re of w){let ht=null;ce&&ce.level&&(ht=G[ce.level]),Re.userLogHandler=null===te?null:(At,cr,...xt)=>{const Ke=xt.map(st=>{if(null==st)return null;if("string"==typeof st)return st;if("number"==typeof st||"boolean"==typeof st)return st.toString();if(st instanceof Error)return st.message;try{return JSON.stringify(st)}catch{return null}}).filter(st=>st).join(" ");cr>=(ht??At.logLevel)&&te({level:He[cr].toLowerCase(),message:Ke,args:xt,type:At.name})}}}},211:(bs,ar,Qe)=>{Qe.r(ar);var w=Qe(861),He=Qe(942),G=Qe(90),qe=Qe(881),Tt=Qe(877),cn=Qe(582),En=Qe(859);const ft={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Re_EMAIL_SIGNIN="EMAIL_SIGNIN",Re_PASSWORD_RESET="PASSWORD_RESET",Re_RECOVER_EMAIL="RECOVER_EMAIL",Re_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",Re_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",Re_VERIFY_EMAIL="VERIFY_EMAIL";const cr=function ht(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},xt=function At(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ke=new G.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ur=new Tt.Yd("@firebase/auth");function Xt(f,...c){ur.logLevel<=Tt.in.ERROR&&ur.error(`Auth (${qe.SDK_VERSION}): ${f}`,...c)}function Pt(f,...c){throw Kn(f,...c)}function zt(f,...c){return Kn(f,...c)}function Gr(f,c,u){const p=Object.assign(Object.assign({},xt()),{[c]:u});return new G.LL("auth","Firebase",p).create(c,{appName:f.name})}function ot(f,c,u){if(!(c instanceof u))throw u.name!==c.constructor.name&&Pt(f,"argument-error"),Gr(f,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Kn(f,...c){if("string"!=typeof f){const u=c[0],p=[...c.slice(1)];return p[0]&&(p[0].appName=f.name),f._errorFactory.create(u,...p)}return Ke.create(f,...c)}function ee(f,c,...u){if(!f)throw Kn(c,...u)}function un(f){const c="INTERNAL ASSERTION FAILED: "+f;throw Xt(c),new Error(c)}function Jt(f,c){f||un(c)}function Un(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function ts(){return"http:"===ns()||"https:"===ns()}function ns(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class rs{constructor(c,u){this.shortDelay=c,this.longDelay=u,Jt(u>c,"Short delay should be less than long delay!"),this.isMobile=(0,G.uI)()||(0,G.b$)()}get(){return function tt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ts()||(0,G.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function U(f,c){Jt(f.emulator,"Emulator should always be set here");const{url:u}=f.emulator;return c?`${u}${c.startsWith("/")?c.slice(1):c}`:u}class H{static initialize(c,u,p){this.fetchImpl=c,u&&(this.headersImpl=u),p&&(this.responseImpl=p)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void un("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void un("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void un("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const j={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Q=new rs(3e4,6e4);function ne(f,c){return f.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:f.tenantId}):c}function z(f,c,u,p){return _e.apply(this,arguments)}function _e(){return(_e=(0,w.Z)(function*(f,c,u,p,_={}){return Et(f,_,(0,w.Z)(function*(){let v={},R={};p&&("GET"===c?R=p:v={body:JSON.stringify(p)});const F=(0,G.xO)(Object.assign({key:f.config.apiKey},R)).slice(1),K=yield f._getAdditionalHeaders();return K["Content-Type"]="application/json",f.languageCode&&(K["X-Firebase-Locale"]=f.languageCode),H.fetch()(dn(f,f.config.apiHost,u,F),Object.assign({method:c,headers:K,referrerPolicy:"no-referrer"},v))}))})).apply(this,arguments)}function Et(f,c,u){return ye.apply(this,arguments)}function ye(){return(ye=(0,w.Z)(function*(f,c,u){f._canInitEmulator=!1;const p=Object.assign(Object.assign({},j),c);try{const _=new vr(f),v=yield Promise.race([u(),_.promise]);_.clearNetworkTimeout();const R=yield v.json();if("needConfirmation"in R)throw Zn(f,"account-exists-with-different-credential",R);if(v.ok&&!("errorMessage"in R))return R;{const F=v.ok?R.errorMessage:R.error.message,[K,he]=F.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===K)throw Zn(f,"credential-already-in-use",R);if("EMAIL_EXISTS"===K)throw Zn(f,"email-already-in-use",R);if("USER_DISABLED"===K)throw Zn(f,"user-disabled",R);const Te=p[K]||K.toLowerCase().replace(/[_\s]+/g,"-");if(he)throw Gr(f,Te,he);Pt(f,Te)}}catch(_){if(_ instanceof G.ZR)throw _;Pt(f,"network-request-failed",{message:String(_)})}})).apply(this,arguments)}function Oe(f,c,u,p){return bt.apply(this,arguments)}function bt(){return(bt=(0,w.Z)(function*(f,c,u,p,_={}){const v=yield z(f,c,u,p,_);return"mfaPendingCredential"in v&&Pt(f,"multi-factor-auth-required",{_serverResponse:v}),v})).apply(this,arguments)}function dn(f,c,u,p){const _=`${c}${u}?${p}`;return f.config.emulator?U(f.config,_):`${f.config.apiScheme}://${_}`}function Gt(f){switch(f){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vr{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((u,p)=>{this.timer=setTimeout(()=>p(zt(this.auth,"network-request-failed")),Q.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zn(f,c,u){const p={appName:f.name};u.email&&(p.email=u.email),u.phoneNumber&&(p.phoneNumber=u.phoneNumber);const _=zt(f,c,p);return _.customData._tokenResponse=u,_}function Pr(f){return void 0!==f&&void 0!==f.getResponse}function Wr(f){return void 0!==f&&void 0!==f.enterprise}class hi{constructor(c){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===c.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=c.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=c.recaptchaEnforcementState}getProviderEnforcementState(c){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const u of this.recaptchaEnforcementState)if(u.provider&&u.provider===c)return Gt(u.enforcementState);return null}isProviderEnabled(c){return"ENFORCE"===this.getProviderEnforcementState(c)||"AUDIT"===this.getProviderEnforcementState(c)}}function Cs(){return(Cs=(0,w.Z)(function*(f){return(yield z(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Cn(f,c){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,w.Z)(function*(f,c){return z(f,"GET","/v2/recaptchaConfig",ne(f,c))})).apply(this,arguments)}function Li(){return(Li=(0,w.Z)(function*(f,c){return z(f,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function Kr(){return(Kr=(0,w.Z)(function*(f,c){return z(f,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function zs(){return(zs=(0,w.Z)(function*(f,c){return z(f,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function Er(f){if(f)try{const c=new Date(Number(f));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function Bi(){return(Bi=(0,w.Z)(function*(f,c=!1){const u=(0,G.m9)(f),p=yield u.getIdToken(c),_=Na(p);ee(_&&_.exp&&_.auth_time&&_.iat,u.auth,"internal-error");const v="object"==typeof _.firebase?_.firebase:void 0,R=v?.sign_in_provider;return{claims:_,token:p,authTime:Er(Qn(_.auth_time)),issuedAtTime:Er(Qn(_.iat)),expirationTime:Er(Qn(_.exp)),signInProvider:R||null,signInSecondFactor:v?.sign_in_second_factor||null}})).apply(this,arguments)}function Qn(f){return 1e3*Number(f)}function Na(f){const[c,u,p]=f.split(".");if(void 0===c||void 0===u||void 0===p)return Xt("JWT malformed, contained fewer than 3 sections"),null;try{const _=(0,G.tV)(u);return _?JSON.parse(_):(Xt("Failed to decode base64 JWT payload"),null)}catch(_){return Xt("Caught error parsing JWT payload as JSON",_?.toString()),null}}function fi(f,c){return qs.apply(this,arguments)}function qs(){return(qs=(0,w.Z)(function*(f,c,u=!1){if(u)return c;try{return yield c}catch(p){throw p instanceof G.ZR&&function ka({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(p)&&f.auth.currentUser===f&&(yield f.auth.signOut()),p}})).apply(this,arguments)}class Gs{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var u;if(c){const p=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),p}{this.errorBackoff=3e4;const _=(null!==(u=this.user.stsTokenManager.expirationTime)&&void 0!==u?u:0)-Date.now()-3e5;return Math.max(0,_)}}schedule(c=!1){var u=this;if(!this.isRunning)return;const p=this.getInterval(c);this.timerId=setTimeout((0,w.Z)(function*(){yield u.iteration()}),p)}iteration(){var c=this;return(0,w.Z)(function*(){try{yield c.user.getIdToken(!0)}catch(u){return void("auth/network-request-failed"===u?.code&&c.schedule(!0))}c.schedule()})()}}class Oa{constructor(c,u){this.createdAt=c,this.lastLoginAt=u,this._initializeTime()}_initializeTime(){this.lastSignInTime=Er(this.lastLoginAt),this.creationTime=Er(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Nr(f){return Zr.apply(this,arguments)}function Zr(){return Zr=(0,w.Z)(function*(f){var c;const u=f.auth,p=yield f.getIdToken(),_=yield fi(f,function Ds(f,c){return zs.apply(this,arguments)}(u,{idToken:p}));ee(_?.users.length,u,"internal-error");const v=_.users[0];f._notifyReloadListener(v);const R=null!==(c=v.providerUserInfo)&&void 0!==c&&c.length?function ic(f){return f.map(c=>{var{providerId:u}=c,p=(0,cn._T)(c,["providerId"]);return{providerId:u,uid:p.rawId||"",displayName:p.displayName||null,email:p.email||null,phoneNumber:p.phoneNumber||null,photoURL:p.photoUrl||null}})}(v.providerUserInfo):[],F=function Ru(f,c){return[...f.filter(p=>!c.some(_=>_.providerId===p.providerId)),...c]}(f.providerData,R),Te=!!f.isAnonymous&&!(f.email&&v.passwordHash||F?.length),Se={uid:v.localId,displayName:v.displayName||null,photoURL:v.photoUrl||null,email:v.email||null,emailVerified:v.emailVerified||!1,phoneNumber:v.phoneNumber||null,tenantId:v.tenantId||null,providerData:F,metadata:new Oa(v.createdAt,v.lastLoginAt),isAnonymous:Te};Object.assign(f,Se)}),Zr.apply(this,arguments)}function Fa(){return(Fa=(0,w.Z)(function*(f){const c=(0,G.m9)(f);yield Nr(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function M(){return(M=(0,w.Z)(function*(f,c){const u=yield Et(f,{},(0,w.Z)(function*(){const p=(0,G.xO)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:_,apiKey:v}=f.config,R=dn(f,_,"/v1/token",`key=${v}`),F=yield f._getAdditionalHeaders();return F["Content-Type"]="application/x-www-form-urlencoded",H.fetch()(R,{method:"POST",headers:F,body:p})}));return{accessToken:u.access_token,expiresIn:u.expires_in,refreshToken:u.refresh_token}})).apply(this,arguments)}function x(){return(x=(0,w.Z)(function*(f,c){return z(f,"POST","/v2/accounts:revokeToken",ne(f,c))})).apply(this,arguments)}class W{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){ee(c.idToken,"internal-error"),ee(typeof c.idToken<"u","internal-error"),ee(typeof c.refreshToken<"u","internal-error");const u="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):function Si(f){const c=Na(f);return ee(c,"internal-error"),ee(typeof c.exp<"u","internal-error"),ee(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,u)}getToken(c,u=!1){var p=this;return(0,w.Z)(function*(){return ee(!p.accessToken||p.refreshToken,c,"user-token-expired"),u||!p.accessToken||p.isExpired?p.refreshToken?(yield p.refresh(c,p.refreshToken),p.accessToken):null:p.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,u){var p=this;return(0,w.Z)(function*(){const{accessToken:_,refreshToken:v,expiresIn:R}=yield function Va(f,c){return M.apply(this,arguments)}(c,u);p.updateTokensAndExpiration(_,v,Number(R))})()}updateTokensAndExpiration(c,u,p){this.refreshToken=u||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*p}static fromJSON(c,u){const{refreshToken:p,accessToken:_,expirationTime:v}=u,R=new W;return p&&(ee("string"==typeof p,"internal-error",{appName:c}),R.refreshToken=p),_&&(ee("string"==typeof _,"internal-error",{appName:c}),R.accessToken=_),v&&(ee("number"==typeof v,"internal-error",{appName:c}),R.expirationTime=v),R}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new W,this.toJSON())}_performRefresh(){return un("not implemented")}}function L(f,c){ee("string"==typeof f||typeof f>"u","internal-error",{appName:c})}class Ie{constructor(c){var{uid:u,auth:p,stsTokenManager:_}=c,v=(0,cn._T)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=u,this.auth=p,this.stsTokenManager=_,this.accessToken=_.accessToken,this.displayName=v.displayName||null,this.email=v.email||null,this.emailVerified=v.emailVerified||!1,this.phoneNumber=v.phoneNumber||null,this.photoURL=v.photoURL||null,this.isAnonymous=v.isAnonymous||!1,this.tenantId=v.tenantId||null,this.providerData=v.providerData?[...v.providerData]:[],this.metadata=new Oa(v.createdAt||void 0,v.lastLoginAt||void 0)}getIdToken(c){var u=this;return(0,w.Z)(function*(){const p=yield fi(u,u.stsTokenManager.getToken(u.auth,c));return ee(p,u.auth,"internal-error"),u.accessToken!==p&&(u.accessToken=p,yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)),p})()}getIdTokenResult(c){return function Wt(f){return Bi.apply(this,arguments)}(this,c)}reload(){return function Ws(f){return Fa.apply(this,arguments)}(this)}_assign(c){this!==c&&(ee(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(u=>Object.assign({},u)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){const u=new Ie(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}));return u.metadata._copy(this.metadata),u}_onReload(c){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,u=!1){var p=this;return(0,w.Z)(function*(){let _=!1;c.idToken&&c.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(c),_=!0),u&&(yield Nr(p)),yield p.auth._persistUserIfCurrent(p),_&&p.auth._notifyListenersIfCurrent(p)})()}delete(){var c=this;return(0,w.Z)(function*(){const u=yield c.getIdToken();return yield fi(c,function nc(f,c){return Li.apply(this,arguments)}(c.auth,{idToken:u})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,u){var p,_,v,R,F,K,he,Te;const Se=null!==(p=u.displayName)&&void 0!==p?p:void 0,rn=null!==(_=u.email)&&void 0!==_?_:void 0,vi=null!==(v=u.phoneNumber)&&void 0!==v?v:void 0,cl=null!==(R=u.photoURL)&&void 0!==R?R:void 0,md=null!==(F=u.tenantId)&&void 0!==F?F:void 0,Jo=null!==(K=u._redirectEventId)&&void 0!==K?K:void 0,gy=null!==(he=u.createdAt)&&void 0!==he?he:void 0,Mp=null!==(Te=u.lastLoginAt)&&void 0!==Te?Te:void 0,{uid:xp,emailVerified:_y,isAnonymous:yy,providerData:gd,stsTokenManager:Pp}=u;ee(xp&&Pp,c,"internal-error");const _d=W.fromJSON(this.name,Pp);ee("string"==typeof xp,c,"internal-error"),L(Se,c.name),L(rn,c.name),ee("boolean"==typeof _y,c,"internal-error"),ee("boolean"==typeof yy,c,"internal-error"),L(vi,c.name),L(cl,c.name),L(md,c.name),L(Jo,c.name),L(gy,c.name),L(Mp,c.name);const Tc=new Ie({uid:xp,auth:c,email:rn,emailVerified:_y,displayName:Se,isAnonymous:yy,photoURL:cl,phoneNumber:vi,tenantId:md,stsTokenManager:_d,createdAt:gy,lastLoginAt:Mp});return gd&&Array.isArray(gd)&&(Tc.providerData=gd.map(ul=>Object.assign({},ul))),Jo&&(Tc._redirectEventId=Jo),Tc}static _fromIdTokenResponse(c,u,p=!1){return(0,w.Z)(function*(){const _=new W;_.updateFromServerResponse(u);const v=new Ie({uid:u.localId,auth:c,stsTokenManager:_,isAnonymous:p});return yield Nr(v),v})()}}const be=new Map;function at(f){Jt(f instanceof Function,"Expected a class definition");let c=be.get(f);return c?(Jt(c instanceof f,"Instance stored in cache mismatched with class"),c):(c=new f,be.set(f,c),c)}const en=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,w.Z)(function*(){return!0})()}_set(u,p){var _=this;return(0,w.Z)(function*(){_.storage[u]=p})()}_get(u){var p=this;return(0,w.Z)(function*(){const _=p.storage[u];return void 0===_?null:_})()}_remove(u){var p=this;return(0,w.Z)(function*(){delete p.storage[u]})()}_addListener(u,p){}_removeListener(u,p){}}return f.type="NONE",f})();function Yn(f,c,u){return`firebase:${f}:${c}:${u}`}class Me{constructor(c,u,p){this.persistence=c,this.auth=u,this.userKey=p;const{config:_,name:v}=this.auth;this.fullUserKey=Yn(this.userKey,_.apiKey,v),this.fullPersistenceKey=Yn("persistence",_.apiKey,v),this.boundEventHandler=u._onStorageEvent.bind(u),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,w.Z)(function*(){const u=yield c.persistence._get(c.fullUserKey);return u?Ie._fromJSON(c.auth,u):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var u=this;return(0,w.Z)(function*(){if(u.persistence===c)return;const p=yield u.getCurrentUser();return yield u.removeCurrentUser(),u.persistence=c,p?u.setCurrentUser(p):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,u,p="authUser"){return(0,w.Z)(function*(){if(!u.length)return new Me(at(en),c,p);const _=(yield Promise.all(u.map(function(){var he=(0,w.Z)(function*(Te){if(yield Te._isAvailable())return Te});return function(Te){return he.apply(this,arguments)}}()))).filter(he=>he);let v=_[0]||at(en);const R=Yn(p,c.config.apiKey,c.name);let F=null;for(const he of u)try{const Te=yield he._get(R);if(Te){const Se=Ie._fromJSON(c,Te);he!==v&&(F=Se),v=he;break}}catch{}const K=_.filter(he=>he._shouldAllowMigration);return v._shouldAllowMigration&&K.length?(v=K[0],F&&(yield v._set(R,F.toJSON())),yield Promise.all(u.map(function(){var he=(0,w.Z)(function*(Te){if(Te!==v)try{yield Te._remove(R)}catch{}});return function(Te){return he.apply(this,arguments)}}())),new Me(v,c,p)):new Me(v,c,p)})()}}function xe(f){const c=f.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(q(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(Ui(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(ae(c))return"Blackberry";if(ie(c))return"Webos";if(is(c))return"Safari";if((c.includes("chrome/")||af(c))&&!c.includes("edge/"))return"Chrome";if(I(c))return"Android";{const p=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===p?.length)return p[1]}return"Other"}function Ui(f=(0,G.z$)()){return/firefox\//i.test(f)}function is(f=(0,G.z$)()){const c=f.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function af(f=(0,G.z$)()){return/crios\//i.test(f)}function q(f=(0,G.z$)()){return/iemobile/i.test(f)}function I(f=(0,G.z$)()){return/android/i.test(f)}function ae(f=(0,G.z$)()){return/blackberry/i.test(f)}function ie(f=(0,G.z$)()){return/webos/i.test(f)}function ve(f=(0,G.z$)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function Kt(f=(0,G.z$)()){return ve(f)||I(f)||ie(f)||ae(f)||/windows phone/i.test(f)||q(f)}function sc(f,c=[]){let u;switch(f){case"Browser":u=xe((0,G.z$)());break;case"Worker":u=`${xe((0,G.z$)())}-${f}`;break;default:u=f}const p=c.length?c.join(","):"FirebaseCore-web";return`${u}/JsCore/${qe.SDK_VERSION}/${p}`}class lI{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,u){const p=v=>new Promise((R,F)=>{try{R(c(v))}catch(K){F(K)}});p.onAbort=u,this.queue.push(p);const _=this.queue.length-1;return()=>{this.queue[_]=()=>Promise.resolve()}}runMiddleware(c){var u=this;return(0,w.Z)(function*(){if(u.auth.currentUser===c)return;const p=[];try{for(const _ of u.queue)yield _(c),_.onAbort&&p.push(_.onAbort)}catch(_){p.reverse();for(const v of p)try{v()}catch{}throw u.auth._errorFactory.create("login-blocked",{originalMessage:_?.message})}})()}}function ss(){return(ss=(0,w.Z)(function*(f,c={}){return z(f,"GET","/v2/passwordPolicy",ne(f,c))})).apply(this,arguments)}class wR{constructor(c){var u,p,_,v;const R=c.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(u=R.minPasswordLength)&&void 0!==u?u:6,R.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=R.maxPasswordLength),void 0!==R.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=R.containsLowercaseCharacter),void 0!==R.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=R.containsUppercaseCharacter),void 0!==R.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=R.containsNumericCharacter),void 0!==R.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=R.containsNonAlphanumericCharacter),this.enforcementState=c.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(_=null===(p=c.allowedNonAlphanumericCharacters)||void 0===p?void 0:p.join(""))&&void 0!==_?_:"",this.forceUpgradeOnSignin=null!==(v=c.forceUpgradeOnSignin)&&void 0!==v&&v,this.schemaVersion=c.schemaVersion}validatePassword(c){var u,p,_,v,R,F;const K={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(c,K),this.validatePasswordCharacterOptions(c,K),K.isValid&&(K.isValid=null===(u=K.meetsMinPasswordLength)||void 0===u||u),K.isValid&&(K.isValid=null===(p=K.meetsMaxPasswordLength)||void 0===p||p),K.isValid&&(K.isValid=null===(_=K.containsLowercaseLetter)||void 0===_||_),K.isValid&&(K.isValid=null===(v=K.containsUppercaseLetter)||void 0===v||v),K.isValid&&(K.isValid=null===(R=K.containsNumericCharacter)||void 0===R||R),K.isValid&&(K.isValid=null===(F=K.containsNonAlphanumericCharacter)||void 0===F||F),K}validatePasswordLengthOptions(c,u){const p=this.customStrengthOptions.minPasswordLength,_=this.customStrengthOptions.maxPasswordLength;p&&(u.meetsMinPasswordLength=c.length>=p),_&&(u.meetsMaxPasswordLength=c.length<=_)}validatePasswordCharacterOptions(c,u){let p;this.updatePasswordCharacterOptionsStatuses(u,!1,!1,!1,!1);for(let _=0;_<c.length;_++)p=c.charAt(_),this.updatePasswordCharacterOptionsStatuses(u,p>="a"&&p<="z",p>="A"&&p<="Z",p>="0"&&p<="9",this.allowedNonAlphanumericCharacters.includes(p))}updatePasswordCharacterOptionsStatuses(c,u,p,_,v){this.customStrengthOptions.containsLowercaseLetter&&(c.containsLowercaseLetter||(c.containsLowercaseLetter=u)),this.customStrengthOptions.containsUppercaseLetter&&(c.containsUppercaseLetter||(c.containsUppercaseLetter=p)),this.customStrengthOptions.containsNumericCharacter&&(c.containsNumericCharacter||(c.containsNumericCharacter=_)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(c.containsNonAlphanumericCharacter||(c.containsNonAlphanumericCharacter=v))}}class IR{constructor(c,u,p,_){this.app=c,this.heartbeatServiceProvider=u,this.appCheckServiceProvider=p,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new c_(this),this.idTokenSubscription=new c_(this),this.beforeStateQueue=new lI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ke,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(c,u){var p=this;return u&&(this._popupRedirectResolver=at(u)),this._initializationPromise=this.queue((0,w.Z)(function*(){var _,v;if(!p._deleted&&(p.persistenceManager=yield Me.create(p,c),!p._deleted)){if(null!==(_=p._popupRedirectResolver)&&void 0!==_&&_._shouldInitProactively)try{yield p._popupRedirectResolver._initialize(p)}catch{}yield p.initializeCurrentUser(u),p.lastNotifiedUid=(null===(v=p.currentUser)||void 0===v?void 0:v.uid)||null,!p._deleted&&(p._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,w.Z)(function*(){if(c._deleted)return;const u=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||u){if(c.currentUser&&u&&c.currentUser.uid===u.uid)return c._currentUser._assign(u),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(u,!0)}})()}initializeCurrentUser(c){var u=this;return(0,w.Z)(function*(){var p;const _=yield u.assertedPersistence.getCurrentUser();let v=_,R=!1;if(c&&u.config.authDomain){yield u.getOrInitRedirectPersistenceManager();const F=null===(p=u.redirectUser)||void 0===p?void 0:p._redirectEventId,K=v?._redirectEventId,he=yield u.tryRedirectSignIn(c);(!F||F===K)&&he?.user&&(v=he.user,R=!0)}if(!v)return u.directlySetCurrentUser(null);if(!v._redirectEventId){if(R)try{yield u.beforeStateQueue.runMiddleware(v)}catch(F){v=_,u._popupRedirectResolver._overrideRedirectResult(u,()=>Promise.reject(F))}return v?u.reloadAndSetCurrentUserOrClear(v):u.directlySetCurrentUser(null)}return ee(u._popupRedirectResolver,u,"argument-error"),yield u.getOrInitRedirectPersistenceManager(),u.redirectUser&&u.redirectUser._redirectEventId===v._redirectEventId?u.directlySetCurrentUser(v):u.reloadAndSetCurrentUserOrClear(v)})()}tryRedirectSignIn(c){var u=this;return(0,w.Z)(function*(){let p=null;try{p=yield u._popupRedirectResolver._completeRedirectFn(u,c,!0)}catch{yield u._setRedirectUser(null)}return p})()}reloadAndSetCurrentUserOrClear(c){var u=this;return(0,w.Z)(function*(){try{yield Nr(c)}catch(p){if("auth/network-request-failed"!==p?.code)return u.directlySetCurrentUser(null)}return u.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function No(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var c=this;return(0,w.Z)(function*(){c._deleted=!0})()}updateCurrentUser(c){var u=this;return(0,w.Z)(function*(){const p=c?(0,G.m9)(c):null;return p&&ee(p.auth.config.apiKey===u.config.apiKey,u,"invalid-user-token"),u._updateCurrentUser(p&&p._clone(u))})()}_updateCurrentUser(c,u=!1){var p=this;return(0,w.Z)(function*(){if(!p._deleted)return c&&ee(p.tenantId===c.tenantId,p,"tenant-id-mismatch"),u||(yield p.beforeStateQueue.runMiddleware(c)),p.queue((0,w.Z)(function*(){yield p.directlySetCurrentUser(c),p.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,w.Z)(function*(){return yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0)})()}setPersistence(c){var u=this;return this.queue((0,w.Z)(function*(){yield u.assertedPersistence.setPersistence(at(c))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(c){var u=this;return(0,w.Z)(function*(){u._getPasswordPolicyInternal()||(yield u._updatePasswordPolicy());const p=u._getPasswordPolicyInternal();return p.schemaVersion!==u.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(u._errorFactory.create("unsupported-password-policy-schema-version",{})):p.validatePassword(c)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var c=this;return(0,w.Z)(function*(){const u=yield function vR(f){return ss.apply(this,arguments)}(c),p=new wR(u);null===c.tenantId?c._projectPasswordPolicy=p:c._tenantPasswordPolicies[c.tenantId]=p})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new G.LL("auth","Firebase",c())}onAuthStateChanged(c,u,p){return this.registerStateListener(this.authStateSubscription,c,u,p)}beforeAuthStateChanged(c,u){return this.beforeStateQueue.pushCallback(c,u)}onIdTokenChanged(c,u,p){return this.registerStateListener(this.idTokenSubscription,c,u,p)}authStateReady(){return new Promise((c,u)=>{if(this.currentUser)c();else{const p=this.onAuthStateChanged(()=>{p(),c()},u)}})}revokeAccessToken(c){var u=this;return(0,w.Z)(function*(){if(u.currentUser){const p=yield u.currentUser.getIdToken(),_={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:c,idToken:p};null!=u.tenantId&&(_.tenantId=u.tenantId),yield function S(f,c){return x.apply(this,arguments)}(u,_)}})()}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,u){var p=this;return(0,w.Z)(function*(){const _=yield p.getOrInitRedirectPersistenceManager(u);return null===c?_.removeCurrentUser():_.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var u=this;return(0,w.Z)(function*(){if(!u.redirectPersistenceManager){const p=c&&at(c)||u._popupRedirectResolver;ee(p,u,"argument-error"),u.redirectPersistenceManager=yield Me.create(u,[at(p._redirectPersistence)],"redirectUser"),u.redirectUser=yield u.redirectPersistenceManager.getCurrentUser()}return u.redirectPersistenceManager})()}_redirectUserForId(c){var u=this;return(0,w.Z)(function*(){var p,_;return u._isInitialized&&(yield u.queue((0,w.Z)(function*(){}))),(null===(p=u._currentUser)||void 0===p?void 0:p._redirectEventId)===c?u._currentUser:(null===(_=u.redirectUser)||void 0===_?void 0:_._redirectEventId)===c?u.redirectUser:null})()}_persistUserIfCurrent(c){var u=this;return(0,w.Z)(function*(){if(c===u.currentUser)return u.queue((0,w.Z)(function*(){return u.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,u;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const p=null!==(u=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==u?u:null;this.lastNotifiedUid!==p&&(this.lastNotifiedUid=p,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,u,p,_){if(this._deleted)return()=>{};const v="function"==typeof u?u:u.next.bind(u);let R=!1;const F=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(F,this,"internal-error"),F.then(()=>{R||v(this.currentUser)}),"function"==typeof u){const K=c.addObserver(u,p,_);return()=>{R=!0,K()}}{const K=c.addObserver(u);return()=>{R=!0,K()}}}directlySetCurrentUser(c){var u=this;return(0,w.Z)(function*(){u.currentUser&&u.currentUser!==c&&u._currentUser._stopProactiveRefresh(),c&&u.isProactiveRefreshEnabled&&c._startProactiveRefresh(),u.currentUser=c,c?yield u.assertedPersistence.setCurrentUser(c):yield u.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=sc(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,w.Z)(function*(){var u;const p={"X-Client-Version":c.clientVersion};c.app.options.appId&&(p["X-Firebase-gmpid"]=c.app.options.appId);const _=yield null===(u=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===u?void 0:u.getHeartbeatsHeader();_&&(p["X-Firebase-Client"]=_);const v=yield c._getAppCheckToken();return v&&(p["X-Firebase-AppCheck"]=v),p})()}_getAppCheckToken(){var c=this;return(0,w.Z)(function*(){var u;const p=yield null===(u=c.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===u?void 0:u.getToken();return p?.error&&function dr(f,...c){ur.logLevel<=Tt.in.WARN&&ur.warn(`Auth (${qe.SDK_VERSION}): ${f}`,...c)}(`Error while retrieving App Check token: ${p.error}`),p?.token})()}}function tn(f){return(0,G.m9)(f)}class c_{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,G.ne)(u=>this.observer=u)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function lf(f){return new Promise((c,u)=>{const p=document.createElement("script");p.setAttribute("src",f),p.onload=c,p.onerror=_=>{const v=zt("internal-error");v.customData=_,u(v)},p.type="text/javascript",p.charset="UTF-8",function bR(){var f,c;return null!==(c=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==c?c:document}().appendChild(p)})}function cI(f){return`__${f}${Math.floor(1e6*Math.random())}`}const CR="NO_RECAPTCHA";class uI{constructor(c){this.type="recaptcha-enterprise",this.auth=tn(c)}verify(c="verify",u=!1){var p=this;return(0,w.Z)(function*(){function v(){return v=(0,w.Z)(function*(F){if(!u){if(null==F.tenantId&&null!=F._agentRecaptchaConfig)return F._agentRecaptchaConfig.siteKey;if(null!=F.tenantId&&void 0!==F._tenantRecaptchaConfigs[F.tenantId])return F._tenantRecaptchaConfigs[F.tenantId].siteKey}return new Promise(function(){var K=(0,w.Z)(function*(he,Te){Cn(F,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Se=>{if(void 0!==Se.recaptchaKey){const rn=new hi(Se);return null==F.tenantId?F._agentRecaptchaConfig=rn:F._tenantRecaptchaConfigs[F.tenantId]=rn,he(rn.siteKey)}Te(new Error("recaptcha Enterprise site key undefined"))}).catch(Se=>{Te(Se)})});return function(he,Te){return K.apply(this,arguments)}}())}),v.apply(this,arguments)}function R(F,K,he){const Te=window.grecaptcha;Wr(Te)?Te.enterprise.ready(()=>{Te.enterprise.execute(F,{action:c}).then(Se=>{K(Se)}).catch(()=>{K(CR)})}):he(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((F,K)=>{(function _(F){return v.apply(this,arguments)})(p.auth).then(he=>{if(!u&&Wr(window.grecaptcha))R(he,F,K);else{if(typeof window>"u")return void K(new Error("RecaptchaVerifier is only supported in browser"));lf("https://www.google.com/recaptcha/enterprise.js?render="+he).then(()=>{R(he,F,K)}).catch(Te=>{K(Te)})}}).catch(he=>{K(he)})})})()}}function dI(f,c,u){return we.apply(this,arguments)}function we(){return(we=(0,w.Z)(function*(f,c,u,p=!1){const _=new uI(f);let v;try{v=yield _.verify(u)}catch{v=yield _.verify(u,!0)}const R=Object.assign({},c);return Object.assign(R,p?{captchaResp:v}:{captchaResponse:v}),Object.assign(R,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(R,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),R})).apply(this,arguments)}function Mu(f,c,u,p){return Zt.apply(this,arguments)}function Zt(){return Zt=(0,w.Z)(function*(f,c,u,p){var _;if(null!==(_=f._getRecaptchaConfig())&&void 0!==_&&_.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const v=yield dI(f,c,u,"getOobCode"===u);return p(f,v)}return p(f,c).catch(function(){var v=(0,w.Z)(function*(R){if("auth/missing-recaptcha-token"===R.code){console.log(`${u} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const F=yield dI(f,c,u,"getOobCode"===u);return p(f,F)}return Promise.reject(R)});return function(R){return v.apply(this,arguments)}}())}),Zt.apply(this,arguments)}function oc(f){const c=f.indexOf(":");return c<0?"":f.substr(0,c+1)}function hf(f){if(!f)return null;const c=Number(f);return isNaN(c)?null:c}class Be{constructor(c,u){this.providerId=c,this.signInMethod=u}toJSON(){return un("not implemented")}_getIdTokenResponse(c){return un("not implemented")}_linkToIdToken(c,u){return un("not implemented")}_getReauthenticationResolver(c){return un("not implemented")}}function Pu(f,c){return ff.apply(this,arguments)}function ff(){return(ff=(0,w.Z)(function*(f,c){return z(f,"POST","/v1/accounts:resetPassword",ne(f,c))})).apply(this,arguments)}function Nu(){return(Nu=(0,w.Z)(function*(f,c){return z(f,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function DR(f,c){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,w.Z)(function*(f,c){return z(f,"POST","/v1/accounts:signUp",c)})).apply(this,arguments)}function d_(){return(d_=(0,w.Z)(function*(f,c){return z(f,"POST","/v1/accounts:update",ne(f,c))})).apply(this,arguments)}function SR(f,c){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,w.Z)(function*(f,c){return Oe(f,"POST","/v1/accounts:signInWithPassword",ne(f,c))})).apply(this,arguments)}function La(f,c){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,w.Z)(function*(f,c){return z(f,"POST","/v1/accounts:sendOobCode",ne(f,c))})).apply(this,arguments)}function pf(){return(pf=(0,w.Z)(function*(f,c){return La(f,c)})).apply(this,arguments)}function mI(f,c){return ku.apply(this,arguments)}function ku(){return(ku=(0,w.Z)(function*(f,c){return La(f,c)})).apply(this,arguments)}function ac(f,c){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,w.Z)(function*(f,c){return La(f,c)})).apply(this,arguments)}function Y(){return(Y=(0,w.Z)(function*(f,c){return La(f,c)})).apply(this,arguments)}function Ye(){return(Ye=(0,w.Z)(function*(f,c){return Oe(f,"POST","/v1/accounts:signInWithEmailLink",ne(f,c))})).apply(this,arguments)}function lc(){return(lc=(0,w.Z)(function*(f,c){return Oe(f,"POST","/v1/accounts:signInWithEmailLink",ne(f,c))})).apply(this,arguments)}class Ts extends Be{constructor(c,u,p,_=null){super("password",p),this._email=c,this._password=u,this._tenantId=_}static _fromEmailAndPassword(c,u){return new Ts(c,u,"password")}static _fromEmailAndCode(c,u,p=null){return new Ts(c,u,"emailLink",p)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const u="string"==typeof c?JSON.parse(c):c;if(u?.email&&u?.password){if("password"===u.signInMethod)return this._fromEmailAndPassword(u.email,u.password);if("emailLink"===u.signInMethod)return this._fromEmailAndCode(u.email,u.password,u.tenantId)}return null}_getIdTokenResponse(c){var u=this;return(0,w.Z)(function*(){switch(u.signInMethod){case"password":return Mu(c,{returnSecureToken:!0,email:u._email,password:u._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",SR);case"emailLink":return function h_(f,c){return Ye.apply(this,arguments)}(c,{email:u._email,oobCode:u._password});default:Pt(c,"internal-error")}})()}_linkToIdToken(c,u){var p=this;return(0,w.Z)(function*(){switch(p.signInMethod){case"password":return Mu(c,{idToken:u,returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",DR);case"emailLink":return function Ou(f,c){return lc.apply(this,arguments)}(c,{idToken:u,email:p._email,oobCode:p._password});default:Pt(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function Ss(f,c){return mf.apply(this,arguments)}function mf(){return(mf=(0,w.Z)(function*(f,c){return Oe(f,"POST","/v1/accounts:signInWithIdp",ne(f,c))})).apply(this,arguments)}class Xn extends Be{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const u=new Xn(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(u.idToken=c.idToken),c.accessToken&&(u.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(u.nonce=c.nonce),c.pendingToken&&(u.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(u.accessToken=c.oauthToken,u.secret=c.oauthTokenSecret):Pt("argument-error"),u}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const u="string"==typeof c?JSON.parse(c):c,{providerId:p,signInMethod:_}=u,v=(0,cn._T)(u,["providerId","signInMethod"]);if(!p||!_)return null;const R=new Xn(p,_);return R.idToken=v.idToken||void 0,R.accessToken=v.accessToken||void 0,R.secret=v.secret,R.nonce=v.nonce,R.pendingToken=v.pendingToken||null,R}_getIdTokenResponse(c){return Ss(c,this.buildRequest())}_linkToIdToken(c,u){const p=this.buildRequest();return p.idToken=u,Ss(c,p)}_getReauthenticationResolver(c){const u=this.buildRequest();return u.autoCreate=!1,Ss(c,u)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const u={};this.idToken&&(u.id_token=this.idToken),this.accessToken&&(u.access_token=this.accessToken),this.secret&&(u.oauth_token_secret=this.secret),u.providerId=this.providerId,this.nonce&&!this.pendingToken&&(u.nonce=this.nonce),c.postBody=(0,G.xO)(u)}return c}}function pi(){return(pi=(0,w.Z)(function*(f,c){return z(f,"POST","/v1/accounts:sendVerificationCode",ne(f,c))})).apply(this,arguments)}function St(){return(St=(0,w.Z)(function*(f,c){return Oe(f,"POST","/v1/accounts:signInWithPhoneNumber",ne(f,c))})).apply(this,arguments)}function cc(){return(cc=(0,w.Z)(function*(f,c){const u=yield Oe(f,"POST","/v1/accounts:signInWithPhoneNumber",ne(f,c));if(u.temporaryProof)throw Zn(f,"account-exists-with-different-credential",u);return u})).apply(this,arguments)}const gf={USER_NOT_FOUND:"user-not-found"};function $i(){return($i=(0,w.Z)(function*(f,c){return Oe(f,"POST","/v1/accounts:signInWithPhoneNumber",ne(f,Object.assign(Object.assign({},c),{operation:"REAUTH"})),gf)})).apply(this,arguments)}class ji extends Be{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,u){return new ji({verificationId:c,verificationCode:u})}static _fromTokenResponse(c,u){return new ji({phoneNumber:c,temporaryProof:u})}_getIdTokenResponse(c){return function As(f,c){return St.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,u){return function Fu(f,c){return cc.apply(this,arguments)}(c,Object.assign({idToken:u},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function f_(f,c){return $i.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:u,verificationId:p,verificationCode:_}=this.params;return c&&u?{temporaryProof:c,phoneNumber:u}:{sessionInfo:p,code:_}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:u,verificationCode:p,phoneNumber:_,temporaryProof:v}=c;return p||u||_||v?new ji({verificationId:u,verificationCode:p,phoneNumber:_,temporaryProof:v}):null}}class uc{constructor(c){var u,p,_,v,R,F;const K=(0,G.zd)((0,G.pd)(c)),he=null!==(u=K.apiKey)&&void 0!==u?u:null,Te=null!==(p=K.oobCode)&&void 0!==p?p:null,Se=function yI(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_=K.mode)&&void 0!==_?_:null);ee(he&&Te&&Se,"argument-error"),this.apiKey=he,this.operation=Se,this.code=Te,this.continueUrl=null!==(v=K.continueUrl)&&void 0!==v?v:null,this.languageCode=null!==(R=K.languageCode)&&void 0!==R?R:null,this.tenantId=null!==(F=K.tenantId)&&void 0!==F?F:null}static parseLink(c){const u=function Qt(f){const c=(0,G.zd)((0,G.pd)(f)).link,u=c?(0,G.zd)((0,G.pd)(c)).deep_link_id:null,p=(0,G.zd)((0,G.pd)(f)).deep_link_id;return(p?(0,G.zd)((0,G.pd)(p)).link:null)||p||u||c||f}(c);try{return new uc(u)}catch{return null}}}let _f=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(u,p){return Ts._fromEmailAndPassword(u,p)}static credentialWithLink(u,p){const _=uc.parseLink(p);return ee(_,"argument-error"),Ts._fromEmailAndCode(u,_.code,_.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class Vt{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class Ua extends Vt{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class Fo extends Ua{static credentialFromJSON(c){const u="string"==typeof c?JSON.parse(c):c;return ee("providerId"in u&&"signInMethod"in u,"argument-error"),Xn._fromParams(u)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return ee(c.idToken||c.accessToken,"argument-error"),Xn._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return Fo.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return Fo.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:u,oauthAccessToken:p,oauthTokenSecret:_,pendingToken:v,nonce:R,providerId:F}=c;if(!p&&!_&&!u&&!v||!F)return null;try{return new Fo(F)._credential({idToken:u,accessToken:p,nonce:R,pendingToken:v})}catch{return null}}}let ue=(()=>{class f extends Ua{constructor(){super("facebook.com")}static credential(u){return Xn._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:u})}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u||!("oauthAccessToken"in u)||!u.oauthAccessToken)return null;try{return f.credential(u.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),kr=(()=>{class f extends Ua{constructor(){super("google.com"),this.addScope("profile")}static credential(u,p){return Xn._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:u,accessToken:p})}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:p,oauthAccessToken:_}=u;if(!p&&!_)return null;try{return f.credential(p,_)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),kt=(()=>{class f extends Ua{constructor(){super("github.com")}static credential(u){return Xn._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:u})}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u||!("oauthAccessToken"in u)||!u.oauthAccessToken)return null;try{return f.credential(u.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class jn extends Be{constructor(c,u){super(c,c),this.pendingToken=u}_getIdTokenResponse(c){return Ss(c,this.buildRequest())}_linkToIdToken(c,u){const p=this.buildRequest();return p.idToken=u,Ss(c,p)}_getReauthenticationResolver(c){const u=this.buildRequest();return u.autoCreate=!1,Ss(c,u)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const u="string"==typeof c?JSON.parse(c):c,{providerId:p,signInMethod:_,pendingToken:v}=u;return p&&_&&v&&p===_?new jn(p,v):null}static _create(c,u){return new jn(c,u)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ir extends Vt{constructor(c){ee(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return Ir.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return Ir.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const u=jn.fromJSON(c);return ee(u,"argument-error"),u}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:u,providerId:p}=c;if(!u||!p)return null;try{return jn._create(p,u)}catch{return null}}}let yf=(()=>{class f extends Ua{constructor(){super("twitter.com")}static credential(u,p){return Xn._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:u,oauthTokenSecret:p})}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthAccessToken:p,oauthTokenSecret:_}=u;if(!p||!_)return null;try{return f.credential(p,_)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function vf(f,c){return ja.apply(this,arguments)}function ja(){return(ja=(0,w.Z)(function*(f,c){return Oe(f,"POST","/v1/accounts:signUp",ne(f,c))})).apply(this,arguments)}class Mn{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,u,p,_=!1){return(0,w.Z)(function*(){const v=yield Ie._fromIdTokenResponse(c,p,_),R=De(p);return new Mn({user:v,providerId:R,_tokenResponse:p,operationType:u})})()}static _forOperation(c,u,p){return(0,w.Z)(function*(){yield c._updateTokensIfNecessary(p,!0);const _=De(p);return new Mn({user:c,providerId:_,_tokenResponse:p,operationType:u})})()}}function De(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function nn(){return(nn=(0,w.Z)(function*(f){var c;const u=tn(f);if(yield u._initializationPromise,null!==(c=u.currentUser)&&void 0!==c&&c.isAnonymous)return new Mn({user:u.currentUser,providerId:null,operationType:"signIn"});const p=yield vf(u,{returnSecureToken:!0}),_=yield Mn._fromIdTokenResponse(u,"signIn",p,!0);return yield u._updateCurrentUser(_.user),_})).apply(this,arguments)}class Qr extends G.ZR{constructor(c,u,p,_){var v;super(u.code,u.message),this.operationType=p,this.user=_,Object.setPrototypeOf(this,Qr.prototype),this.customData={appName:c.name,tenantId:null!==(v=c.tenantId)&&void 0!==v?v:void 0,_serverResponse:u.customData._serverResponse,operationType:p}}static _fromErrorAndOperation(c,u,p,_){return new Qr(c,u,p,_)}}function Zs(f,c,u,p){return("reauthenticate"===c?u._getReauthenticationResolver(f):u._getIdTokenResponse(f)).catch(v=>{throw"auth/multi-factor-auth-required"===v.code?Qr._fromErrorAndOperation(f,v,c,p):v})}function hr(f){return new Set(f.map(({providerId:c})=>c).filter(c=>!!c))}function hn(){return hn=(0,w.Z)(function*(f,c){const u=(0,G.m9)(f);yield Xe(!0,u,c);const{providerUserInfo:p}=yield function rc(f,c){return Kr.apply(this,arguments)}(u.auth,{idToken:yield u.getIdToken(),deleteProvider:[c]}),_=hr(p||[]);return u.providerData=u.providerData.filter(v=>_.has(v.providerId)),_.has("phone")||(u.phoneNumber=null),yield u.auth._persistUserIfCurrent(u),u}),hn.apply(this,arguments)}function za(f,c){return qa.apply(this,arguments)}function qa(){return(qa=(0,w.Z)(function*(f,c,u=!1){const p=yield fi(f,c._linkToIdToken(f.auth,yield f.getIdToken()),u);return Mn._forOperation(f,"link",p)})).apply(this,arguments)}function Xe(f,c,u){return dc.apply(this,arguments)}function dc(){return(dc=(0,w.Z)(function*(f,c,u){yield Nr(c);const _=!1===f?"provider-already-linked":"no-such-provider";ee(hr(c.providerData).has(u)===f,c.auth,_)})).apply(this,arguments)}function Ga(f,c){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,w.Z)(function*(f,c,u=!1){const{auth:p}=f,_="reauthenticate";try{const v=yield fi(f,Zs(p,_,c,f),u);ee(v.idToken,p,"internal-error");const R=Na(v.idToken);ee(R,p,"internal-error");const{sub:F}=R;return ee(f.uid===F,p,"user-mismatch"),Mn._forOperation(f,_,v)}catch(v){throw"auth/user-not-found"===v?.code&&Pt(p,"user-mismatch"),v}})).apply(this,arguments)}function Vo(f,c){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,w.Z)(function*(f,c,u=!1){const p="signIn",_=yield Zs(f,p,c),v=yield Mn._fromIdTokenResponse(f,p,_);return u||(yield f._updateCurrentUser(v.user)),v})).apply(this,arguments)}function Qs(f,c){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,w.Z)(function*(f,c){return Vo(tn(f),c)})).apply(this,arguments)}function Hi(f,c){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,w.Z)(function*(f,c){const u=(0,G.m9)(f);return yield Xe(!1,u,c.providerId),za(u,c)})).apply(this,arguments)}function Ef(f,c){return $t.apply(this,arguments)}function $t(){return($t=(0,w.Z)(function*(f,c){return Ga((0,G.m9)(f),c)})).apply(this,arguments)}function hc(){return(hc=(0,w.Z)(function*(f,c){return Oe(f,"POST","/v1/accounts:signInWithCustomToken",ne(f,c))})).apply(this,arguments)}function Wa(){return Wa=(0,w.Z)(function*(f,c){const u=tn(f),p=yield function RR(f,c){return hc.apply(this,arguments)}(u,{token:c,returnSecureToken:!0}),_=yield Mn._fromIdTokenResponse(u,"signIn",p);return yield u._updateCurrentUser(_.user),_}),Wa.apply(this,arguments)}class Xs{constructor(c,u){this.factorId=c,this.uid=u.mfaEnrollmentId,this.enrollmentTime=new Date(u.enrolledAt).toUTCString(),this.displayName=u.displayName}static _fromServerResponse(c,u){return"phoneInfo"in u?Js._fromServerResponse(c,u):"totpInfo"in u?fr._fromServerResponse(c,u):Pt(c,"internal-error")}}class Js extends Xs{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,u){return new Js(u)}}class fr extends Xs{constructor(c){super("totp",c)}static _fromServerResponse(c,u){return new fr(u)}}function wf(f,c,u){var p;ee((null===(p=u.url)||void 0===p?void 0:p.length)>0,f,"invalid-continue-uri"),ee(typeof u.dynamicLinkDomain>"u"||u.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),c.continueUrl=u.url,c.dynamicLinkDomain=u.dynamicLinkDomain,c.canHandleCodeInApp=u.handleCodeInApp,u.iOS&&(ee(u.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),c.iOSBundleId=u.iOS.bundleId),u.android&&(ee(u.android.packageName.length>0,f,"missing-android-pkg-name"),c.androidInstallApp=u.android.installApp,c.androidMinimumVersionCode=u.android.minimumVersion,c.androidPackageName=u.android.packageName)}function Or(f){return mi.apply(this,arguments)}function mi(){return(mi=(0,w.Z)(function*(f){const c=tn(f);c._getPasswordPolicyInternal()&&(yield c._updatePasswordPolicy())})).apply(this,arguments)}function Bo(){return(Bo=(0,w.Z)(function*(f,c,u){const p=tn(f),_={requestType:"PASSWORD_RESET",email:c,clientType:"CLIENT_TYPE_WEB"};u&&wf(p,_,u),yield Mu(p,_,"getOobCode",mI)})).apply(this,arguments)}function gi(){return gi=(0,w.Z)(function*(f,c,u){yield Pu((0,G.m9)(f),{oobCode:c,newPassword:u}).catch(function(){var p=(0,w.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&Or(f),_});return function(_){return p.apply(this,arguments)}}())}),gi.apply(this,arguments)}function m_(){return m_=(0,w.Z)(function*(f,c){yield function TR(f,c){return d_.apply(this,arguments)}((0,G.m9)(f),{oobCode:c})}),m_.apply(this,arguments)}function g_(f,c){return bf.apply(this,arguments)}function bf(){return(bf=(0,w.Z)(function*(f,c){const u=(0,G.m9)(f),p=yield Pu(u,{oobCode:c}),_=p.requestType;switch(ee(_,u,"internal-error"),_){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(p.newEmail,u,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(p.mfaInfo,u,"internal-error");default:ee(p.email,u,"internal-error")}let v=null;return p.mfaInfo&&(v=Xs._fromServerResponse(tn(u),p.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.newEmail:p.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.email:p.newEmail)||null,multiFactorInfo:v},operation:_}})).apply(this,arguments)}function __(){return(__=(0,w.Z)(function*(f,c){const{data:u}=yield g_((0,G.m9)(f),c);return u.email})).apply(this,arguments)}function y_(){return(y_=(0,w.Z)(function*(f,c,u){const p=tn(f),R=yield Mu(p,{returnSecureToken:!0,email:c,password:u,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vf).catch(K=>{throw"auth/password-does-not-meet-requirements"===K.code&&Or(f),K}),F=yield Mn._fromIdTokenResponse(p,"signIn",R);return yield p._updateCurrentUser(F.user),F})).apply(this,arguments)}function v_(){return(v_=(0,w.Z)(function*(f,c,u){const p=tn(f),_={requestType:"EMAIL_SIGNIN",email:c,clientType:"CLIENT_TYPE_WEB"};(function v(R,F){ee(F.handleCodeInApp,p,"argument-error"),F&&wf(p,R,F)})(_,u),yield Mu(p,_,"getOobCode",ac)})).apply(this,arguments)}function E_(){return(E_=(0,w.Z)(function*(f,c,u){const p=(0,G.m9)(f),_=_f.credentialWithLink(c,u||Un());return ee(_._tenantId===(p.tenantId||null),p,"tenant-id-mismatch"),Qs(p,_)})).apply(this,arguments)}function w_(){return(w_=(0,w.Z)(function*(f,c){return z(f,"POST","/v1/accounts:createAuthUri",ne(f,c))})).apply(this,arguments)}function Bu(){return Bu=(0,w.Z)(function*(f,c){const p={identifier:c,continueUri:ts()?Un():"http://localhost"},{signinMethods:_}=yield function FR(f,c){return w_.apply(this,arguments)}((0,G.m9)(f),p);return _||[]}),Bu.apply(this,arguments)}function b_(){return b_=(0,w.Z)(function*(f,c){const u=(0,G.m9)(f),_={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};c&&wf(u.auth,_,c);const{email:v}=yield function pI(f,c){return pf.apply(this,arguments)}(u.auth,_);v!==f.email&&(yield f.reload())}),b_.apply(this,arguments)}function Rs(){return Rs=(0,w.Z)(function*(f,c,u){const p=(0,G.m9)(f),v={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:c};u&&wf(p.auth,v,u);const{email:R}=yield function gI(f,c){return Y.apply(this,arguments)}(p.auth,v);R!==f.email&&(yield f.reload())}),Rs.apply(this,arguments)}function er(){return(er=(0,w.Z)(function*(f,c){return z(f,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Cf(){return Cf=(0,w.Z)(function*(f,{displayName:c,photoURL:u}){if(void 0===c&&void 0===u)return;const p=(0,G.m9)(f),v={idToken:yield p.getIdToken(),displayName:c,photoUrl:u,returnSecureToken:!0},R=yield fi(p,function EI(f,c){return er.apply(this,arguments)}(p.auth,v));p.displayName=R.displayName||null,p.photoURL=R.photoUrl||null;const F=p.providerData.find(({providerId:K})=>"password"===K);F&&(F.displayName=p.displayName,F.photoURL=p.photoURL),yield p._updateTokensIfNecessary(R)}),Cf.apply(this,arguments)}function Df(f,c,u){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,w.Z)(function*(f,c,u){const{auth:p}=f,v={idToken:yield f.getIdToken(),returnSecureToken:!0};c&&(v.email=c),u&&(v.password=u);const R=yield fi(f,function Ri(f,c){return Nu.apply(this,arguments)}(p,v));yield f._updateTokensIfNecessary(R,!0)}),Tf.apply(this,arguments)}class Ka{constructor(c,u,p={}){this.isNewUser=c,this.providerId=u,this.profile=p}}class _i extends Ka{constructor(c,u,p,_){super(c,u,p),this.username=_}}class T_ extends Ka{constructor(c,u){super(c,"facebook.com",u)}}class S_ extends _i{constructor(c,u){super(c,"github.com",u,"string"==typeof u?.login?u?.login:null)}}class pr extends Ka{constructor(c,u){super(c,"google.com",u)}}class II extends _i{constructor(c,u,p){super(c,"twitter.com",u,p)}}function Uu(f){const{user:c,_tokenResponse:u}=f;return c.isAnonymous&&!u?{providerId:null,isNewUser:!1,profile:null}:function Sf(f){var c,u;if(!f)return null;const{providerId:p}=f,_=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},v=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!p&&f?.idToken){const R=null===(u=null===(c=Na(f.idToken))||void 0===c?void 0:c.firebase)||void 0===u?void 0:u.sign_in_provider;if(R)return new Ka(v,"anonymous"!==R&&"custom"!==R?R:null)}if(!p)return null;switch(p){case"facebook.com":return new T_(v,_);case"github.com":return new S_(v,_);case"google.com":return new pr(v,_);case"twitter.com":return new II(v,_,f.screenName||null);case"custom":case"anonymous":return new Ka(v,null);default:return new Ka(v,p,_)}}(u)}class Za{constructor(c,u,p){this.type=c,this.credential=u,this.user=p}static _fromIdtoken(c,u){return new Za("enroll",c,u)}static _fromMfaPendingCredential(c){return new Za("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var u,p;if(c?.multiFactorSession){if(null!==(u=c.multiFactorSession)&&void 0!==u&&u.pendingCredential)return Za._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null!==(p=c.multiFactorSession)&&void 0!==p&&p.idToken)return Za._fromIdtoken(c.multiFactorSession.idToken)}return null}}class Rf{constructor(c,u,p){this.session=c,this.hints=u,this.signInResolver=p}static _fromError(c,u){const p=tn(c),_=u.customData._serverResponse,v=(_.mfaInfo||[]).map(F=>Xs._fromServerResponse(p,F));ee(_.mfaPendingCredential,p,"internal-error");const R=Za._fromMfaPendingCredential(_.mfaPendingCredential);return new Rf(R,v,function(){var F=(0,w.Z)(function*(K){const he=yield K._process(p,R);delete _.mfaInfo,delete _.mfaPendingCredential;const Te=Object.assign(Object.assign({},_),{idToken:he.idToken,refreshToken:he.refreshToken});switch(u.operationType){case"signIn":const Se=yield Mn._fromIdTokenResponse(p,u.operationType,Te);return yield p._updateCurrentUser(Se.user),Se;case"reauthenticate":return ee(u.user,p,"internal-error"),Mn._forOperation(u.user,u.operationType,Te);default:Pt(p,"internal-error")}});return function(K){return F.apply(this,arguments)}}())}resolveSignIn(c){var u=this;return(0,w.Z)(function*(){return u.signInResolver(c)})()}}class _t{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(u=>{u.mfaInfo&&(this.enrolledFactors=u.mfaInfo.map(p=>Xs._fromServerResponse(c.auth,p)))})}static _fromUser(c){return new _t(c)}getSession(){var c=this;return(0,w.Z)(function*(){return Za._fromIdtoken(yield c.user.getIdToken(),c.user)})()}enroll(c,u){var p=this;return(0,w.Z)(function*(){const _=c,v=yield p.getSession(),R=yield fi(p.user,_._process(p.user.auth,v,u));return yield p.user._updateTokensIfNecessary(R),p.user.reload()})()}unenroll(c){var u=this;return(0,w.Z)(function*(){const p="string"==typeof c?c:c.uid,_=yield u.user.getIdToken();try{const v=yield fi(u.user,function se(f,c){return z(f,"POST","/v2/accounts/mfaEnrollment:withdraw",ne(f,c))}(u.user.auth,{idToken:_,mfaEnrollmentId:p}));u.enrolledFactors=u.enrolledFactors.filter(({uid:R})=>R!==p),yield u.user._updateTokensIfNecessary(v),yield u.user.reload()}catch(v){throw v}})()}}const wn=new WeakMap,Pn="__sak";class Mf{constructor(c,u){this.storageRetriever=c,this.type=u}_isAvailable(){try{return this.storage?(this.storage.setItem(Pn,"1"),this.storage.removeItem(Pn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,u){return this.storage.setItem(c,JSON.stringify(u)),Promise.resolve()}_get(c){const u=this.storage.getItem(c);return Promise.resolve(u?JSON.parse(u):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const ju=(()=>{class f extends Mf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(u,p)=>this.onStorageEvent(u,p),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function fc(){const f=(0,G.z$)();return is(f)||ve(f)}()&&function Dn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Kt(),this._shouldAllowMigration=!0}forAllChangedKeys(u){for(const p of Object.keys(this.listeners)){const _=this.storage.getItem(p),v=this.localCache[p];_!==v&&u(p,v,_)}}onStorageEvent(u,p=!1){if(!u.key)return void this.forAllChangedKeys((F,K,he)=>{this.notifyListeners(F,he)});const _=u.key;if(p?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const F=this.storage.getItem(_);if(u.newValue!==F)null!==u.newValue?this.storage.setItem(_,u.newValue):this.storage.removeItem(_);else if(this.localCache[_]===u.newValue&&!p)return}const v=()=>{const F=this.storage.getItem(_);!p&&this.localCache[_]===F||this.notifyListeners(_,F)},R=this.storage.getItem(_);!function $n(){return(0,G.w1)()&&10===document.documentMode}()||R===u.newValue||u.newValue===u.oldValue?v():setTimeout(v,10)}notifyListeners(u,p){this.localCache[u]=p;const _=this.listeners[u];if(_)for(const v of Array.from(_))v(p&&JSON.parse(p))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((u,p,_)=>{this.onStorageEvent(new StorageEvent("storage",{key:u,oldValue:p,newValue:_}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(u,p){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[u]||(this.listeners[u]=new Set,this.localCache[u]=this.storage.getItem(u)),this.listeners[u].add(p)}_removeListener(u,p){this.listeners[u]&&(this.listeners[u].delete(p),0===this.listeners[u].size&&delete this.listeners[u]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(u,p){var _=()=>super._set,v=this;return(0,w.Z)(function*(){yield _().call(v,u,p),v.localCache[u]=JSON.stringify(p)})()}_get(u){var p=()=>super._get,_=this;return(0,w.Z)(function*(){const v=yield p().call(_,u);return _.localCache[u]=JSON.stringify(v),v})()}_remove(u){var p=()=>super._remove,_=this;return(0,w.Z)(function*(){yield p().call(_,u),delete _.localCache[u]})()}}return f.type="LOCAL",f})(),Ms=(()=>{class f extends Mf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(u,p){}_removeListener(u,p){}}return f.type="SESSION",f})();let xs=(()=>{class f{constructor(u){this.eventTarget=u,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(u){const p=this.receivers.find(v=>v.isListeningto(u));if(p)return p;const _=new f(u);return this.receivers.push(_),_}isListeningto(u){return this.eventTarget===u}handleEvent(u){var p=this;return(0,w.Z)(function*(){const _=u,{eventId:v,eventType:R,data:F}=_.data,K=p.handlersMap[R];if(!K?.size)return;_.ports[0].postMessage({status:"ack",eventId:v,eventType:R});const he=Array.from(K).map(function(){var Se=(0,w.Z)(function*(rn){return rn(_.origin,F)});return function(rn){return Se.apply(this,arguments)}}()),Te=yield function Fr(f){return Promise.all(f.map(function(){var c=(0,w.Z)(function*(u){try{return{fulfilled:!0,value:yield u}}catch(p){return{fulfilled:!1,reason:p}}});return function(u){return c.apply(this,arguments)}}()))}(he);_.ports[0].postMessage({status:"done",eventId:v,eventType:R,response:Te})})()}_subscribe(u,p){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[u]||(this.handlersMap[u]=new Set),this.handlersMap[u].add(p)}_unsubscribe(u,p){this.handlersMap[u]&&p&&this.handlersMap[u].delete(p),(!p||0===this.handlersMap[u].size)&&delete this.handlersMap[u],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function Qa(f="",c=10){let u="";for(let p=0;p<c;p++)u+=Math.floor(10*Math.random());return f+u}class Ya{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,u,p=50){var _=this;return(0,w.Z)(function*(){const v=typeof MessageChannel<"u"?new MessageChannel:null;if(!v)throw new Error("connection_unavailable");let R,F;return new Promise((K,he)=>{const Te=Qa("",20);v.port1.start();const Se=setTimeout(()=>{he(new Error("unsupported_event"))},p);F={messageChannel:v,onMessage(rn){const vi=rn;if(vi.data.eventId===Te)switch(vi.data.status){case"ack":clearTimeout(Se),R=setTimeout(()=>{he(new Error("timeout"))},3e3);break;case"done":clearTimeout(R),K(vi.data.response);break;default:clearTimeout(Se),clearTimeout(R),he(new Error("invalid_response"))}}},_.handlers.add(F),v.port1.addEventListener("message",F.onMessage),_.target.postMessage({eventType:c,eventId:Te,data:u},[v.port2])}).finally(()=>{F&&_.removeMessageHandler(F)})})()}}function Bt(){return window}function Hu(){return typeof Bt().WorkerGlobalScope<"u"&&"function"==typeof Bt().importScripts}function Pf(){return(Pf=(0,w.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Of="firebaseLocalStorageDb",Ff=1,zu="firebaseLocalStorage",Vf="fbase_key";class $o{constructor(c){this.request=c}toPromise(){return new Promise((c,u)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{u(this.request.error)})})}}function pc(f,c){return f.transaction([zu],c?"readwrite":"readonly").objectStore(zu)}function qu(){const f=indexedDB.open(Of,Ff);return new Promise((c,u)=>{f.addEventListener("error",()=>{u(f.error)}),f.addEventListener("upgradeneeded",()=>{const p=f.result;try{p.createObjectStore(zu,{keyPath:Vf})}catch(_){u(_)}}),f.addEventListener("success",(0,w.Z)(function*(){const p=f.result;p.objectStoreNames.contains(zu)?c(p):(p.close(),yield function x_(){const f=indexedDB.deleteDatabase(Of);return new $o(f).toPromise()}(),c(yield qu()))}))})}function Lf(f,c,u){return mc.apply(this,arguments)}function mc(){return(mc=(0,w.Z)(function*(f,c,u){const p=pc(f,!0).put({[Vf]:c,value:u});return new $o(p).toPromise()})).apply(this,arguments)}function Bf(){return(Bf=(0,w.Z)(function*(f,c){const u=pc(f,!1).get(c),p=yield new $o(u).toPromise();return void 0===p?null:p.value})).apply(this,arguments)}function br(f,c){const u=pc(f,!0).delete(c);return new $o(u).toPromise()}const Xa=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var u=this;return(0,w.Z)(function*(){return u.db||(u.db=yield qu()),u.db})()}_withRetries(u){var p=this;return(0,w.Z)(function*(){let _=0;for(;;)try{const v=yield p._openDb();return yield u(v)}catch(v){if(_++>3)throw v;p.db&&(p.db.close(),p.db=void 0)}})()}initializeServiceWorkerMessaging(){var u=this;return(0,w.Z)(function*(){return Hu()?u.initializeReceiver():u.initializeSender()})()}initializeReceiver(){var u=this;return(0,w.Z)(function*(){u.receiver=xs._getInstance(function kf(){return Hu()?self:null}()),u.receiver._subscribe("keyChanged",function(){var p=(0,w.Z)(function*(_,v){return{keyProcessed:(yield u._poll()).includes(v.key)}});return function(_,v){return p.apply(this,arguments)}}()),u.receiver._subscribe("ping",function(){var p=(0,w.Z)(function*(_,v){return["keyChanged"]});return function(_,v){return p.apply(this,arguments)}}())})()}initializeSender(){var u=this;return(0,w.Z)(function*(){var p,_;if(u.activeServiceWorker=yield function MI(){return Pf.apply(this,arguments)}(),!u.activeServiceWorker)return;u.sender=new Ya(u.activeServiceWorker);const v=yield u.sender._send("ping",{},800);v&&null!==(p=v[0])&&void 0!==p&&p.fulfilled&&null!==(_=v[0])&&void 0!==_&&_.value.includes("keyChanged")&&(u.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(u){var p=this;return(0,w.Z)(function*(){if(p.sender&&p.activeServiceWorker&&function Nf(){var f;return(null===(f=navigator?.serviceWorker)||void 0===f?void 0:f.controller)||null}()===p.activeServiceWorker)try{yield p.sender._send("keyChanged",{key:u},p.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,w.Z)(function*(){try{if(!indexedDB)return!1;const u=yield qu();return yield Lf(u,Pn,"1"),yield br(u,Pn),!0}catch{}return!1})()}_withPendingWrite(u){var p=this;return(0,w.Z)(function*(){p.pendingWrites++;try{yield u()}finally{p.pendingWrites--}})()}_set(u,p){var _=this;return(0,w.Z)(function*(){return _._withPendingWrite((0,w.Z)(function*(){return yield _._withRetries(v=>Lf(v,u,p)),_.localCache[u]=p,_.notifyServiceWorker(u)}))})()}_get(u){var p=this;return(0,w.Z)(function*(){const _=yield p._withRetries(v=>function xI(f,c){return Bf.apply(this,arguments)}(v,u));return p.localCache[u]=_,_})()}_remove(u){var p=this;return(0,w.Z)(function*(){return p._withPendingWrite((0,w.Z)(function*(){return yield p._withRetries(_=>br(_,u)),delete p.localCache[u],p.notifyServiceWorker(u)}))})()}_poll(){var u=this;return(0,w.Z)(function*(){const p=yield u._withRetries(R=>{const F=pc(R,!1).getAll();return new $o(F).toPromise()});if(!p)return[];if(0!==u.pendingWrites)return[];const _=[],v=new Set;if(0!==p.length)for(const{fbase_key:R,value:F}of p)v.add(R),JSON.stringify(u.localCache[R])!==JSON.stringify(F)&&(u.notifyListeners(R,F),_.push(R));for(const R of Object.keys(u.localCache))u.localCache[R]&&!v.has(R)&&(u.notifyListeners(R,null),_.push(R));return _})()}notifyListeners(u,p){this.localCache[u]=p;const _=this.listeners[u];if(_)for(const v of Array.from(_))v(p)}startPolling(){var u=this;this.stopPolling(),this.pollTimer=setInterval((0,w.Z)(function*(){return u._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(u,p){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[u]||(this.listeners[u]=new Set,this._get(u)),this.listeners[u].add(p)}_removeListener(u,p){this.listeners[u]&&(this.listeners[u].delete(p),0===this.listeners[u].size&&delete this.listeners[u]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})(),Ho=1e12;class Wu{constructor(c){this.auth=c,this.counter=Ho,this._widgets=new Map}render(c,u){const p=this.counter;return this._widgets.set(p,new Uf(c,this.auth.name,u||{})),this.counter++,p}reset(c){var u;const p=c||Ho;null===(u=this._widgets.get(p))||void 0===u||u.delete(),this._widgets.delete(p)}getResponse(c){var u;return(null===(u=this._widgets.get(c||Ho))||void 0===u?void 0:u.getResponse())||""}execute(c){var u=this;return(0,w.Z)(function*(){var p;return null===(p=u._widgets.get(c||Ho))||void 0===p||p.execute(),""})()}}class Uf{constructor(c,u,p){this.params=p,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const _="string"==typeof c?document.getElementById(c):c;ee(_,"argument-error",{appName:u}),this.container=_,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function N_(f){const c=[],u="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<f;p++)c.push(u.charAt(Math.floor(Math.random()*u.length)));return c.join("")}(50);const{callback:c,"expired-callback":u}=this.params;if(c)try{c(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,u)try{u()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const $f=cI("rcb"),Ja=new rs(3e4,6e4);class FI{constructor(){var c;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(c=Bt().grecaptcha)||void 0===c||!c.render)}load(c,u=""){return ee(function jR(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(u),c,"argument-error"),this.shouldResolveImmediately(u)&&Pr(Bt().grecaptcha)?Promise.resolve(Bt().grecaptcha):new Promise((p,_)=>{const v=Bt().setTimeout(()=>{_(zt(c,"network-request-failed"))},Ja.get());Bt()[$f]=()=>{Bt().clearTimeout(v),delete Bt()[$f];const F=Bt().grecaptcha;if(!F||!Pr(F))return void _(zt(c,"internal-error"));const K=F.render;F.render=(he,Te)=>{const Se=K(he,Te);return this.counter++,Se},this.hostLanguage=u,p(F)},lf(`https://www.google.com/recaptcha/api.js??${(0,G.xO)({onload:$f,render:"explicit",hl:u})}`).catch(()=>{clearTimeout(v),_(zt(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){var u;return!(null===(u=Bt().grecaptcha)||void 0===u||!u.render)&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class jf{load(c){return(0,w.Z)(function*(){return new Wu(c)})()}clearedOneInstance(){}}const VI="recaptcha",LI={theme:"light",type:"image"};class BI{constructor(c,u,p=Object.assign({},LI)){this.parameters=p,this.type=VI,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=tn(c),this.isInvisible="invisible"===this.parameters.size,ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const _="string"==typeof u?document.getElementById(u):u;ee(_,this.auth,"argument-error"),this.container=_,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new jf:new FI,this.validateStartingState()}verify(){var c=this;return(0,w.Z)(function*(){c.assertNotDestroyed();const u=yield c.render(),p=c.getAssertedRecaptcha();return p.getResponse(u)||new Promise(v=>{const R=F=>{F&&(c.tokenChangeListeners.delete(R),v(F))};c.tokenChangeListeners.add(R),c.isInvisible&&p.execute(u)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return u=>{if(this.tokenChangeListeners.forEach(p=>p(u)),"function"==typeof c)c(u);else if("string"==typeof c){const p=Bt()[c];"function"==typeof p&&p(u)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,w.Z)(function*(){if(yield c.init(),!c.widgetId){let u=c.container;if(!c.isInvisible){const p=document.createElement("div");u.appendChild(p),u=p}c.widgetId=c.getAssertedRecaptcha().render(u,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,w.Z)(function*(){ee(ts()&&!Hu(),c.auth,"internal-error"),yield function HR(){let f=null;return new Promise(c=>{"complete"!==document.readyState?(f=()=>c(),window.addEventListener("load",f)):c()}).catch(c=>{throw f&&window.removeEventListener("load",f),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const u=yield function tc(f){return Cs.apply(this,arguments)}(c.auth);ee(u,c.auth,"internal-error"),c.parameters.sitekey=u})()}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class k_{constructor(c,u){this.verificationId=c,this.onConfirmation=u}confirm(c){const u=ji._fromVerification(this.verificationId,c);return this.onConfirmation(u)}}function Ku(){return(Ku=(0,w.Z)(function*(f,c,u){const p=tn(f),_=yield qo(p,c,(0,G.m9)(u));return new k_(_,v=>Qs(p,v))})).apply(this,arguments)}function zo(){return(zo=(0,w.Z)(function*(f,c,u){const p=(0,G.m9)(f);yield Xe(!1,p,"phone");const _=yield qo(p.auth,c,(0,G.m9)(u));return new k_(_,v=>Hi(p,v))})).apply(this,arguments)}function Zu(){return(Zu=(0,w.Z)(function*(f,c,u){const p=(0,G.m9)(f),_=yield qo(p.auth,c,(0,G.m9)(u));return new k_(_,v=>Ef(p,v))})).apply(this,arguments)}function qo(f,c,u){return zf.apply(this,arguments)}function zf(){return zf=(0,w.Z)(function*(f,c,u){var p;const _=yield u.verify();try{let v;if(ee("string"==typeof _,f,"argument-error"),ee(u.type===VI,f,"argument-error"),v="string"==typeof c?{phoneNumber:c}:c,"session"in v){const R=v.session;if("phoneNumber"in v)return ee("enroll"===R.type,f,"internal-error"),(yield function SI(f,c){return z(f,"POST","/v2/accounts/mfaEnrollment:start",ne(f,c))}(f,{idToken:R.credential,phoneEnrollmentInfo:{phoneNumber:v.phoneNumber,recaptchaToken:_}})).phoneSessionInfo.sessionInfo;{ee("signin"===R.type,f,"internal-error");const F=(null===(p=v.multiFactorHint)||void 0===p?void 0:p.uid)||v.multiFactorUid;return ee(F,f,"missing-multi-factor-info"),(yield function P_(f,c){return z(f,"POST","/v2/accounts/mfaSignIn:start",ne(f,c))}(f,{mfaPendingCredential:R.credential,mfaEnrollmentId:F,phoneSignInInfo:{recaptchaToken:_}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:R}=yield function os(f,c){return pi.apply(this,arguments)}(f,{phoneNumber:v.phoneNumber,recaptchaToken:_});return R}}finally{u._reset()}}),zf.apply(this,arguments)}function _c(){return(_c=(0,w.Z)(function*(f,c){yield za((0,G.m9)(f),c)})).apply(this,arguments)}let to=(()=>{class f{constructor(u){this.providerId=f.PROVIDER_ID,this.auth=tn(u)}verifyPhoneNumber(u,p){return qo(this.auth,u,(0,G.m9)(p))}static credential(u,p){return ji._fromVerification(u,p)}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{phoneNumber:p,temporaryProof:_}=u;return p&&_?ji._fromTokenResponse(p,_):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function el(f,c){return c?at(c):(ee(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class Yu extends Be{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return Ss(c,this._buildIdpRequest())}_linkToIdToken(c,u){return Ss(c,this._buildIdpRequest(u))}_getReauthenticationResolver(c){return Ss(c,this._buildIdpRequest())}_buildIdpRequest(c){const u={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(u.idToken=c),u}}function V_(f){return Vo(f.auth,new Yu(f),f.bypassAuthState)}function UI(f){const{auth:c,user:u}=f;return ee(u,c,"internal-error"),Ga(u,new Yu(f),f.bypassAuthState)}function ls(f){return qf.apply(this,arguments)}function qf(){return(qf=(0,w.Z)(function*(f){const{auth:c,user:u}=f;return ee(u,c,"internal-error"),za(u,new Yu(f),f.bypassAuthState)})).apply(this,arguments)}class yc{constructor(c,u,p,_,v=!1){this.auth=c,this.resolver=p,this.user=_,this.bypassAuthState=v,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(u)?u:[u]}execute(){var c=this;return new Promise(function(){var u=(0,w.Z)(function*(p,_){c.pendingPromise={resolve:p,reject:_};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(v){c.reject(v)}});return function(p,_){return u.apply(this,arguments)}}())}onAuthEvent(c){var u=this;return(0,w.Z)(function*(){const{urlResponse:p,sessionId:_,postBody:v,tenantId:R,error:F,type:K}=c;if(F)return void u.reject(F);const he={auth:u.auth,requestUri:p,sessionId:_,tenantId:R||void 0,postBody:v||void 0,user:u.user,bypassAuthState:u.bypassAuthState};try{u.resolve(yield u.getIdpTask(K)(he))}catch(Te){u.reject(Te)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return V_;case"linkViaPopup":case"linkViaRedirect":return ls;case"reauthViaPopup":case"reauthViaRedirect":return UI;default:Pt(this.auth,"internal-error")}}resolve(c){Jt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){Jt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Gf=new rs(2e3,1e4);function vc(){return(vc=(0,w.Z)(function*(f,c,u){const p=tn(f);ot(f,c,Vt);const _=el(p,u);return new Ju(p,"signInViaPopup",c,_).executeNotNull()})).apply(this,arguments)}function Kf(){return(Kf=(0,w.Z)(function*(f,c,u){const p=(0,G.m9)(f);ot(p.auth,c,Vt);const _=el(p.auth,u);return new Ju(p.auth,"reauthViaPopup",c,_,p).executeNotNull()})).apply(this,arguments)}function Xu(){return(Xu=(0,w.Z)(function*(f,c,u){const p=(0,G.m9)(f);ot(p.auth,c,Vt);const _=el(p.auth,u);return new Ju(p.auth,"linkViaPopup",c,_,p).executeNotNull()})).apply(this,arguments)}let Ju=(()=>{class f extends yc{constructor(u,p,_,v,R){super(u,p,v,R),this.provider=_,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var u=this;return(0,w.Z)(function*(){const p=yield u.execute();return ee(p,u.auth,"internal-error"),p})()}onExecution(){var u=this;return(0,w.Z)(function*(){Jt(1===u.filter.length,"Popup operations only handle one event");const p=Qa();u.authWindow=yield u.resolver._openPopup(u.auth,u.provider,u.filter[0],p),u.authWindow.associatedEvent=p,u.resolver._originValidation(u.auth).catch(_=>{u.reject(_)}),u.resolver._isIframeWebStorageSupported(u.auth,_=>{_||u.reject(zt(u.auth,"web-storage-unsupported"))}),u.pollUserCancellation()})()}get eventId(){var u;return(null===(u=this.authWindow)||void 0===u?void 0:u.associatedEvent)||null}cancel(){this.reject(zt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const u=()=>{var p,_;this.pollId=null!==(_=null===(p=this.authWindow)||void 0===p?void 0:p.window)&&void 0!==_&&_.closed?window.setTimeout(()=>{this.pollId=null,this.reject(zt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(u,Gf.get())};u()}}return f.currentPopupAction=null,f})();const U_="pendingRedirect",Ec=new Map;class ed extends yc{constructor(c,u,p=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],u,void 0,p),this.eventId=null}execute(){var c=()=>super.execute,u=this;return(0,w.Z)(function*(){let p=Ec.get(u.auth._key());if(!p){try{const v=(yield function Go(f,c){return Zf.apply(this,arguments)}(u.resolver,u.auth))?yield c().call(u):null;p=()=>Promise.resolve(v)}catch(_){p=()=>Promise.reject(_)}Ec.set(u.auth._key(),p)}return u.bypassAuthState||Ec.set(u.auth._key(),()=>Promise.resolve(null)),p()})()}onAuthEvent(c){var u=()=>super.onAuthEvent,p=this;return(0,w.Z)(function*(){if("signInViaRedirect"===c.type)return u().call(p,c);if("unknown"!==c.type){if(c.eventId){const _=yield p.auth._redirectUserForId(c.eventId);if(_)return p.user=_,u().call(p,c);p.resolve(null)}}else p.resolve(null)})()}onExecution(){return(0,w.Z)(function*(){})()}cleanUp(){}}function Zf(){return(Zf=(0,w.Z)(function*(f,c){const u=rd(c),p=Ct(f);if(!(yield p._isAvailable()))return!1;const _="true"===(yield p._get(u));return yield p._remove(u),_})).apply(this,arguments)}function td(f,c){return nd.apply(this,arguments)}function nd(){return(nd=(0,w.Z)(function*(f,c){return Ct(f)._set(rd(c),"true")})).apply(this,arguments)}function Qf(f,c){Ec.set(f._key(),c)}function Ct(f){return at(f._redirectPersistence)}function rd(f){return Yn(U_,f.config.apiKey,f.name)}function $I(f,c,u){return function $_(f,c,u){return Wo.apply(this,arguments)}(f,c,u)}function Wo(){return(Wo=(0,w.Z)(function*(f,c,u){const p=tn(f);ot(f,c,Vt),yield p._initializationPromise;const _=el(p,u);return yield td(_,p),_._openRedirect(p,c,"signInViaRedirect")})).apply(this,arguments)}function nl(f,c,u){return function rl(f,c,u){return no.apply(this,arguments)}(f,c,u)}function no(){return(no=(0,w.Z)(function*(f,c,u){const p=(0,G.m9)(f);ot(p.auth,c,Vt),yield p.auth._initializationPromise;const _=el(p.auth,u);yield td(_,p.auth);const v=yield jI(p);return _._openRedirect(p.auth,c,"reauthViaRedirect",v)})).apply(this,arguments)}function j_(f,c,u){return function Yf(f,c,u){return ro.apply(this,arguments)}(f,c,u)}function ro(){return(ro=(0,w.Z)(function*(f,c,u){const p=(0,G.m9)(f);ot(p.auth,c,Vt),yield p.auth._initializationPromise;const _=el(p.auth,u);yield Xe(!1,p,c.providerId),yield td(_,p.auth);const v=yield jI(p);return _._openRedirect(p.auth,c,"linkViaRedirect",v)})).apply(this,arguments)}function Xf(){return(Xf=(0,w.Z)(function*(f,c){return yield tn(f)._initializationPromise,de(f,c,!1)})).apply(this,arguments)}function de(f,c){return H_.apply(this,arguments)}function H_(){return(H_=(0,w.Z)(function*(f,c,u=!1){const p=tn(f),_=el(p,c),R=yield new ed(p,_,u).execute();return R&&!u&&(delete R.user._redirectEventId,yield p._persistUserIfCurrent(R.user),yield p._setRedirectUser(null,c)),R})).apply(this,arguments)}function jI(f){return z_.apply(this,arguments)}function z_(){return(z_=(0,w.Z)(function*(f){const c=Qa(`${f.uid}:::`);return f._redirectEventId=c,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),c})).apply(this,arguments)}class HI{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let u=!1;return this.consumers.forEach(p=>{this.isEventForConsumer(c,p)&&(u=!0,this.sendToConsumer(c,p),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function wc(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qI(f);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,u||(this.queuedRedirectEvent=c,u=!0)),u}sendToConsumer(c,u){var p;if(c.error&&!qI(c)){const _=(null===(p=c.error.code)||void 0===p?void 0:p.split("auth/")[1])||"internal-error";u.onError(zt(this.auth,_))}else u.onAuthEvent(c)}isEventForConsumer(c,u){const p=null===u.eventId||!!c.eventId&&c.eventId===u.eventId;return u.filter.includes(c.type)&&p}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zI(c))}saveEventToCache(c){this.cachedEventUids.add(zI(c)),this.lastProcessedEventTime=Date.now()}}function zI(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(c=>c).join("-")}function qI({type:f,error:c}){return"unknown"===f&&"auth/no-auth-event"===c?.code}function GI(f){return q_.apply(this,arguments)}function q_(){return(q_=(0,w.Z)(function*(f,c={}){return z(f,"GET","/v1/projects",c)})).apply(this,arguments)}const Hn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jf=/^https?/;function ep(){return(ep=(0,w.Z)(function*(f){if(f.config.emulator)return;const{authorizedDomains:c}=yield GI(f);for(const u of c)try{if(xi(u))return}catch{}Pt(f,"unauthorized-domain")})).apply(this,arguments)}function xi(f){const c=Un(),{protocol:u,hostname:p}=new URL(c);if(f.startsWith("chrome-extension://")){const R=new URL(f);return""===R.hostname&&""===p?"chrome-extension:"===u&&f.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===u&&R.hostname===p}if(!Jf.test(u))return!1;if(Hn.test(f))return p===f;const _=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_+"|"+_+")$","i").test(p)}const Ko=new rs(3e4,6e4);function tp(){const f=Bt().___jsl;if(f?.H)for(const c of Object.keys(f.H))if(f.H[c].r=f.H[c].r||[],f.H[c].L=f.H[c].L||[],f.H[c].r=[...f.H[c].L],f.CP)for(let u=0;u<f.CP.length;u++)f.CP[u]=null}let io=null;const GR=new rs(5e3,15e3),KI="__/auth/iframe",WR="emulator/auth/iframe",yi={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},np=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function il(f){const c=f.config;ee(c.authDomain,f,"auth-domain-config-required");const u=c.emulator?U(c,WR):`https://${f.config.authDomain}/${KI}`,p={apiKey:c.apiKey,appName:f.name,v:qe.SDK_VERSION},_=np.get(f.config.apiHost);_&&(p.eid=_);const v=f._getFrameworks();return v.length&&(p.fw=v.join(",")),`${u}?${(0,G.xO)(p).slice(1)}`}function sd(){return sd=(0,w.Z)(function*(f){const c=yield function WI(f){return io=io||function id(f){return new Promise((c,u)=>{var p,_,v;function R(){tp(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{tp(),u(zt(f,"network-request-failed"))},timeout:Ko.get()})}if(null!==(_=null===(p=Bt().gapi)||void 0===p?void 0:p.iframes)&&void 0!==_&&_.Iframe)c(gapi.iframes.getContext());else{if(null===(v=Bt().gapi)||void 0===v||!v.load){const F=cI("iframefcb");return Bt()[F]=()=>{gapi.load?R():u(zt(f,"network-request-failed"))},lf(`https://apis.google.com/js/api.js?onload=${F}`).catch(K=>u(K))}R()}}).catch(c=>{throw io=null,c})}(f),io}(f),u=Bt().gapi;return ee(u,f,"internal-error"),c.open({where:document.body,url:il(f),messageHandlersFilter:u.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yi,dontclear:!0},p=>new Promise(function(){var _=(0,w.Z)(function*(v,R){yield p.restyle({setHideOnLeave:!1});const F=zt(f,"network-request-failed"),K=Bt().setTimeout(()=>{R(F)},GR.get());function he(){Bt().clearTimeout(K),v(p)}p.ping(he).then(he,()=>{R(F)})});return function(v,R){return _.apply(this,arguments)}}()))}),sd.apply(this,arguments)}const ZI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QI=500,YI=600,XI="_blank",JI="http://localhost";class G_{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ad="__/auth/handler",so="emulator/auth/handler",W_=encodeURIComponent("fac");function oo(f,c,u,p,_,v){return ip.apply(this,arguments)}function ip(){return(ip=(0,w.Z)(function*(f,c,u,p,_,v){ee(f.config.authDomain,f,"auth-domain-config-required"),ee(f.config.apiKey,f,"invalid-api-key");const R={apiKey:f.config.apiKey,appName:f.name,authType:u,redirectUrl:p,v:qe.SDK_VERSION,eventId:_};if(c instanceof Vt){c.setDefaultLanguage(f.languageCode),R.providerId=c.providerId||"",(0,G.xb)(c.getCustomParameters())||(R.customParameters=JSON.stringify(c.getCustomParameters()));for(const[Te,Se]of Object.entries(v||{}))R[Te]=Se}if(c instanceof Ua){const Te=c.getScopes().filter(Se=>""!==Se);Te.length>0&&(R.scopes=Te.join(","))}f.tenantId&&(R.tid=f.tenantId);const F=R;for(const Te of Object.keys(F))void 0===F[Te]&&delete F[Te];const K=yield f._getAppCheckToken(),he=K?`#${W_}=${encodeURIComponent(K)}`:"";return`${function K_({config:f}){return f.emulator?U(f,so):`https://${f.authDomain}/${ad}`}(f)}?${(0,G.xO)(F).slice(1)}${he}`})).apply(this,arguments)}const Zo="webStorageSupport",sp=class ld{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ms,this._completeRedirectFn=de,this._overrideRedirectResult=Qf}_openPopup(c,u,p,_){var v=this;return(0,w.Z)(function*(){var R;Jt(null===(R=v.eventManagers[c._key()])||void 0===R?void 0:R.manager,"_initialize() not called before _openPopup()");const F=yield oo(c,u,p,Un(),_);return function rp(f,c,u,p=QI,_=YI){const v=Math.max((window.screen.availHeight-_)/2,0).toString(),R=Math.max((window.screen.availWidth-p)/2,0).toString();let F="";const K=Object.assign(Object.assign({},ZI),{width:p.toString(),height:_.toString(),top:v,left:R}),he=(0,G.z$)().toLowerCase();u&&(F=af(he)?XI:u),Ui(he)&&(c=c||JI,K.scrollbars="yes");const Te=Object.entries(K).reduce((rn,[vi,cl])=>`${rn}${vi}=${cl},`,"");if(function Nt(f=(0,G.z$)()){var c;return ve(f)&&!(null===(c=window.navigator)||void 0===c||!c.standalone)}(he)&&"_self"!==F)return function od(f,c){const u=document.createElement("a");u.href=f,u.target=c;const p=document.createEvent("MouseEvent");p.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),u.dispatchEvent(p)}(c||"",F),new G_(null);const Se=window.open(c||"",F,Te);ee(Se,f,"popup-blocked");try{Se.focus()}catch{}return new G_(Se)}(c,F,Qa())})()}_openRedirect(c,u,p,_){var v=this;return(0,w.Z)(function*(){return yield v._originValidation(c),function RI(f){Bt().location.href=f}(yield oo(c,u,p,Un(),_)),new Promise(()=>{})})()}_initialize(c){const u=c._key();if(this.eventManagers[u]){const{manager:_,promise:v}=this.eventManagers[u];return _?Promise.resolve(_):(Jt(v,"If manager is not set, promise should be"),v)}const p=this.initAndGetManager(c);return this.eventManagers[u]={promise:p},p.catch(()=>{delete this.eventManagers[u]}),p}initAndGetManager(c){var u=this;return(0,w.Z)(function*(){const p=yield function KR(f){return sd.apply(this,arguments)}(c),_=new HI(c);return p.register("authEvent",v=>(ee(v?.authEvent,c,"invalid-auth-event"),{status:_.onEvent(v.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),u.eventManagers[c._key()]={manager:_},u.iframes[c._key()]=p,_})()}_isIframeWebStorageSupported(c,u){this.iframes[c._key()].send(Zo,{type:Zo},_=>{var v;const R=null===(v=_?.[0])||void 0===v?void 0:v[Zo];void 0!==R&&u(!!R),Pt(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const u=c._key();return this.originValidationPromises[u]||(this.originValidationPromises[u]=function Ic(f){return ep.apply(this,arguments)}(c)),this.originValidationPromises[u]}get _shouldInitProactively(){return Kt()||is()||ve()}};class eb{constructor(c){this.factorId=c}_process(c,u,p){switch(u.type){case"enroll":return this._finalizeEnroll(c,u.credential,p);case"signin":return this._finalizeSignIn(c,u.credential);default:return un("unexpected MultiFactorSessionType")}}}class op extends eb{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new op(c)}_finalizeEnroll(c,u,p){return function R_(f,c){return z(f,"POST","/v2/accounts/mfaEnrollment:finalize",ne(f,c))}(c,{idToken:u,displayName:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,u){return function NI(f,c){return z(f,"POST","/v2/accounts/mfaSignIn:finalize",ne(f,c))}(c,{mfaPendingCredential:u,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let sl=(()=>{class f{constructor(){}static assertion(u){return op._fromCredential(u)}}return f.FACTOR_ID="phone",f})();var Z_="@firebase/auth";class rb{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var u=this;return(0,w.Z)(function*(){return u.assertAuthConfigured(),yield u.auth._initializationPromise,u.auth.currentUser?{accessToken:yield u.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const u=this.auth.onIdTokenChanged(p=>{c(p?.stsTokenManager.accessToken||null)});this.internalListeners.set(c,u),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const u=this.internalListeners.get(c);u&&(this.internalListeners.delete(c),u(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ao(){return window}(0,G.Pz)("authIdTokenMaxAge"),function sb(f){(0,qe._registerComponent)(new En.wA("auth",(c,{options:u})=>{const p=c.getProvider("app").getImmediate(),_=c.getProvider("heartbeat"),v=c.getProvider("app-check-internal"),{apiKey:R,authDomain:F}=p.options;ee(R&&!R.includes(":"),"invalid-api-key",{appName:p.name});const K={apiKey:R,authDomain:F,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sc(f)},he=new IR(p,_,v,K);return function hI(f,c){const u=c?.persistence||[],p=(Array.isArray(u)?u:[u]).map(at);c?.errorMap&&f._updateErrorMap(c.errorMap),f._initializeWithPersistence(p,c?.popupRedirectResolver)}(he,u),he},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,u,p)=>{c.getProvider("auth-internal").initialize()})),(0,qe._registerComponent)(new En.wA("auth-internal",c=>{const u=tn(c.getProvider("auth").getImmediate());return new rb(u)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,qe.registerVersion)(Z_,"1.5.1",function ib(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(f)),(0,qe.registerVersion)(Z_,"1.5.1","esm2017")}("Browser");const ZR=2e3;function lp(){return lp=(0,w.Z)(function*(f,c,u){var p;const{BuildInfo:_}=ao();Jt(c.sessionId,"AuthEvent did not contain a session ID");const v=yield function XR(f){return ty.apply(this,arguments)}(c.sessionId),R={};return ve()?R.ibi=_.packageName:I()?R.apn=_.packageName:Pt(f,"operation-not-supported-in-this-environment"),_.displayName&&(R.appDisplayName=_.displayName),R.sessionId=v,oo(f,u,c.type,void 0,null!==(p=c.eventId)&&void 0!==p?p:void 0,R)}),lp.apply(this,arguments)}function J_(){return(J_=(0,w.Z)(function*(f){const{BuildInfo:c}=ao(),u={};ve()?u.iosBundleId=c.packageName:I()?u.androidPackageName=c.packageName:Pt(f,"operation-not-supported-in-this-environment"),yield GI(f,u)})).apply(this,arguments)}function ey(){return(ey=(0,w.Z)(function*(f,c,u){const{cordova:p}=ao();let _=()=>{};try{yield new Promise((v,R)=>{let F=null;function K(){var Se;v();const rn=null===(Se=p.plugins.browsertab)||void 0===Se?void 0:Se.close;"function"==typeof rn&&rn(),"function"==typeof u?.close&&u.close()}function he(){F||(F=window.setTimeout(()=>{R(zt(f,"redirect-cancelled-by-user"))},ZR))}function Te(){"visible"===document?.visibilityState&&he()}c.addPassiveListener(K),document.addEventListener("resume",he,!1),I()&&document.addEventListener("visibilitychange",Te,!1),_=()=>{c.removePassiveListener(K),document.removeEventListener("resume",he,!1),document.removeEventListener("visibilitychange",Te,!1),F&&window.clearTimeout(F)}})}finally{_()}})).apply(this,arguments)}function ty(){return(ty=(0,w.Z)(function*(f){const c=function JR(f){if(Jt(/[0-9a-zA-Z]+/.test(f),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(f);const c=new ArrayBuffer(f.length),u=new Uint8Array(c);for(let p=0;p<f.length;p++)u[p]=f.charCodeAt(p);return u}(f),u=yield crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(u)).map(_=>_.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const ab=20;class ny extends HI{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(c=>{this.resolveInialized=c})}addPassiveListener(c){this.passiveListeners.add(c)}removePassiveListener(c){this.passiveListeners.delete(c)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(c){return this.resolveInialized(),this.passiveListeners.forEach(u=>u(c)),super.onEvent(c)}initialized(){var c=this;return(0,w.Z)(function*(){yield c.initPromise})()}}function hp(f){return dd.apply(this,arguments)}function dd(){return(dd=(0,w.Z)(function*(f){const c=yield fp()._get(pp(f));return c&&(yield fp()._remove(pp(f))),c})).apply(this,arguments)}function lb(){const f=[],c="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let u=0;u<ab;u++){const p=Math.floor(Math.random()*c.length);f.push(c.charAt(p))}return f.join("")}function fp(){return at(ju)}function pp(f){return Yn("authEvent",f.config.apiKey,f.name)}function hd(f){if(!f?.includes("?"))return{};const[c,...u]=f.split("?");return(0,G.zd)(u.join("?"))}const sy=class ub{constructor(){this._redirectPersistence=Ms,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=de,this._overrideRedirectResult=Qf}_initialize(c){var u=this;return(0,w.Z)(function*(){const p=c._key();let _=u.eventManagers.get(p);return _||(_=new ny(c),u.eventManagers.set(p,_),u.attachCallbackListeners(c,_)),_})()}_openPopup(c){Pt(c,"operation-not-supported-in-this-environment")}_openRedirect(c,u,p,_){var v=this;return(0,w.Z)(function*(){!function YR(f){var c,u,p,_,v,R,F,K,he,Te;const Se=ao();ee("function"==typeof(null===(c=Se?.universalLinks)||void 0===c?void 0:c.subscribe),f,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ee(typeof(null===(u=Se?.BuildInfo)||void 0===u?void 0:u.packageName)<"u",f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ee("function"==typeof(null===(v=null===(_=null===(p=Se?.cordova)||void 0===p?void 0:p.plugins)||void 0===_?void 0:_.browsertab)||void 0===v?void 0:v.openUrl),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(K=null===(F=null===(R=Se?.cordova)||void 0===R?void 0:R.plugins)||void 0===F?void 0:F.browsertab)||void 0===K?void 0:K.isAvailable),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(Te=null===(he=Se?.cordova)||void 0===he?void 0:he.InAppBrowser)||void 0===Te?void 0:Te.open),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(c);const R=yield v._initialize(c);yield R.initialized(),R.resetRedirect(),function tl(){Ec.clear()}(),yield v._originValidation(c);const F=function dp(f,c,u=null){return{type:c,eventId:u,urlResponse:null,sessionId:lb(),postBody:null,tenantId:f.tenantId,error:zt(f,"no-auth-event")}}(c,p,_);yield function ry(f,c){return fp()._set(pp(f),c)}(c,F);const K=yield function ob(f,c,u){return lp.apply(this,arguments)}(c,F,u),he=yield function QR(f){const{cordova:c}=ao();return new Promise(u=>{c.plugins.browsertab.isAvailable(p=>{let _=null;p?c.plugins.browsertab.openUrl(f):_=c.InAppBrowser.open(f,function gt(f=(0,G.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}()?"_blank":"_system","location=yes"),u(_)})})}(K);return function up(f,c,u){return ey.apply(this,arguments)}(c,R,he)})()}_isIframeWebStorageSupported(c,u){throw new Error("Method not implemented.")}_originValidation(c){const u=c._key();return this.originValidationPromises[u]||(this.originValidationPromises[u]=function cp(f){return J_.apply(this,arguments)}(c)),this.originValidationPromises[u]}attachCallbackListeners(c,u){const{universalLinks:p,handleOpenURL:_,BuildInfo:v}=ao(),R=setTimeout((0,w.Z)(function*(){yield hp(c),u.onEvent(oy())}),500),F=function(){var Te=(0,w.Z)(function*(Se){clearTimeout(R);const rn=yield hp(c);let vi=null;rn&&Se?.url&&(vi=function Xr(f,c){var u,p;const _=function mp(f){const c=hd(f),u=c.link?decodeURIComponent(c.link):void 0,p=hd(u).link,_=c.deep_link_id?decodeURIComponent(c.deep_link_id):void 0;return hd(_).link||_||p||u||f}(c);if(_.includes("/__/auth/callback")){const v=hd(_),R=v.firebaseError?function iy(f){try{return JSON.parse(f)}catch{return null}}(decodeURIComponent(v.firebaseError)):null,F=null===(p=null===(u=R?.code)||void 0===u?void 0:u.split("auth/"))||void 0===p?void 0:p[1],K=F?zt(F):null;return K?{type:f.type,eventId:f.eventId,tenantId:f.tenantId,error:K,urlResponse:null,sessionId:null,postBody:null}:{type:f.type,eventId:f.eventId,tenantId:f.tenantId,sessionId:f.sessionId,urlResponse:_,postBody:null}}return null}(rn,Se.url)),u.onEvent(vi||oy())});return function(rn){return Te.apply(this,arguments)}}();typeof p<"u"&&"function"==typeof p.subscribe&&p.subscribe(null,F);const K=_,he=`${v.packageName.toLowerCase()}://`;ao().handleOpenURL=function(){var Te=(0,w.Z)(function*(Se){if(Se.toLowerCase().startsWith(he)&&F({url:Se}),"function"==typeof K)try{K(Se)}catch(rn){console.error(rn)}});return function(Se){return Te.apply(this,arguments)}}()}};function oy(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:zt("no-auth-event")}}const ay=1e3;function Qo(){var f;return(null===(f=self?.location)||void 0===f?void 0:f.protocol)||null}function ol(f=(0,G.z$)()){return!("file:"!==Qo()&&"ionic:"!==Qo()&&"capacitor:"!==Qo()||!f.toLowerCase().match(/iphone|ipad|ipod|android/))}function dy(){try{const f=self.localStorage,c=Qa();if(f)return f.setItem(c,"1"),f.removeItem(c),!function uy(f=(0,G.z$)()){return function cy(){return(0,G.w1)()&&11===document?.documentMode}()||function hb(f=(0,G.z$)()){return/Edge\/\d+/.test(f)}(f)}()||(0,G.hl)()}catch{return fd()&&(0,G.hl)()}return!1}function fd(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function _p(){return(function Cr(){return"http:"===Qo()||"https:"===Qo()}()||(0,G.ru)()||ol())&&!function ly(){return(0,G.b$)()||(0,G.UG)()}()&&dy()&&!fd()}function yp(){return ol()&&typeof document<"u"}function vp(){return(vp=(0,w.Z)(function*(){return!!yp()&&new Promise(f=>{const c=setTimeout(()=>{f(!1)},ay);document.addEventListener("deviceready",()=>{clearTimeout(c),f(!0)})})})).apply(this,arguments)}const Vr={LOCAL:"local",NONE:"none",SESSION:"session"},Cc=ee,al="persistence";function wp(f){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,w.Z)(function*(f){yield f._initializationPromise;const c=bp(),u=Yn(al,f.config.apiKey,f.name);c&&c.setItem(u,f._getPersistence())})).apply(this,arguments)}function bp(){var f;try{return(null===(f=function Ep(){return typeof window<"u"?window:null}())||void 0===f?void 0:f.sessionStorage)||null}catch{return null}}const ll=ee;class cs{constructor(){this.browserResolver=at(sp),this.cordovaResolver=at(sy),this.underlyingResolver=null,this._redirectPersistence=Ms,this._completeRedirectFn=de,this._overrideRedirectResult=Qf}_initialize(c){var u=this;return(0,w.Z)(function*(){return yield u.selectUnderlyingResolver(),u.assertedUnderlyingResolver._initialize(c)})()}_openPopup(c,u,p,_){var v=this;return(0,w.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._openPopup(c,u,p,_)})()}_openRedirect(c,u,p,_){var v=this;return(0,w.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._openRedirect(c,u,p,_)})()}_isIframeWebStorageSupported(c,u){this.assertedUnderlyingResolver._isIframeWebStorageSupported(c,u)}_originValidation(c){return this.assertedUnderlyingResolver._originValidation(c)}get _shouldInitProactively(){return yp()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ll(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var c=this;return(0,w.Z)(function*(){if(c.underlyingResolver)return;const u=yield function fb(){return vp.apply(this,arguments)}();c.underlyingResolver=u?c.cordovaResolver:c.browserResolver})()}}function Cp(f){return f.unwrap()}function Dp(f){return hy(f)}function hy(f){const{_tokenResponse:c}=f instanceof G.ZR?f.customData:f;if(!c)return null;if(!(f instanceof G.ZR)&&"temporaryProof"in c&&"phoneNumber"in c)return to.credentialFromResult(f);const u=c.providerId;if(!u||u===ft.PASSWORD)return null;let p;switch(u){case ft.GOOGLE:p=kr;break;case ft.FACEBOOK:p=ue;break;case ft.GITHUB:p=kt;break;case ft.TWITTER:p=yf;break;default:const{oauthIdToken:_,oauthAccessToken:v,oauthTokenSecret:R,pendingToken:F,nonce:K}=c;return v||R||_||F?F?u.startsWith("saml.")?jn._create(u,F):Xn._fromParams({providerId:u,signInMethod:u,pendingToken:F,idToken:_,accessToken:v}):new Fo(u).credential({idToken:_,accessToken:v,rawNonce:K}):null}return f instanceof G.ZR?p.credentialFromError(f):p.credentialFromResult(f)}function ei(f,c){return c.catch(u=>{throw u instanceof G.ZR&&function gb(f,c){var u;const p=null===(u=c.customData)||void 0===u?void 0:u._tokenResponse;if("auth/multi-factor-auth-required"===c?.code)c.resolver=new _b(f,function TI(f,c){var u;const p=(0,G.m9)(f),_=c;return ee(c.customData.operationType,p,"argument-error"),ee(null===(u=_.customData._serverResponse)||void 0===u?void 0:u.mfaPendingCredential,p,"argument-error"),Rf._fromError(p,_)}(f,c));else if(p){const _=hy(c),v=c;_&&(v.credential=_,v.tenantId=p.tenantId||void 0,v.email=p.email||void 0,v.phoneNumber=p.phoneNumber||void 0)}}(f,u),u}).then(u=>{const _=u.user;return{operationType:u.operationType,credential:Dp(u),additionalUserInfo:Uu(u),user:us.getOrCreate(_)}})}function Tp(f,c){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,w.Z)(function*(f,c){const u=yield c;return{verificationId:u.verificationId,confirm:p=>ei(f,u.confirm(p))}})).apply(this,arguments)}class _b{constructor(c,u){this.resolver=u,this.auth=function mb(f){return f.wrapped()}(c)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(c){return ei(Cp(this.auth),this.resolver.resolveSignIn(c))}}class us{constructor(c){this._delegate=c,this.multiFactor=function xn(f){const c=(0,G.m9)(f);return wn.has(c)||wn.set(c,_t._fromUser(c)),wn.get(c)}(c)}static getOrCreate(c){return us.USER_MAP.has(c)||us.USER_MAP.set(c,new us(c)),us.USER_MAP.get(c)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(c){return this._delegate.getIdTokenResult(c)}getIdToken(c){return this._delegate.getIdToken(c)}linkAndRetrieveDataWithCredential(c){return this.linkWithCredential(c)}linkWithCredential(c){var u=this;return(0,w.Z)(function*(){return ei(u.auth,Hi(u._delegate,c))})()}linkWithPhoneNumber(c,u){var p=this;return(0,w.Z)(function*(){return Tp(p.auth,function O_(f,c,u){return zo.apply(this,arguments)}(p._delegate,c,u))})()}linkWithPopup(c){var u=this;return(0,w.Z)(function*(){return ei(u.auth,function B_(f,c,u){return Xu.apply(this,arguments)}(u._delegate,c,cs))})()}linkWithRedirect(c){var u=this;return(0,w.Z)(function*(){return yield wp(tn(u.auth)),j_(u._delegate,c,cs)})()}reauthenticateAndRetrieveDataWithCredential(c){return this.reauthenticateWithCredential(c)}reauthenticateWithCredential(c){var u=this;return(0,w.Z)(function*(){return ei(u.auth,Ef(u._delegate,c))})()}reauthenticateWithPhoneNumber(c,u){return Tp(this.auth,function F_(f,c,u){return Zu.apply(this,arguments)}(this._delegate,c,u))}reauthenticateWithPopup(c){return ei(this.auth,function Wf(f,c,u){return Kf.apply(this,arguments)}(this._delegate,c,cs))}reauthenticateWithRedirect(c){var u=this;return(0,w.Z)(function*(){return yield wp(tn(u.auth)),nl(u._delegate,c,cs)})()}sendEmailVerification(c){return function VR(f,c){return b_.apply(this,arguments)}(this._delegate,c)}unlink(c){var u=this;return(0,w.Z)(function*(){return yield function Ha(f,c){return hn.apply(this,arguments)}(u._delegate,c),u})()}updateEmail(c){return function wI(f,c){return Df((0,G.m9)(f),c,null)}(this._delegate,c)}updatePassword(c){return function D_(f,c){return Df((0,G.m9)(f),null,c)}(this._delegate,c)}updatePhoneNumber(c){return function Qu(f,c){return _c.apply(this,arguments)}(this._delegate,c)}updateProfile(c){return function C_(f,c){return Cf.apply(this,arguments)}(this._delegate,c)}verifyBeforeUpdateEmail(c,u){return function LR(f,c,u){return Rs.apply(this,arguments)}(this._delegate,c,u)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}us.USER_MAP=new WeakMap;const Yo=ee;let Ap=(()=>{class f{constructor(u,p){if(this.app=u,p.isInitialized())return this._delegate=p.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:_}=u.options;Yo(_,"invalid-api-key",{appName:u.name}),Yo(_,"invalid-api-key",{appName:u.name});const v=typeof window<"u"?cs:void 0;this._delegate=p.initialize({options:{persistence:yb(_,u.name),popupRedirectResolver:v}}),this._delegate._updateErrorMap(cr),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?us.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(u){this._delegate.languageCode=u}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(u){this._delegate.tenantId=u}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(u,p){!function uf(f,c,u){const p=tn(f);ee(p._canInitEmulator,p,"emulator-config-failed"),ee(/^https?:\/\//.test(c),p,"invalid-emulator-scheme");const _=!!u?.disableWarnings,v=oc(c),{host:R,port:F}=function df(f){const c=oc(f),u=/(\/\/)?([^?#/]+)/.exec(f.substr(c.length));if(!u)return{host:"",port:null};const p=u[2].split("@").pop()||"",_=/^(\[[^\]]+\])(:|$)/.exec(p);if(_){const v=_[1];return{host:v,port:hf(p.substr(v.length+1))}}{const[v,R]=p.split(":");return{host:v,port:hf(R)}}}(c);p.config.emulator={url:`${v}//${R}${null===F?"":`:${F}`}/`},p.settings.appVerificationDisabledForTesting=!0,p.emulatorConfig=Object.freeze({host:R,port:F,protocol:v.replace(":",""),options:Object.freeze({disableWarnings:_})}),_||function fI(){function f(){const c=document.createElement("p"),u=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",u.position="fixed",u.width="100%",u.backgroundColor="#ffffff",u.border=".1em solid #000000",u.color="#b50000",u.bottom="0px",u.left="0px",u.margin="0px",u.zIndex="10000",u.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}(this._delegate,u,p)}applyActionCode(u){return function vI(f,c){return m_.apply(this,arguments)}(this._delegate,u)}checkActionCode(u){return g_(this._delegate,u)}confirmPasswordReset(u,p){return function Lu(f,c,u){return gi.apply(this,arguments)}(this._delegate,u,p)}createUserWithEmailAndPassword(u,p){var _=this;return(0,w.Z)(function*(){return ei(_._delegate,function xR(f,c,u){return y_.apply(this,arguments)}(_._delegate,u,p))})()}fetchProvidersForEmail(u){return this.fetchSignInMethodsForEmail(u)}fetchSignInMethodsForEmail(u){return function I_(f,c){return Bu.apply(this,arguments)}(this._delegate,u)}isSignInWithEmailLink(u){return function kR(f,c){return"EMAIL_SIGNIN"===uc.parseLink(c)?.operation}(0,u)}getRedirectResult(){var u=this;return(0,w.Z)(function*(){Yo(_p(),u._delegate,"operation-not-supported-in-this-environment");const p=yield function zR(f,c){return Xf.apply(this,arguments)}(u._delegate,cs);return p?ei(u._delegate,Promise.resolve(p)):{credential:null,user:null}})()}addFrameworkForLogging(u){!function db(f,c){tn(f)._logFramework(c)}(this._delegate,u)}onAuthStateChanged(u,p,_){const{next:v,error:R,complete:F}=pd(u,p,_);return this._delegate.onAuthStateChanged(v,R,F)}onIdTokenChanged(u,p,_){const{next:v,error:R,complete:F}=pd(u,p,_);return this._delegate.onIdTokenChanged(v,R,F)}sendSignInLinkToEmail(u,p){return function NR(f,c,u){return v_.apply(this,arguments)}(this._delegate,u,p)}sendPasswordResetEmail(u,p){return function If(f,c,u){return Bo.apply(this,arguments)}(this._delegate,u,p||void 0)}setPersistence(u){var p=this;return(0,w.Z)(function*(){let _;switch(function pb(f,c){Cc(Object.values(Vr).includes(c),f,"invalid-persistence-type"),(0,G.b$)()?Cc(c!==Vr.SESSION,f,"unsupported-persistence-type"):(0,G.UG)()?Cc(c===Vr.NONE,f,"unsupported-persistence-type"):fd()?Cc(c===Vr.NONE||c===Vr.LOCAL&&(0,G.hl)(),f,"unsupported-persistence-type"):Cc(c===Vr.NONE||dy(),f,"unsupported-persistence-type")}(p._delegate,u),u){case Vr.SESSION:_=Ms;break;case Vr.LOCAL:_=(yield at(Xa)._isAvailable())?Xa:ju;break;case Vr.NONE:_=en;break;default:return Pt("argument-error",{appName:p._delegate.name})}return p._delegate.setPersistence(_)})()}signInAndRetrieveDataWithCredential(u){return this.signInWithCredential(u)}signInAnonymously(){return ei(this._delegate,function rt(f){return nn.apply(this,arguments)}(this._delegate))}signInWithCredential(u){return ei(this._delegate,Qs(this._delegate,u))}signInWithCustomToken(u){return ei(this._delegate,function p_(f,c){return Wa.apply(this,arguments)}(this._delegate,u))}signInWithEmailAndPassword(u,p){return ei(this._delegate,function PR(f,c,u){return Qs((0,G.m9)(f),_f.credential(c,u)).catch(function(){var p=(0,w.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&Or(f),_});return function(_){return p.apply(this,arguments)}}())}(this._delegate,u,p))}signInWithEmailLink(u,p){return ei(this._delegate,function OR(f,c,u){return E_.apply(this,arguments)}(this._delegate,u,p))}signInWithPhoneNumber(u,p){return Tp(this._delegate,function Hf(f,c,u){return Ku.apply(this,arguments)}(this._delegate,u,p))}signInWithPopup(u){var p=this;return(0,w.Z)(function*(){return Yo(_p(),p._delegate,"operation-not-supported-in-this-environment"),ei(p._delegate,function L_(f,c,u){return vc.apply(this,arguments)}(p._delegate,u,cs))})()}signInWithRedirect(u){var p=this;return(0,w.Z)(function*(){return Yo(_p(),p._delegate,"operation-not-supported-in-this-environment"),yield wp(p._delegate),$I(p._delegate,u,cs)})()}updateCurrentUser(u){return this._delegate.updateCurrentUser(u)}verifyPasswordResetCode(u){return function MR(f,c){return __.apply(this,arguments)}(this._delegate,u)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return f.Persistence=Vr,f})();function pd(f,c,u){let p=f;"function"!=typeof f&&({next:p,error:c,complete:u}=f);const _=p;return{next:R=>_(R&&us.getOrCreate(R)),error:c,complete:u}}function yb(f,c){const u=function Ip(f,c){const u=bp();if(!u)return[];const p=Yn(al,f,c);switch(u.getItem(p)){case Vr.NONE:return[en];case Vr.LOCAL:return[Xa,Ms];case Vr.SESSION:return[Ms];default:return[]}}(f,c);if(typeof self<"u"&&!u.includes(Xa)&&u.push(Xa),typeof window<"u")for(const p of[ju,Ms])u.includes(p)||u.push(p);return u.includes(en)||u.push(en),u}class Rp{constructor(){this.providerId="phone",this._delegate=new to(Cp(He.Z.auth()))}static credential(c,u){return to.credential(c,u)}verifyPhoneNumber(c,u){return this._delegate.verifyPhoneNumber(c,u)}unwrap(){return this._delegate}}Rp.PHONE_SIGN_IN_METHOD=to.PHONE_SIGN_IN_METHOD,Rp.PROVIDER_ID=to.PROVIDER_ID;const fy=ee;class py{constructor(c,u,p=He.Z.app()){var _;fy(null===(_=p.options)||void 0===_?void 0:_.apiKey,"invalid-api-key",{appName:p.name}),this._delegate=new BI(p.auth(),c,u),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function my(f){f.INTERNAL.registerComponent(new En.wA("auth-compat",c=>{const u=c.getProvider("app-compat").getImmediate(),p=c.getProvider("auth");return new Ap(u,p)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Re_EMAIL_SIGNIN,PASSWORD_RESET:Re_PASSWORD_RESET,RECOVER_EMAIL:Re_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Re_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Re_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Re_VERIFY_EMAIL}},EmailAuthProvider:_f,FacebookAuthProvider:ue,GithubAuthProvider:kt,GoogleAuthProvider:kr,OAuthProvider:Fo,SAMLAuthProvider:Ir,PhoneAuthProvider:Rp,PhoneMultiFactorGenerator:sl,RecaptchaVerifier:py,TwitterAuthProvider:yf,Auth:Ap,AuthCredential:Be,Error:G.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),f.registerVersion("@firebase/auth-compat","0.5.1")}(He.Z)},861:(bs,ar,Qe)=>{function w(G,qe,Tt,cn,En,lr,ft){try{var te=G[lr](ft),ce=te.value}catch(Re){return void Tt(Re)}te.done?qe(ce):Promise.resolve(ce).then(cn,En)}function He(G){return function(){var qe=this,Tt=arguments;return new Promise(function(cn,En){var lr=G.apply(qe,Tt);function ft(ce){w(lr,cn,En,ft,te,"next",ce)}function te(ce){w(lr,cn,En,ft,te,"throw",ce)}ft(void 0)})}}Qe.d(ar,{Z:()=>He})},582:(bs,ar,Qe)=>{function qe(U,H){var j={};for(var Q in U)Object.prototype.hasOwnProperty.call(U,Q)&&H.indexOf(Q)<0&&(j[Q]=U[Q]);if(null!=U&&"function"==typeof Object.getOwnPropertySymbols){var ne=0;for(Q=Object.getOwnPropertySymbols(U);ne<Q.length;ne++)H.indexOf(Q[ne])<0&&Object.prototype.propertyIsEnumerable.call(U,Q[ne])&&(j[Q[ne]]=U[Q[ne]])}return j}function Re(U,H,j,Q){return new(j||(j=Promise))(function(z,_e){function Et(bt){try{Oe(Q.next(bt))}catch(dn){_e(dn)}}function ye(bt){try{Oe(Q.throw(bt))}catch(dn){_e(dn)}}function Oe(bt){bt.done?z(bt.value):function ne(z){return z instanceof j?z:new j(function(_e){_e(z)})}(bt.value).then(Et,ye)}Oe((Q=Q.apply(U,H||[])).next())})}function Xt(U){return this instanceof Xt?(this.v=U,this):new Xt(U)}function Pt(U,H,j){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ne,Q=j.apply(U,H||[]),z=[];return ne={},_e("next"),_e("throw"),_e("return"),ne[Symbol.asyncIterator]=function(){return this},ne;function _e(Gt){Q[Gt]&&(ne[Gt]=function(vr){return new Promise(function(Zn,Pr){z.push([Gt,vr,Zn,Pr])>1||Et(Gt,vr)})})}function Et(Gt,vr){try{!function ye(Gt){Gt.value instanceof Xt?Promise.resolve(Gt.value.v).then(Oe,bt):dn(z[0][2],Gt)}(Q[Gt](vr))}catch(Zn){dn(z[0][3],Zn)}}function Oe(Gt){Et("next",Gt)}function bt(Gt){Et("throw",Gt)}function dn(Gt,vr){Gt(vr),z.shift(),z.length&&Et(z[0][0],z[0][1])}}function Gr(U){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var j,H=U[Symbol.asyncIterator];return H?H.call(U):(U=function xt(U){var H="function"==typeof Symbol&&Symbol.iterator,j=H&&U[H],Q=0;if(j)return j.call(U);if(U&&"number"==typeof U.length)return{next:function(){return U&&Q>=U.length&&(U=void 0),{value:U&&U[Q++],done:!U}}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.")}(U),j={},Q("next"),Q("throw"),Q("return"),j[Symbol.asyncIterator]=function(){return this},j);function Q(z){j[z]=U[z]&&function(_e){return new Promise(function(Et,ye){!function ne(z,_e,Et,ye){Promise.resolve(ye).then(function(Oe){z({value:Oe,done:Et})},_e)}(Et,ye,(_e=U[z](_e)).done,_e.value)})}}}Qe.d(ar,{FC:()=>Pt,KL:()=>Gr,_T:()=>qe,mG:()=>Re,qq:()=>Xt}),"function"==typeof SuppressedError&&SuppressedError}},bs=>{bs(bs.s=558)}]);